window.jest_html_reporters_callback__({"numFailedTestSuites":24,"numFailedTests":199,"numPassedTestSuites":21,"numPassedTests":445,"numPendingTestSuites":0,"numPendingTests":1,"numRuntimeErrorTestSuites":1,"numTodoTests":0,"numTotalTestSuites":45,"numTotalTests":645,"startTime":1769890785245,"success":false,"testResults":[{"numFailingTests":27,"numPassingTests":14,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890820526,"runtime":19787,"slow":true,"start":1769890800739},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts","failureMessage":"  â— RestaurantCardComponent - Quick Actions â€º GET_DIRECTIONS Action â€º should emit GET_DIRECTIONS action when directions button clicked\n\n    ReferenceError: spyOn is not defined\n\n      43 |   describe('GET_DIRECTIONS Action', () => {\n      44 |     it('should emit GET_DIRECTIONS action when directions button clicked', () => {\n    > 45 |       spyOn(component.action, 'emit');\n         |       ^\n      46 |       \n      47 |       const event = new MouseEvent('click');\n      48 |       component.onAction(event, 'GET_DIRECTIONS');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:45:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º GET_DIRECTIONS Action â€º should stop event propagation on directions click\n\n    ReferenceError: spyOn is not defined\n\n      56 |     it('should stop event propagation on directions click', () => {\n      57 |       const event = new MouseEvent('click');\n    > 58 |       spyOn(event, 'stopPropagation');\n         |       ^\n      59 |       \n      60 |       component.onAction(event, 'GET_DIRECTIONS');\n      61 |       \n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:58:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º GET_DIRECTIONS Action â€º should prevent default on directions click\n\n    ReferenceError: spyOn is not defined\n\n      65 |     it('should prevent default on directions click', () => {\n      66 |       const event = new MouseEvent('click');\n    > 67 |       spyOn(event, 'preventDefault');\n         |       ^\n      68 |       \n      69 |       component.onAction(event, 'GET_DIRECTIONS');\n      70 |       \n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:67:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º GET_DIRECTIONS Action â€º should render directions button as always enabled\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n      74 |     it('should render directions button as always enabled', () => {\n      75 |       const button = fixture.nativeElement.querySelector('[title=\"Get directions\"]');\n    > 76 |       expect(button).toBeTruthy();\n         |                      ^\n      77 |       expect(button.disabled).toBe(false);\n      78 |     });\n      79 |\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:76:22\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º GET_DIRECTIONS Action â€º should render directions button with correct icon\n\n    TypeError: Cannot read properties of null (reading 'textContent')\n\n      80 |     it('should render directions button with correct icon', () => {\n      81 |       const button = fixture.nativeElement.querySelector('[title=\"Get directions\"]');\n    > 82 |       expect(button.textContent).toContain('ðŸ“');\n         |                     ^\n      83 |     });\n      84 |\n      85 |     it('should have aria-label for directions button', () => {\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:82:21\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º GET_DIRECTIONS Action â€º should have aria-label for directions button\n\n    TypeError: Cannot read properties of null (reading 'getAttribute')\n\n      85 |     it('should have aria-label for directions button', () => {\n      86 |       const button = fixture.nativeElement.querySelector('[title=\"Get directions\"]');\n    > 87 |       expect(button.getAttribute('aria-label')).toBe('Get directions to restaurant');\n         |                     ^\n      88 |     });\n      89 |   });\n      90 |\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:87:21\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º CALL_RESTAURANT Action â€º should emit CALL_RESTAURANT action when call button clicked\n\n    ReferenceError: spyOn is not defined\n\n      91 |   describe('CALL_RESTAURANT Action', () => {\n      92 |     it('should emit CALL_RESTAURANT action when call button clicked', () => {\n    > 93 |       spyOn(component.action, 'emit');\n         |       ^\n      94 |       \n      95 |       const event = new MouseEvent('click');\n      96 |       component.onAction(event, 'CALL_RESTAURANT');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:93:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º CALL_RESTAURANT Action â€º should stop event propagation on call click\n\n    ReferenceError: spyOn is not defined\n\n      104 |     it('should stop event propagation on call click', () => {\n      105 |       const event = new MouseEvent('click');\n    > 106 |       spyOn(event, 'stopPropagation');\n          |       ^\n      107 |       \n      108 |       component.onAction(event, 'CALL_RESTAURANT');\n      109 |       \n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:106:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º CALL_RESTAURANT Action â€º should disable call button when no phone number\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      116 |       \n      117 |       const button = fixture.nativeElement.querySelector('[title=\"Call restaurant\"]');\n    > 118 |       expect(button.disabled).toBe(true);\n          |                               ^\n      119 |     });\n      120 |\n      121 |     it('should enable call button when phone number exists', () => {\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:118:31\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º CALL_RESTAURANT Action â€º should have aria-label for call button\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Call restaurant\"\n    Received: \"Call Test Restaurant\"\n\n      131 |     it('should have aria-label for call button', () => {\n      132 |       const button = fixture.nativeElement.querySelector('[title=\"Call restaurant\"]');\n    > 133 |       expect(button.getAttribute('aria-label')).toBe('Call restaurant');\n          |                                                 ^\n      134 |     });\n      135 |\n      136 |     it('should handle empty phone number string', () => {\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:133:49\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º CALL_RESTAURANT Action â€º should handle empty phone number string\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      139 |       \n      140 |       const button = fixture.nativeElement.querySelector('[title=\"Call restaurant\"]');\n    > 141 |       expect(button.disabled).toBe(true);\n          |                               ^\n      142 |     });\n      143 |   });\n      144 |\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:141:31\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º SAVE_FAVORITE Action â€º should emit SAVE_FAVORITE action when favorite button clicked\n\n    ReferenceError: spyOn is not defined\n\n      145 |   describe('SAVE_FAVORITE Action', () => {\n      146 |     it('should emit SAVE_FAVORITE action when favorite button clicked', () => {\n    > 147 |       spyOn(component.action, 'emit');\n          |       ^\n      148 |       \n      149 |       const event = new MouseEvent('click');\n      150 |       component.onAction(event, 'SAVE_FAVORITE');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:147:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º SAVE_FAVORITE Action â€º should stop event propagation on favorite click\n\n    ReferenceError: spyOn is not defined\n\n      158 |     it('should stop event propagation on favorite click', () => {\n      159 |       const event = new MouseEvent('click');\n    > 160 |       spyOn(event, 'stopPropagation');\n          |       ^\n      161 |       \n      162 |       component.onAction(event, 'SAVE_FAVORITE');\n      163 |       \n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:160:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º SAVE_FAVORITE Action â€º should have aria-label for favorite button\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Save to favorites\"\n    Received: \"Save Test Restaurant to favorites\"\n\n      178 |     it('should have aria-label for favorite button', () => {\n      179 |       const button = fixture.nativeElement.querySelector('[title=\"Save to favorites\"]');\n    > 180 |       expect(button.getAttribute('aria-label')).toBe('Save to favorites');\n          |                                                 ^\n      181 |     });\n      182 |   });\n      183 |\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:180:49\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Multiple Action Clicks â€º should handle clicking all actions sequentially\n\n    ReferenceError: spyOn is not defined\n\n      208 |   describe('Multiple Action Clicks', () => {\n      209 |     it('should handle clicking all actions sequentially', () => {\n    > 210 |       spyOn(component.action, 'emit');\n          |       ^\n      211 |       \n      212 |       const event1 = new MouseEvent('click');\n      213 |       const event2 = new MouseEvent('click');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:210:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Multiple Action Clicks â€º should handle clicking the same action multiple times\n\n    ReferenceError: spyOn is not defined\n\n      222 |\n      223 |     it('should handle clicking the same action multiple times', () => {\n    > 224 |       spyOn(component.action, 'emit');\n          |       ^\n      225 |       \n      226 |       const event1 = new MouseEvent('click');\n      227 |       const event2 = new MouseEvent('click');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:224:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Event Propagation â€º should NOT trigger card click when action clicked\n\n    ReferenceError: spyOn is not defined\n\n      240 |   describe('Event Propagation', () => {\n      241 |     it('should NOT trigger card click when action clicked', () => {\n    > 242 |       spyOn(component.restaurantClick, 'emit');\n          |       ^\n      243 |       \n      244 |       const event = new MouseEvent('click');\n      245 |       spyOn(event, 'stopPropagation');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:242:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Event Propagation â€º should stop propagation for all action types\n\n    ReferenceError: spyOn is not defined\n\n      260 |       actions.forEach(actionType => {\n      261 |         const event = new MouseEvent('click');\n    > 262 |         spyOn(event, 'stopPropagation');\n          |         ^\n      263 |         \n      264 |         component.onAction(event, actionType);\n      265 |         \n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:262:9\n          at Array.forEach (<anonymous>)\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:260:15\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Restaurant Data Binding â€º should use current restaurant data in action emit\n\n    ReferenceError: spyOn is not defined\n\n      271 |   describe('Restaurant Data Binding', () => {\n      272 |     it('should use current restaurant data in action emit', () => {\n    > 273 |       spyOn(component.action, 'emit');\n          |       ^\n      274 |       \n      275 |       const event = new MouseEvent('click');\n      276 |       component.onAction(event, 'GET_DIRECTIONS');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:273:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Restaurant Data Binding â€º should update action payload when restaurant changes\n\n    ReferenceError: spyOn is not defined\n\n      291 |       fixture.detectChanges();\n      292 |       \n    > 293 |       spyOn(component.action, 'emit');\n          |       ^\n      294 |       \n      295 |       const event = new MouseEvent('click');\n      296 |       component.onAction(event, 'SAVE_FAVORITE');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:293:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Accessibility â€º should have title attributes for tooltips\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"Get directions\"\n    Received: \"Navigate to restaurant\"\n\n      314 |       const buttons = fixture.nativeElement.querySelectorAll('.action-button');\n      315 |       \n    > 316 |       expect(buttons[0].getAttribute('title')).toBe('Get directions');\n          |                                                ^\n      317 |       expect(buttons[1].getAttribute('title')).toBe('Call restaurant');\n      318 |       expect(buttons[2].getAttribute('title')).toBe('Save to favorites');\n      319 |     });\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:316:48\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Edge Cases â€º should handle minimal restaurant data\n\n    ReferenceError: spyOn is not defined\n\n      371 |       fixture.detectChanges();\n      372 |       \n    > 373 |       spyOn(component.action, 'emit');\n          |       ^\n      374 |       \n      375 |       const event = new MouseEvent('click');\n      376 |       component.onAction(event, 'GET_DIRECTIONS');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:373:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Edge Cases â€º should handle rapid successive action clicks\n\n    ReferenceError: spyOn is not defined\n\n      380 |\n      381 |     it('should handle rapid successive action clicks', () => {\n    > 382 |       spyOn(component.action, 'emit');\n          |       ^\n      383 |       \n      384 |       // Simulate rapid clicking\n      385 |       for (let i = 0; i < 10; i++) {\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:382:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Visual Feedback â€º should have special class for favorite button\n\n    expect(received).toBeTruthy()\n\n    Received: null\n\n      404 |     it('should have special class for favorite button', () => {\n      405 |       const favoriteButton = fixture.nativeElement.querySelector('.action-button.favorite');\n    > 406 |       expect(favoriteButton).toBeTruthy();\n          |                              ^\n      407 |     });\n      408 |   });\n      409 |\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:406:30\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Integration with Card â€º should NOT emit restaurantClick when action clicked\n\n    ReferenceError: spyOn is not defined\n\n      410 |   describe('Integration with Card', () => {\n      411 |     it('should NOT emit restaurantClick when action clicked', () => {\n    > 412 |       spyOn(component.restaurantClick, 'emit');\n          |       ^\n      413 |       spyOn(component.action, 'emit');\n      414 |       \n      415 |       const event = new MouseEvent('click');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:412:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Integration with Card â€º should emit restaurantClick when card body clicked\n\n    ReferenceError: spyOn is not defined\n\n      421 |\n      422 |     it('should emit restaurantClick when card body clicked', () => {\n    > 423 |       spyOn(component.restaurantClick, 'emit');\n          |       ^\n      424 |       \n      425 |       component.onCardClick();\n      426 |       \n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:423:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent - Quick Actions â€º Integration with Card â€º should have separate click handlers for card and actions\n\n    ReferenceError: spyOn is not defined\n\n      429 |\n      430 |     it('should have separate click handlers for card and actions', () => {\n    > 431 |       spyOn(component.restaurantClick, 'emit');\n          |       ^\n      432 |       spyOn(component.action, 'emit');\n      433 |       \n      434 |       // Click card\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card-actions.spec.ts:431:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["RestaurantCardComponent - Quick Actions"],"duration":1800,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions should create","status":"passed","title":"should create"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","GET_DIRECTIONS Action"],"duration":111,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:45:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions GET_DIRECTIONS Action should emit GET_DIRECTIONS action when directions button clicked","status":"failed","title":"should emit GET_DIRECTIONS action when directions button clicked"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","GET_DIRECTIONS Action"],"duration":149,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:58:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions GET_DIRECTIONS Action should stop event propagation on directions click","status":"failed","title":"should stop event propagation on directions click"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","GET_DIRECTIONS Action"],"duration":102,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:67:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions GET_DIRECTIONS Action should prevent default on directions click","status":"failed","title":"should prevent default on directions click"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","GET_DIRECTIONS Action"],"duration":154,"failureMessages":["Error: expect(received).toBeTruthy()\n\nReceived: null\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:76:22\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions GET_DIRECTIONS Action should render directions button as always enabled","status":"failed","title":"should render directions button as always enabled"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","GET_DIRECTIONS Action"],"duration":107,"failureMessages":["TypeError: Cannot read properties of null (reading 'textContent')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:82:21\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions GET_DIRECTIONS Action should render directions button with correct icon","status":"failed","title":"should render directions button with correct icon"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","GET_DIRECTIONS Action"],"duration":123,"failureMessages":["TypeError: Cannot read properties of null (reading 'getAttribute')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:87:21\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions GET_DIRECTIONS Action should have aria-label for directions button","status":"failed","title":"should have aria-label for directions button"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","CALL_RESTAURANT Action"],"duration":73,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:93:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions CALL_RESTAURANT Action should emit CALL_RESTAURANT action when call button clicked","status":"failed","title":"should emit CALL_RESTAURANT action when call button clicked"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","CALL_RESTAURANT Action"],"duration":83,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:106:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions CALL_RESTAURANT Action should stop event propagation on call click","status":"failed","title":"should stop event propagation on call click"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","CALL_RESTAURANT Action"],"duration":129,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:118:31\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions CALL_RESTAURANT Action should disable call button when no phone number","status":"failed","title":"should disable call button when no phone number"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","CALL_RESTAURANT Action"],"duration":51,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions CALL_RESTAURANT Action should enable call button when phone number exists","status":"passed","title":"should enable call button when phone number exists"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","CALL_RESTAURANT Action"],"duration":41,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions CALL_RESTAURANT Action should render call button with correct icon","status":"passed","title":"should render call button with correct icon"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","CALL_RESTAURANT Action"],"duration":40,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"Call restaurant\"\nReceived: \"Call Test Restaurant\"\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:133:49\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions CALL_RESTAURANT Action should have aria-label for call button","status":"failed","title":"should have aria-label for call button"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","CALL_RESTAURANT Action"],"duration":35,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:141:31\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions CALL_RESTAURANT Action should handle empty phone number string","status":"failed","title":"should handle empty phone number string"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","SAVE_FAVORITE Action"],"duration":34,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:147:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions SAVE_FAVORITE Action should emit SAVE_FAVORITE action when favorite button clicked","status":"failed","title":"should emit SAVE_FAVORITE action when favorite button clicked"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","SAVE_FAVORITE Action"],"duration":30,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:160:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions SAVE_FAVORITE Action should stop event propagation on favorite click","status":"failed","title":"should stop event propagation on favorite click"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","SAVE_FAVORITE Action"],"duration":35,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions SAVE_FAVORITE Action should render favorite button as always enabled","status":"passed","title":"should render favorite button as always enabled"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","SAVE_FAVORITE Action"],"duration":64,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions SAVE_FAVORITE Action should render favorite button with correct icon","status":"passed","title":"should render favorite button with correct icon"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","SAVE_FAVORITE Action"],"duration":67,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"Save to favorites\"\nReceived: \"Save Test Restaurant to favorites\"\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:180:49\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions SAVE_FAVORITE Action should have aria-label for favorite button","status":"failed","title":"should have aria-label for favorite button"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Action Button Count and Order"],"duration":48,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions Action Button Count and Order should render exactly 3 quick action buttons","status":"passed","title":"should render exactly 3 quick action buttons"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Action Button Count and Order"],"duration":38,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions Action Button Count and Order should have directions, call, and favorite buttons in that order","status":"passed","title":"should have directions, call, and favorite buttons in that order"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Action Button Count and Order"],"duration":79,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions Action Button Count and Order should all be button elements","status":"passed","title":"should all be button elements"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Multiple Action Clicks"],"duration":45,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:210:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Multiple Action Clicks should handle clicking all actions sequentially","status":"failed","title":"should handle clicking all actions sequentially"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Multiple Action Clicks"],"duration":101,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:224:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Multiple Action Clicks should handle clicking the same action multiple times","status":"failed","title":"should handle clicking the same action multiple times"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Event Propagation"],"duration":75,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:242:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Event Propagation should NOT trigger card click when action clicked","status":"failed","title":"should NOT trigger card click when action clicked"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Event Propagation"],"duration":73,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:262:9\n    at Array.forEach (<anonymous>)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:260:15\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Event Propagation should stop propagation for all action types","status":"failed","title":"should stop propagation for all action types"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Restaurant Data Binding"],"duration":29,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:273:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Restaurant Data Binding should use current restaurant data in action emit","status":"failed","title":"should use current restaurant data in action emit"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Restaurant Data Binding"],"duration":35,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:293:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Restaurant Data Binding should update action payload when restaurant changes","status":"failed","title":"should update action payload when restaurant changes"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Accessibility"],"duration":40,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions Accessibility should have proper button types","status":"passed","title":"should have proper button types"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Accessibility"],"duration":68,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"Get directions\"\nReceived: \"Navigate to restaurant\"\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:316:48\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Accessibility should have title attributes for tooltips","status":"failed","title":"should have title attributes for tooltips"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Accessibility"],"duration":39,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions Accessibility should have aria-labels","status":"passed","title":"should have aria-labels"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Accessibility"],"duration":38,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions Accessibility should be keyboard accessible","status":"passed","title":"should be keyboard accessible"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Edge Cases"],"duration":37,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions Edge Cases should handle restaurant without rating","status":"passed","title":"should handle restaurant without rating"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Edge Cases"],"duration":71,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions Edge Cases should handle restaurant without price level","status":"passed","title":"should handle restaurant without price level"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Edge Cases"],"duration":56,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:373:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Edge Cases should handle minimal restaurant data","status":"failed","title":"should handle minimal restaurant data"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Edge Cases"],"duration":63,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:382:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Edge Cases should handle rapid successive action clicks","status":"failed","title":"should handle rapid successive action clicks"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Visual Feedback"],"duration":92,"failureMessages":[],"fullName":"RestaurantCardComponent - Quick Actions Visual Feedback should have CSS class for action buttons","status":"passed","title":"should have CSS class for action buttons"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Visual Feedback"],"duration":35,"failureMessages":["Error: expect(received).toBeTruthy()\n\nReceived: null\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:406:30\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Visual Feedback should have special class for favorite button","status":"failed","title":"should have special class for favorite button"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Integration with Card"],"duration":42,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:412:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Integration with Card should NOT emit restaurantClick when action clicked","status":"failed","title":"should NOT emit restaurantClick when action clicked"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Integration with Card"],"duration":41,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:423:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Integration with Card should emit restaurantClick when card body clicked","status":"failed","title":"should emit restaurantClick when card body clicked"},{"ancestorTitles":["RestaurantCardComponent - Quick Actions","Integration with Card"],"duration":42,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card-actions.spec.ts:431:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent - Quick Actions Integration with Card should have separate click handlers for card and actions","status":"failed","title":"should have separate click handlers for card and actions"}]},{"numFailingTests":8,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890821197,"runtime":20468,"slow":true,"start":1769890800729},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\pagination.spec.ts","failureMessage":"  â— SearchPage - Client-Side Pagination â€º Initial Display Limit â€º should show 12 results initially when 20 results are returned\n\n    ReferenceError: jasmine is not defined\n\n      17 |   beforeEach(async () => {\n      18 |     // Create mock facade\n    > 19 |     mockFacade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      20 |       'search',\n      21 |       'onClear',\n      22 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/pagination.spec.ts:19:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage - Client-Side Pagination â€º Initial Display Limit â€º should show all results if less than 12 are returned\n\n    ReferenceError: jasmine is not defined\n\n      17 |   beforeEach(async () => {\n      18 |     // Create mock facade\n    > 19 |     mockFacade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      20 |       'search',\n      21 |       'onClear',\n      22 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/pagination.spec.ts:19:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage - Client-Side Pagination â€º Show 5 More Functionality â€º should increase visible count by 5 when loadMore is called\n\n    ReferenceError: jasmine is not defined\n\n      17 |   beforeEach(async () => {\n      18 |     // Create mock facade\n    > 19 |     mockFacade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      20 |       'search',\n      21 |       'onClear',\n      22 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/pagination.spec.ts:19:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage - Client-Side Pagination â€º Show 5 More Functionality â€º should show all remaining results when clicking \"Show 5 more\" near the end\n\n    ReferenceError: jasmine is not defined\n\n      17 |   beforeEach(async () => {\n      18 |     // Create mock facade\n    > 19 |     mockFacade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      20 |       'search',\n      21 |       'onClear',\n      22 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/pagination.spec.ts:19:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage - Client-Side Pagination â€º Show 5 More Functionality â€º should preserve backend ordering when paginating\n\n    ReferenceError: jasmine is not defined\n\n      17 |   beforeEach(async () => {\n      18 |     // Create mock facade\n    > 19 |     mockFacade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      20 |       'search',\n      21 |       'onClear',\n      22 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/pagination.spec.ts:19:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage - Client-Side Pagination â€º Reset on New Search â€º should reset display limit to 12 on new search\n\n    ReferenceError: jasmine is not defined\n\n      17 |   beforeEach(async () => {\n      18 |     // Create mock facade\n    > 19 |     mockFacade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      20 |       'search',\n      21 |       'onClear',\n      22 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/pagination.spec.ts:19:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage - Client-Side Pagination â€º Reset on New Search â€º should reset display limit to 12 when chip is clicked\n\n    ReferenceError: jasmine is not defined\n\n      17 |   beforeEach(async () => {\n      18 |     // Create mock facade\n    > 19 |     mockFacade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      20 |       'search',\n      21 |       'onClear',\n      22 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/pagination.spec.ts:19:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage - Client-Side Pagination â€º Grouped Results Pagination â€º should flatten groups and paginate correctly\n\n    ReferenceError: jasmine is not defined\n\n      17 |   beforeEach(async () => {\n      18 |     // Create mock facade\n    > 19 |     mockFacade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      20 |       'search',\n      21 |       'onClear',\n      22 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/pagination.spec.ts:19:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchPage - Client-Side Pagination","Initial Display Limit"],"duration":69,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\pagination.spec.ts:19:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage - Client-Side Pagination Initial Display Limit should show 12 results initially when 20 results are returned","status":"failed","title":"should show 12 results initially when 20 results are returned"},{"ancestorTitles":["SearchPage - Client-Side Pagination","Initial Display Limit"],"duration":3,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\pagination.spec.ts:19:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage - Client-Side Pagination Initial Display Limit should show all results if less than 12 are returned","status":"failed","title":"should show all results if less than 12 are returned"},{"ancestorTitles":["SearchPage - Client-Side Pagination","Show 5 More Functionality"],"duration":28,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\pagination.spec.ts:19:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage - Client-Side Pagination Show 5 More Functionality should increase visible count by 5 when loadMore is called","status":"failed","title":"should increase visible count by 5 when loadMore is called"},{"ancestorTitles":["SearchPage - Client-Side Pagination","Show 5 More Functionality"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\pagination.spec.ts:19:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage - Client-Side Pagination Show 5 More Functionality should show all remaining results when clicking \"Show 5 more\" near the end","status":"failed","title":"should show all remaining results when clicking \"Show 5 more\" near the end"},{"ancestorTitles":["SearchPage - Client-Side Pagination","Show 5 More Functionality"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\pagination.spec.ts:19:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage - Client-Side Pagination Show 5 More Functionality should preserve backend ordering when paginating","status":"failed","title":"should preserve backend ordering when paginating"},{"ancestorTitles":["SearchPage - Client-Side Pagination","Reset on New Search"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\pagination.spec.ts:19:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage - Client-Side Pagination Reset on New Search should reset display limit to 12 on new search","status":"failed","title":"should reset display limit to 12 on new search"},{"ancestorTitles":["SearchPage - Client-Side Pagination","Reset on New Search"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\pagination.spec.ts:19:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage - Client-Side Pagination Reset on New Search should reset display limit to 12 when chip is clicked","status":"failed","title":"should reset display limit to 12 when chip is clicked"},{"ancestorTitles":["SearchPage - Client-Side Pagination","Grouped Results Pagination"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\pagination.spec.ts:19:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage - Client-Side Pagination Grouped Results Pagination should flatten groups and paginate correctly","status":"failed","title":"should flatten groups and paginate correctly"}]},{"numFailingTests":13,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890821439,"runtime":20715,"slow":true,"start":1769890800724},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts","failureMessage":"  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Sort Chips (Single-Select Behavior) â€º should activate \"Rating\" sort and deactivate \"Best Match\"\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Sort Chips (Single-Select Behavior) â€º should activate \"Closest\" sort and deactivate \"Rating\"\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Sort Chips (Single-Select Behavior) â€º should only have ONE sort chip active at any time\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Filter Chips (Multi-Select Behavior) â€º should NOT affect sort state when clicking \"Budget\" filter\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Filter Chips (Multi-Select Behavior) â€º should allow multiple filters to be active simultaneously\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Filter Chips (Multi-Select Behavior) â€º should toggle filter off when clicked again (multi-select toggle)\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º State Independence â€º should maintain sort and filter states independently\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º State Independence â€º should not affect other states when toggling a filter off\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Mode Changes â€º should update chips when mode changes to RECOVERY\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Mode Changes â€º should update chips when mode changes to CLARIFY\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Visual Feedback â€º should apply .active class to active sort chip\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Visual Feedback â€º should apply .active class to active filter chips (multiple)\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E State Management (UI/UX Contract) â€º Visual Feedback â€º should remove .active class when sort chip is deactivated\n\n    ReferenceError: jasmine is not defined\n\n      19 |     const currentView = signal<'LIST' | 'MAP'>('LIST');\n      20 |\n    > 21 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      22 |       'search',\n      23 |       'onChipClick',\n      24 |       'selectRestaurant'\n\n      at src/app/features/unified-search/search-page/search-page-state-management.spec.ts:21:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Sort Chips (Single-Select Behavior)"],"duration":92,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Sort Chips (Single-Select Behavior) should activate \"Rating\" sort and deactivate \"Best Match\"","status":"failed","title":"should activate \"Rating\" sort and deactivate \"Best Match\""},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Sort Chips (Single-Select Behavior)"],"duration":3,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Sort Chips (Single-Select Behavior) should activate \"Closest\" sort and deactivate \"Rating\"","status":"failed","title":"should activate \"Closest\" sort and deactivate \"Rating\""},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Sort Chips (Single-Select Behavior)"],"duration":3,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Sort Chips (Single-Select Behavior) should only have ONE sort chip active at any time","status":"failed","title":"should only have ONE sort chip active at any time"},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Filter Chips (Multi-Select Behavior)"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Filter Chips (Multi-Select Behavior) should NOT affect sort state when clicking \"Budget\" filter","status":"failed","title":"should NOT affect sort state when clicking \"Budget\" filter"},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Filter Chips (Multi-Select Behavior)"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Filter Chips (Multi-Select Behavior) should allow multiple filters to be active simultaneously","status":"failed","title":"should allow multiple filters to be active simultaneously"},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Filter Chips (Multi-Select Behavior)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Filter Chips (Multi-Select Behavior) should toggle filter off when clicked again (multi-select toggle)","status":"failed","title":"should toggle filter off when clicked again (multi-select toggle)"},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","State Independence"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) State Independence should maintain sort and filter states independently","status":"failed","title":"should maintain sort and filter states independently"},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","State Independence"],"duration":3,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) State Independence should not affect other states when toggling a filter off","status":"failed","title":"should not affect other states when toggling a filter off"},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Mode Changes"],"duration":13,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Mode Changes should update chips when mode changes to RECOVERY","status":"failed","title":"should update chips when mode changes to RECOVERY"},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Mode Changes"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Mode Changes should update chips when mode changes to CLARIFY","status":"failed","title":"should update chips when mode changes to CLARIFY"},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Visual Feedback"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Visual Feedback should apply .active class to active sort chip","status":"failed","title":"should apply .active class to active sort chip"},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Visual Feedback"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Visual Feedback should apply .active class to active filter chips (multiple)","status":"failed","title":"should apply .active class to active filter chips (multiple)"},{"ancestorTitles":["SearchPageComponent - E2E State Management (UI/UX Contract)","Visual Feedback"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-state-management.spec.ts:21:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E State Management (UI/UX Contract) Visual Feedback should remove .active class when sort chip is deactivated","status":"failed","title":"should remove .active class when sort chip is deactivated"}]},{"numFailingTests":7,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890824949,"runtime":2697,"slow":false,"start":1769890822252},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\opennow-filter.spec.ts","failureMessage":"  â— SearchPage: OpenNow Filter â€º should filter out closed places when open_now is in appliedFilters\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/opennow-filter.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: OpenNow Filter â€º should NOT filter places when open_now is NOT in appliedFilters\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/opennow-filter.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: OpenNow Filter â€º should filter flatResults (grouped view) when open_now is active\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/opennow-filter.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: OpenNow Filter â€º should show visual indicator when openNow filter is active\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/opennow-filter.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: OpenNow Filter â€º should NOT show visual indicator when openNow filter is NOT active\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/opennow-filter.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: OpenNow Filter â€º should handle edge case: all places are closed when filter is active\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/opennow-filter.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: OpenNow Filter â€º should handle places with openNow=UNKNOWN correctly\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/opennow-filter.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchPage: OpenNow Filter"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\opennow-filter.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: OpenNow Filter should filter out closed places when open_now is in appliedFilters","status":"failed","title":"should filter out closed places when open_now is in appliedFilters"},{"ancestorTitles":["SearchPage: OpenNow Filter"],"duration":4,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\opennow-filter.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: OpenNow Filter should NOT filter places when open_now is NOT in appliedFilters","status":"failed","title":"should NOT filter places when open_now is NOT in appliedFilters"},{"ancestorTitles":["SearchPage: OpenNow Filter"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\opennow-filter.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: OpenNow Filter should filter flatResults (grouped view) when open_now is active","status":"failed","title":"should filter flatResults (grouped view) when open_now is active"},{"ancestorTitles":["SearchPage: OpenNow Filter"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\opennow-filter.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: OpenNow Filter should show visual indicator when openNow filter is active","status":"failed","title":"should show visual indicator when openNow filter is active"},{"ancestorTitles":["SearchPage: OpenNow Filter"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\opennow-filter.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: OpenNow Filter should NOT show visual indicator when openNow filter is NOT active","status":"failed","title":"should NOT show visual indicator when openNow filter is NOT active"},{"ancestorTitles":["SearchPage: OpenNow Filter"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\opennow-filter.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: OpenNow Filter should handle edge case: all places are closed when filter is active","status":"failed","title":"should handle edge case: all places are closed when filter is active"},{"ancestorTitles":["SearchPage: OpenNow Filter"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\opennow-filter.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: OpenNow Filter should handle places with openNow=UNKNOWN correctly","status":"failed","title":"should handle places with openNow=UNKNOWN correctly"}]},{"numFailingTests":10,"numPassingTests":9,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890825313,"runtime":4482,"slow":false,"start":1769890820831},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts","failureMessage":"  â— RestaurantCardComponent â€º should display restaurant address\n\n    TypeError: Cannot read properties of null (reading 'textContent')\n\n      49 |   it('should display restaurant address', () => {\n      50 |     const address = fixture.nativeElement.querySelector('.restaurant-address');\n    > 51 |     expect(address.textContent).toBe('123 Main St, City');\n         |                    ^\n      52 |   });\n      53 |\n      54 |   it('should display rating', () => {\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:51:20\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent â€º should display rating\n\n    TypeError: Cannot read properties of null (reading 'textContent')\n\n      54 |   it('should display rating', () => {\n      55 |     const rating = fixture.nativeElement.querySelector('.rating-value');\n    > 56 |     expect(rating.textContent.trim()).toBe('4.5');\n         |                   ^\n      57 |   });\n      58 |\n      59 |   it('should display rating stars', () => {\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:56:19\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent â€º should display rating count\n\n    TypeError: Cannot read properties of null (reading 'textContent')\n\n      64 |   it('should display rating count', () => {\n      65 |     const count = fixture.nativeElement.querySelector('.rating-count');\n    > 66 |     expect(count.textContent).toContain('250');\n         |                  ^\n      67 |   });\n      68 |\n      69 |   it('should display price level', () => {\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:66:18\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent â€º should display open status\n\n    expect(received).not.toBeNull()\n\n    Received: null\n\n      74 |   it('should display open status', () => {\n      75 |     const openStatus = fixture.nativeElement.querySelector('.open-status.open');\n    > 76 |     expect(openStatus).not.toBeNull();\n         |                            ^\n      77 |     expect(openStatus.textContent.trim()).toBe('Open');\n      78 |   });\n      79 |\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:76:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent â€º should display closed status\n\n    expect(received).not.toBeNull()\n\n    Received: null\n\n      84 |\n      85 |     const closedStatus = fixture.nativeElement.querySelector('.open-status.closed');\n    > 86 |     expect(closedStatus).not.toBeNull();\n         |                              ^\n      87 |     expect(closedStatus.textContent.trim()).toBe('Closed');\n      88 |   });\n      89 |\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:86:30\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent â€º should display photo via proxy\n\n    expect(received).not.toBeNull()\n\n    Received: null\n\n      90 |   it('should display photo via proxy', () => {\n      91 |     const photo = fixture.nativeElement.querySelector('.restaurant-photo');\n    > 92 |     expect(photo).not.toBeNull();\n         |                       ^\n      93 |     // Photo should use backend proxy URL\n      94 |     expect(photo.src).toContain('/photos/places/');\n      95 |     expect(photo.src).toContain('maxWidthPx=');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:92:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent â€º should display tags\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: 2\n    Received: 0\n\n      107 |   it('should display tags', () => {\n      108 |     const tags = fixture.nativeElement.querySelectorAll('.tag');\n    > 109 |     expect(tags.length).toBe(2);\n          |                         ^\n      110 |     expect(tags[0].textContent).toBe('Italian');\n      111 |     expect(tags[1].textContent).toBe('Pizza');\n      112 |   });\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:109:25\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent â€º should emit cardClick on card click\n\n    ReferenceError: spyOn is not defined\n\n      113 |\n      114 |   it('should emit cardClick on card click', () => {\n    > 115 |     spyOn(component.cardClick, 'emit');\n          |     ^\n      116 |\n      117 |     const card = fixture.nativeElement.querySelector('.restaurant-card');\n      118 |     card.click();\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:115:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent â€º should emit actionClick on action button click\n\n    ReferenceError: spyOn is not defined\n\n      122 |\n      123 |   it('should emit actionClick on action button click', () => {\n    > 124 |     spyOn(component.actionClick, 'emit');\n          |     ^\n      125 |\n      126 |     const directionsButton = fixture.nativeElement.querySelectorAll('.action-button')[0];\n      127 |     directionsButton.click();\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:124:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RestaurantCardComponent â€º should not emit cardClick when action button is clicked\n\n    ReferenceError: spyOn is not defined\n\n      134 |\n      135 |   it('should not emit cardClick when action button is clicked', () => {\n    > 136 |     spyOn(component.cardClick, 'emit');\n          |     ^\n      137 |     spyOn(component.actionClick, 'emit');\n      138 |\n      139 |     const actionButton = fixture.nativeElement.querySelector('.action-button');\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:136:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["RestaurantCardComponent"],"duration":330,"failureMessages":[],"fullName":"RestaurantCardComponent should create","status":"passed","title":"should create"},{"ancestorTitles":["RestaurantCardComponent"],"duration":56,"failureMessages":[],"fullName":"RestaurantCardComponent should display restaurant name","status":"passed","title":"should display restaurant name"},{"ancestorTitles":["RestaurantCardComponent"],"duration":82,"failureMessages":["TypeError: Cannot read properties of null (reading 'textContent')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:51:20\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent should display restaurant address","status":"failed","title":"should display restaurant address"},{"ancestorTitles":["RestaurantCardComponent"],"duration":48,"failureMessages":["TypeError: Cannot read properties of null (reading 'textContent')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:56:19\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent should display rating","status":"failed","title":"should display rating"},{"ancestorTitles":["RestaurantCardComponent"],"duration":57,"failureMessages":[],"fullName":"RestaurantCardComponent should display rating stars","status":"passed","title":"should display rating stars"},{"ancestorTitles":["RestaurantCardComponent"],"duration":78,"failureMessages":["TypeError: Cannot read properties of null (reading 'textContent')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:66:18\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent should display rating count","status":"failed","title":"should display rating count"},{"ancestorTitles":["RestaurantCardComponent"],"duration":93,"failureMessages":[],"fullName":"RestaurantCardComponent should display price level","status":"passed","title":"should display price level"},{"ancestorTitles":["RestaurantCardComponent"],"duration":84,"failureMessages":["Error: expect(received).not.toBeNull()\n\nReceived: null\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:76:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent should display open status","status":"failed","title":"should display open status"},{"ancestorTitles":["RestaurantCardComponent"],"duration":77,"failureMessages":["Error: expect(received).not.toBeNull()\n\nReceived: null\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:86:30\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent should display closed status","status":"failed","title":"should display closed status"},{"ancestorTitles":["RestaurantCardComponent"],"duration":108,"failureMessages":["Error: expect(received).not.toBeNull()\n\nReceived: null\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:92:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent should display photo via proxy","status":"failed","title":"should display photo via proxy"},{"ancestorTitles":["RestaurantCardComponent"],"duration":112,"failureMessages":[],"fullName":"RestaurantCardComponent should display placeholder when no photoReference","status":"passed","title":"should display placeholder when no photoReference"},{"ancestorTitles":["RestaurantCardComponent"],"duration":36,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 2\nReceived: 0\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:109:25\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent should display tags","status":"failed","title":"should display tags"},{"ancestorTitles":["RestaurantCardComponent"],"duration":40,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:115:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent should emit cardClick on card click","status":"failed","title":"should emit cardClick on card click"},{"ancestorTitles":["RestaurantCardComponent"],"duration":43,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:124:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent should emit actionClick on action button click","status":"failed","title":"should emit actionClick on action button click"},{"ancestorTitles":["RestaurantCardComponent"],"duration":68,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:136:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent should not emit cardClick when action button is clicked","status":"failed","title":"should not emit cardClick when action button is clicked"},{"ancestorTitles":["RestaurantCardComponent"],"duration":62,"failureMessages":[],"fullName":"RestaurantCardComponent should disable call button when no phone number","status":"passed","title":"should disable call button when no phone number"},{"ancestorTitles":["RestaurantCardComponent"],"duration":30,"failureMessages":[],"fullName":"RestaurantCardComponent should apply selected class when selected","status":"passed","title":"should apply selected class when selected"},{"ancestorTitles":["RestaurantCardComponent"],"duration":33,"failureMessages":[],"fullName":"RestaurantCardComponent should determine correct action level for SAVE_FAVORITE","status":"passed","title":"should determine correct action level for SAVE_FAVORITE"},{"ancestorTitles":["RestaurantCardComponent"],"duration":99,"failureMessages":[],"fullName":"RestaurantCardComponent should determine correct action level for GET_DIRECTIONS","status":"passed","title":"should determine correct action level for GET_DIRECTIONS"}]},{"numFailingTests":12,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890825697,"runtime":24935,"slow":true,"start":1769890800762},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts","failureMessage":"  â— SearchPageComponent - No Duplicate Control Surfaces â€º Single Source of Truth - Chips Row â€º should render exactly ONE chips row on the page\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      51 |       };\n      52 |\n    > 53 |       (facade as any)._searchStore.response.set(mockResponse);\n         |                                    ^\n      54 |       fixture.detectChanges();\n      55 |\n      56 |       // Count all chip containers\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:53:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Single Source of Truth - Chips Row â€º should NOT render old AssistantStripComponent\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      71 |       };\n      72 |\n    > 73 |       (facade as any)._searchStore.response.set(mockResponse);\n         |                                    ^\n      74 |       fixture.detectChanges();\n      75 |\n      76 |       const assistantStrip = fixture.nativeElement.querySelector('app-assistant-strip');\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:73:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Single Source of Truth - Chips Row â€º should NOT render duplicate refinement chips section\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      87 |       };\n      88 |\n    > 89 |       (facade as any)._searchStore.response.set(mockResponse);\n         |                                    ^\n      90 |       fixture.detectChanges();\n      91 |\n      92 |       const refinementChips = fixture.nativeElement.querySelector('.refinement-chips');\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:89:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Single Results List â€º should render exactly ONE results list\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      111 |       };\n      112 |\n    > 113 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      114 |       fixture.detectChanges();\n      115 |\n      116 |       const resultsLists = fixture.nativeElement.querySelectorAll('.results-list');\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:113:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Single Results List â€º should NOT render grouped sections (no EXACT/NEARBY splits)\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      128 |       };\n      129 |\n    > 130 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      131 |       fixture.detectChanges();\n      132 |\n      133 |       const resultGroups = fixture.nativeElement.querySelectorAll('.result-group');\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:130:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Conditional Assistant â€º should NOT show assistant when results exist and confidence is high\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      147 |       };\n      148 |\n    > 149 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      150 |       fixture.detectChanges();\n      151 |\n      152 |       expect(component.showAssistant()).toBe(false);\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:149:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Conditional Assistant â€º should show assistant when no results\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      165 |       };\n      166 |\n    > 167 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      168 |       fixture.detectChanges();\n      169 |\n      170 |       expect(component.showAssistant()).toBe(true);\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:167:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Conditional Assistant â€º should show assistant when confidence is low (<60%)\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      181 |       };\n      182 |\n    > 183 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      184 |       fixture.detectChanges();\n      185 |\n      186 |       expect(component.showAssistant()).toBe(true);\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:183:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Conditional Assistant â€º should show assistant in RECOVERY mode\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      197 |       };\n      198 |\n    > 199 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      200 |       fixture.detectChanges();\n      201 |\n      202 |       expect(component.showAssistant()).toBe(true);\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:199:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Conditional Assistant â€º should show assistant in CLARIFY mode\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      212 |       };\n      213 |\n    > 214 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      215 |       fixture.detectChanges();\n      216 |\n      217 |       expect(component.showAssistant()).toBe(true);\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:214:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Chip Click Behavior â€º should call facade.onChipClick (not open bottom sheet)\n\n    ReferenceError: spyOn is not defined\n\n      221 |   describe('Chip Click Behavior', () => {\n      222 |     it('should call facade.onChipClick (not open bottom sheet)', () => {\n    > 223 |       spyOn(facade, 'onChipClick');\n          |       ^\n      224 |       \n      225 |       component.onChipClick('toprated');\n      226 |       \n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:223:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - No Duplicate Control Surfaces â€º Desktop Panel - No Duplicate Chips â€º should pass empty chips array to desktop panel (no duplication)\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      239 |       };\n      240 |\n    > 241 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      242 |       fixture.detectChanges();\n      243 |\n      244 |       const desktopPanel = fixture.nativeElement.querySelector('app-assistant-desktop-panel');\n\n      at src/app/features/unified-search/search-page/search-page-no-duplication.spec.ts:241:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces"],"duration":3331,"failureMessages":[],"fullName":"SearchPageComponent - No Duplicate Control Surfaces should create","status":"passed","title":"should create"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Single Source of Truth - Chips Row"],"duration":90,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:53:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Single Source of Truth - Chips Row should render exactly ONE chips row on the page","status":"failed","title":"should render exactly ONE chips row on the page"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Single Source of Truth - Chips Row"],"duration":176,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:73:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Single Source of Truth - Chips Row should NOT render old AssistantStripComponent","status":"failed","title":"should NOT render old AssistantStripComponent"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Single Source of Truth - Chips Row"],"duration":140,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:89:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Single Source of Truth - Chips Row should NOT render duplicate refinement chips section","status":"failed","title":"should NOT render duplicate refinement chips section"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Single Results List"],"duration":71,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:113:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Single Results List should render exactly ONE results list","status":"failed","title":"should render exactly ONE results list"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Single Results List"],"duration":63,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:130:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Single Results List should NOT render grouped sections (no EXACT/NEARBY splits)","status":"failed","title":"should NOT render grouped sections (no EXACT/NEARBY splits)"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Conditional Assistant"],"duration":88,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:149:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Conditional Assistant should NOT show assistant when results exist and confidence is high","status":"failed","title":"should NOT show assistant when results exist and confidence is high"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Conditional Assistant"],"duration":73,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:167:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Conditional Assistant should show assistant when no results","status":"failed","title":"should show assistant when no results"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Conditional Assistant"],"duration":121,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:183:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Conditional Assistant should show assistant when confidence is low (<60%)","status":"failed","title":"should show assistant when confidence is low (<60%)"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Conditional Assistant"],"duration":73,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:199:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Conditional Assistant should show assistant in RECOVERY mode","status":"failed","title":"should show assistant in RECOVERY mode"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Conditional Assistant"],"duration":83,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:214:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Conditional Assistant should show assistant in CLARIFY mode","status":"failed","title":"should show assistant in CLARIFY mode"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Chip Click Behavior"],"duration":65,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:223:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Chip Click Behavior should call facade.onChipClick (not open bottom sheet)","status":"failed","title":"should call facade.onChipClick (not open bottom sheet)"},{"ancestorTitles":["SearchPageComponent - No Duplicate Control Surfaces","Desktop Panel - No Duplicate Chips"],"duration":88,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-no-duplication.spec.ts:241:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - No Duplicate Control Surfaces Desktop Panel - No Duplicate Chips should pass empty chips array to desktop panel (no duplication)","status":"failed","title":"should pass empty chips array to desktop panel (no duplication)"}]},{"numFailingTests":6,"numPassingTests":2,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890826326,"runtime":25532,"slow":true,"start":1769890800794},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-mobile-first.spec.ts","failureMessage":"  â— SearchPageComponent - Mobile-First UX â€º should never render two competing result lists\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      58 |\n      59 |     // Mock facade response\n    > 60 |     (facade as any)._searchStore.response.set(mockResponse);\n         |                                  ^\n      61 |     fixture.detectChanges();\n      62 |\n      63 |     const resultLists = fixture.nativeElement.querySelectorAll('.results-list');\n\n      at src/app/features/unified-search/search-page/search-page-mobile-first.spec.ts:60:34\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Mobile-First UX â€º should flatten grouped results preserving order\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      91 |     };\n      92 |\n    > 93 |     (facade as any)._searchStore.response.set(mockResponse);\n         |                                  ^\n      94 |     fixture.detectChanges();\n      95 |\n      96 |     const flat = component.flatResults();\n\n      at src/app/features/unified-search/search-page/search-page-mobile-first.spec.ts:93:34\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Mobile-First UX â€º should open bottom sheet on chip click (mobile)\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: true\n    Received: false\n\n      102 |     fixture.detectChanges();\n      103 |\n    > 104 |     expect(component.bottomSheetVisible()).toBe(true);\n          |                                            ^\n      105 |   });\n      106 |\n      107 |   it('should close bottom sheet when closeBottomSheet is called', () => {\n\n      at src/app/features/unified-search/search-page/search-page-mobile-first.spec.ts:104:44\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Mobile-First UX â€º should generate highlighted results (max 3)\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      131 |     };\n      132 |\n    > 133 |     (facade as any)._searchStore.response.set(mockResponse);\n          |                                  ^\n      134 |     fixture.detectChanges();\n      135 |\n      136 |     const highlighted = component.highlightedResults();\n\n      at src/app/features/unified-search/search-page/search-page-mobile-first.spec.ts:133:34\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Mobile-First UX â€º should hide assistant strip in favor of bottom sheet/panel\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      159 |     };\n      160 |\n    > 161 |     (facade as any)._searchStore.response.set(mockResponse);\n          |                                  ^\n      162 |     fixture.detectChanges();\n      163 |\n      164 |     // Old assistant strip should not exist (replaced by bottom sheet + desktop panel)\n\n      at src/app/features/unified-search/search-page/search-page-mobile-first.spec.ts:161:34\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Mobile-First UX â€º should render chips on mobile\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      188 |     };\n      189 |\n    > 190 |     (facade as any)._searchStore.response.set(mockResponse);\n          |                                  ^\n      191 |     fixture.detectChanges();\n      192 |\n      193 |     const chipsMobile = fixture.nativeElement.querySelector('.chips-mobile');\n\n      at src/app/features/unified-search/search-page/search-page-mobile-first.spec.ts:190:34\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchPageComponent - Mobile-First UX"],"duration":3658,"failureMessages":[],"fullName":"SearchPageComponent - Mobile-First UX should create","status":"passed","title":"should create"},{"ancestorTitles":["SearchPageComponent - Mobile-First UX"],"duration":140,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-mobile-first.spec.ts:60:34\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Mobile-First UX should never render two competing result lists","status":"failed","title":"should never render two competing result lists"},{"ancestorTitles":["SearchPageComponent - Mobile-First UX"],"duration":93,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-mobile-first.spec.ts:93:34\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Mobile-First UX should flatten grouped results preserving order","status":"failed","title":"should flatten grouped results preserving order"},{"ancestorTitles":["SearchPageComponent - Mobile-First UX"],"duration":340,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: true\nReceived: false\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-mobile-first.spec.ts:104:44\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Mobile-First UX should open bottom sheet on chip click (mobile)","status":"failed","title":"should open bottom sheet on chip click (mobile)"},{"ancestorTitles":["SearchPageComponent - Mobile-First UX"],"duration":144,"failureMessages":[],"fullName":"SearchPageComponent - Mobile-First UX should close bottom sheet when closeBottomSheet is called","status":"passed","title":"should close bottom sheet when closeBottomSheet is called"},{"ancestorTitles":["SearchPageComponent - Mobile-First UX"],"duration":619,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-mobile-first.spec.ts:133:34\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Mobile-First UX should generate highlighted results (max 3)","status":"failed","title":"should generate highlighted results (max 3)"},{"ancestorTitles":["SearchPageComponent - Mobile-First UX"],"duration":252,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-mobile-first.spec.ts:161:34\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Mobile-First UX should hide assistant strip in favor of bottom sheet/panel","status":"failed","title":"should hide assistant strip in favor of bottom sheet/panel"},{"ancestorTitles":["SearchPageComponent - Mobile-First UX"],"duration":255,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-mobile-first.spec.ts:190:34\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Mobile-First UX should render chips on mobile","status":"failed","title":"should render chips on mobile"}]},{"numFailingTests":14,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890826416,"runtime":25522,"slow":true,"start":1769890800894},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts","failureMessage":"  â— SearchPageComponent - E2E Flows â€º Complete Flow: Successful Search â†’ Filter â†’ Action â€º should handle complete user journey from search to action\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      64 |       };\n      65 |\n    > 66 |       (facade as any)._searchStore.response.set(mockResponse);\n         |                                    ^\n      67 |       fixture.detectChanges();\n      68 |\n      69 |       // Verify: Results displayed\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:66:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Complete Flow: No Results â†’ Recovery â†’ Expand Search â€º should handle recovery flow when no results found\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      104 |       };\n      105 |\n    > 106 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      107 |       fixture.detectChanges();\n      108 |\n      109 |       // Verify: No results, assistant shown\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:106:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Complete Flow: Ambiguous Query â†’ Clarify â†’ Select City â€º should handle clarification flow\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      139 |       };\n      140 |\n    > 141 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      142 |       fixture.detectChanges();\n      143 |\n      144 |       // Verify: Clarification shown\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:141:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Complete Flow: Multiple Chips â†’ Active State â€º should handle multiple filter applications\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      174 |       };\n      175 |\n    > 176 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      177 |       fixture.detectChanges();\n      178 |\n      179 |       spyOn(facade, 'onChipClick');\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:176:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Complete Flow: CITY Search (No Distance Grouping) â€º should handle city search with single EXACT group\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      218 |       };\n      219 |\n    > 220 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      221 |       fixture.detectChanges();\n      222 |\n      223 |       // Verify: All results in ONE group (not split into EXACT/NEARBY)\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:220:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Complete Flow: STREET Search (Distance Grouping) â€º should handle street search with EXACT and NEARBY groups\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      259 |       };\n      260 |\n    > 261 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      262 |       fixture.detectChanges();\n      263 |\n      264 |       // Verify: Flat results contain both groups\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:261:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Complete Flow: Low Confidence â†’ Assistant Shown â€º should show assistant when confidence is below 60%\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      293 |       };\n      294 |\n    > 295 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      296 |       fixture.detectChanges();\n      297 |\n      298 |       // Verify: Assistant shown for low confidence\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:295:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Complete Flow: High Confidence â†’ Assistant Hidden â€º should hide assistant when results are good\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      320 |       };\n      321 |\n    > 322 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      323 |       fixture.detectChanges();\n      324 |\n      325 |       // Verify: Assistant hidden for good results\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:322:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Complete Flow: Multilingual Support â€º should handle Hebrew query with Hebrew chips\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      346 |       };\n      347 |\n    > 348 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      349 |       fixture.detectChanges();\n      350 |\n      351 |       expect(component.flatResults().length).toBe(1);\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:348:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Complete Flow: Mobile View with Bottom Sheet â€º should manage bottom sheet state separately from chips\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      369 |       };\n      370 |\n    > 371 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      372 |       fixture.detectChanges();\n      373 |\n      374 |       // Assistant shown (low confidence)\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:371:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Complete Flow: Top Result with Reason Label â€º should display reason label on top result\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      409 |       };\n      410 |\n    > 411 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      412 |       fixture.detectChanges();\n      413 |\n      414 |       // Top result should have attributes for reason label\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:411:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Edge Cases: Empty States â€º should handle response with no groups\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      429 |       };\n      430 |\n    > 431 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      432 |       fixture.detectChanges();\n      433 |\n      434 |       expect(component.flatResults().length).toBe(0);\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:431:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Edge Cases: Empty States â€º should handle null response\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      437 |\n      438 |     it('should handle null response', () => {\n    > 439 |       (facade as any)._searchStore.response.set(null);\n          |                                    ^\n      440 |       fixture.detectChanges();\n      441 |\n      442 |       expect(component.flatResults().length).toBe(0);\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:439:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - E2E Flows â€º Performance: Large Result Sets â€º should handle 20 results efficiently\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      462 |       };\n      463 |\n    > 464 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      465 |       fixture.detectChanges();\n      466 |\n      467 |       expect(component.flatResults().length).toBe(20);\n\n      at src/app/features/unified-search/search-page/search-page-e2e-flows.spec.ts:464:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: Successful Search â†’ Filter â†’ Action"],"duration":3645,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:66:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: Successful Search â†’ Filter â†’ Action should handle complete user journey from search to action","status":"failed","title":"should handle complete user journey from search to action"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: No Results â†’ Recovery â†’ Expand Search"],"duration":80,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:106:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: No Results â†’ Recovery â†’ Expand Search should handle recovery flow when no results found","status":"failed","title":"should handle recovery flow when no results found"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: Ambiguous Query â†’ Clarify â†’ Select City"],"duration":78,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:141:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: Ambiguous Query â†’ Clarify â†’ Select City should handle clarification flow","status":"failed","title":"should handle clarification flow"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: Multiple Chips â†’ Active State"],"duration":141,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:176:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: Multiple Chips â†’ Active State should handle multiple filter applications","status":"failed","title":"should handle multiple filter applications"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: CITY Search (No Distance Grouping)"],"duration":217,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:220:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: CITY Search (No Distance Grouping) should handle city search with single EXACT group","status":"failed","title":"should handle city search with single EXACT group"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: STREET Search (Distance Grouping)"],"duration":193,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:261:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: STREET Search (Distance Grouping) should handle street search with EXACT and NEARBY groups","status":"failed","title":"should handle street search with EXACT and NEARBY groups"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: Low Confidence â†’ Assistant Shown"],"duration":219,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:295:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: Low Confidence â†’ Assistant Shown should show assistant when confidence is below 60%","status":"failed","title":"should show assistant when confidence is below 60%"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: High Confidence â†’ Assistant Hidden"],"duration":120,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:322:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: High Confidence â†’ Assistant Hidden should hide assistant when results are good","status":"failed","title":"should hide assistant when results are good"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: Multilingual Support"],"duration":177,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:348:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: Multilingual Support should handle Hebrew query with Hebrew chips","status":"failed","title":"should handle Hebrew query with Hebrew chips"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: Mobile View with Bottom Sheet"],"duration":308,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:371:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: Mobile View with Bottom Sheet should manage bottom sheet state separately from chips","status":"failed","title":"should manage bottom sheet state separately from chips"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Complete Flow: Top Result with Reason Label"],"duration":185,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:411:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Complete Flow: Top Result with Reason Label should display reason label on top result","status":"failed","title":"should display reason label on top result"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Edge Cases: Empty States"],"duration":90,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:431:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Edge Cases: Empty States should handle response with no groups","status":"failed","title":"should handle response with no groups"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Edge Cases: Empty States"],"duration":72,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:439:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Edge Cases: Empty States should handle null response","status":"failed","title":"should handle null response"},{"ancestorTitles":["SearchPageComponent - E2E Flows","Performance: Large Result Sets"],"duration":62,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-e2e-flows.spec.ts:464:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - E2E Flows Performance: Large Result Sets should handle 20 results efficiently","status":"failed","title":"should handle 20 results efficiently"}]},{"numFailingTests":1,"numPassingTests":13,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890826960,"runtime":4950,"slow":false,"start":1769890822010},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\grouped-results\\grouped-results.component.spec.ts","failureMessage":"  â— GroupedResultsComponent â€º should emit restaurantClick when card is clicked\n\n    ReferenceError: spyOn is not defined\n\n      181 |     };\n      182 |\n    > 183 |     spyOn(component.restaurantClick, 'emit');\n          |     ^\n      184 |\n      185 |     component.onRestaurantClick(mockRestaurant);\n      186 |\n\n      at src/app/features/unified-search/components/grouped-results/grouped-results.component.spec.ts:183:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["GroupedResultsComponent"],"duration":1166,"failureMessages":[],"fullName":"GroupedResultsComponent should create","status":"passed","title":"should create"},{"ancestorTitles":["GroupedResultsComponent"],"duration":111,"failureMessages":[],"fullName":"GroupedResultsComponent should show loading state when loading","status":"passed","title":"should show loading state when loading"},{"ancestorTitles":["GroupedResultsComponent"],"duration":130,"failureMessages":[],"fullName":"GroupedResultsComponent should show empty state when no results","status":"passed","title":"should show empty state when no results"},{"ancestorTitles":["GroupedResultsComponent"],"duration":443,"failureMessages":[],"fullName":"GroupedResultsComponent should render groups with results","status":"passed","title":"should render groups with results"},{"ancestorTitles":["GroupedResultsComponent"],"duration":448,"failureMessages":[],"fullName":"GroupedResultsComponent should display group labels correctly","status":"passed","title":"should display group labels correctly"},{"ancestorTitles":["GroupedResultsComponent"],"duration":153,"failureMessages":[],"fullName":"GroupedResultsComponent should display count badges","status":"passed","title":"should display count badges"},{"ancestorTitles":["GroupedResultsComponent"],"duration":89,"failureMessages":[],"fullName":"GroupedResultsComponent should show distance label when provided","status":"passed","title":"should show distance label when provided"},{"ancestorTitles":["GroupedResultsComponent"],"duration":28,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\grouped-results\\grouped-results.component.spec.ts:183:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"GroupedResultsComponent should emit restaurantClick when card is clicked","status":"failed","title":"should emit restaurantClick when card is clicked"},{"ancestorTitles":["GroupedResultsComponent"],"duration":29,"failureMessages":[],"fullName":"GroupedResultsComponent should apply correct CSS class based on group kind","status":"passed","title":"should apply correct CSS class based on group kind"},{"ancestorTitles":["GroupedResultsComponent"],"duration":66,"failureMessages":[],"fullName":"GroupedResultsComponent should track groups by kind","status":"passed","title":"should track groups by kind"},{"ancestorTitles":["GroupedResultsComponent"],"duration":17,"failureMessages":[],"fullName":"GroupedResultsComponent should track results by id","status":"passed","title":"should track results by id"},{"ancestorTitles":["GroupedResultsComponent"],"duration":16,"failureMessages":[],"fullName":"GroupedResultsComponent hasAnyResults should return true when groups have results","status":"passed","title":"hasAnyResults should return true when groups have results"},{"ancestorTitles":["GroupedResultsComponent"],"duration":17,"failureMessages":[],"fullName":"GroupedResultsComponent hasAnyResults should return false when all groups are empty","status":"passed","title":"hasAnyResults should return false when all groups are empty"},{"ancestorTitles":["GroupedResultsComponent"],"duration":47,"failureMessages":[],"fullName":"GroupedResultsComponent should not render groups with zero results","status":"passed","title":"should not render groups with zero results"}]},{"numFailingTests":29,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890828033,"runtime":27229,"slow":true,"start":1769890800804},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts","failureMessage":"  â— SearchPageComponent - Chip Interactions â€º Filter Chips - Click Behavior â€º should call facade.onChipClick when delivery chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      32 |   describe('Filter Chips - Click Behavior', () => {\n      33 |     it('should call facade.onChipClick when delivery chip clicked', () => {\n    > 34 |       spyOn(facade, 'onChipClick');\n         |       ^\n      35 |       \n      36 |       component.onChipClick('delivery');\n      37 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:34:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Filter Chips - Click Behavior â€º should call facade.onChipClick when budget chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      41 |\n      42 |     it('should call facade.onChipClick when budget chip clicked', () => {\n    > 43 |       spyOn(facade, 'onChipClick');\n         |       ^\n      44 |       \n      45 |       component.onChipClick('budget');\n      46 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:43:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Filter Chips - Click Behavior â€º should call facade.onChipClick when toprated chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      49 |\n      50 |     it('should call facade.onChipClick when toprated chip clicked', () => {\n    > 51 |       spyOn(facade, 'onChipClick');\n         |       ^\n      52 |       \n      53 |       component.onChipClick('toprated');\n      54 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:51:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Filter Chips - Click Behavior â€º should call facade.onChipClick when opennow chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      57 |\n      58 |     it('should call facade.onChipClick when opennow chip clicked', () => {\n    > 59 |       spyOn(facade, 'onChipClick');\n         |       ^\n      60 |       \n      61 |       component.onChipClick('opennow');\n      62 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:59:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Filter Chips - Click Behavior â€º should call facade.onChipClick when takeout chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      65 |\n      66 |     it('should call facade.onChipClick when takeout chip clicked', () => {\n    > 67 |       spyOn(facade, 'onChipClick');\n         |       ^\n      68 |       \n      69 |       component.onChipClick('takeout');\n      70 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:67:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Sort Chips - Click Behavior â€º should call facade.onChipClick when closest chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      75 |   describe('Sort Chips - Click Behavior', () => {\n      76 |     it('should call facade.onChipClick when closest chip clicked', () => {\n    > 77 |       spyOn(facade, 'onChipClick');\n         |       ^\n      78 |       \n      79 |       component.onChipClick('closest');\n      80 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:77:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Sort Chips - Click Behavior â€º should call facade.onChipClick when sort_rating chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      83 |\n      84 |     it('should call facade.onChipClick when sort_rating chip clicked', () => {\n    > 85 |       spyOn(facade, 'onChipClick');\n         |       ^\n      86 |       \n      87 |       component.onChipClick('sort_rating');\n      88 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:85:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Sort Chips - Click Behavior â€º should call facade.onChipClick when sort_price chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      91 |\n      92 |     it('should call facade.onChipClick when sort_price chip clicked', () => {\n    > 93 |       spyOn(facade, 'onChipClick');\n         |       ^\n      94 |       \n      95 |       component.onChipClick('sort_price');\n      96 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:93:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º View Chips - Click Behavior â€º should call facade.onChipClick when map chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      101 |   describe('View Chips - Click Behavior', () => {\n      102 |     it('should call facade.onChipClick when map chip clicked', () => {\n    > 103 |       spyOn(facade, 'onChipClick');\n          |       ^\n      104 |       \n      105 |       component.onChipClick('map');\n      106 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:103:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Recovery Chips - Click Behavior â€º should call facade.onChipClick when expand_radius chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      111 |   describe('Recovery Chips - Click Behavior', () => {\n      112 |     it('should call facade.onChipClick when expand_radius chip clicked', () => {\n    > 113 |       spyOn(facade, 'onChipClick');\n          |       ^\n      114 |       \n      115 |       component.onChipClick('expand_radius');\n      116 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:113:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Recovery Chips - Click Behavior â€º should call facade.onChipClick when remove_filters chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      119 |\n      120 |     it('should call facade.onChipClick when remove_filters chip clicked', () => {\n    > 121 |       spyOn(facade, 'onChipClick');\n          |       ^\n      122 |       \n      123 |       component.onChipClick('remove_filters');\n      124 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:121:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Recovery Chips - Click Behavior â€º should call facade.onChipClick when try_nearby chip clicked\n\n    ReferenceError: spyOn is not defined\n\n      127 |\n      128 |     it('should call facade.onChipClick when try_nearby chip clicked', () => {\n    > 129 |       spyOn(facade, 'onChipClick');\n          |       ^\n      130 |       \n      131 |       component.onChipClick('try_nearby');\n      132 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:129:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Chip Click Behavior Validation â€º should NOT open bottom sheet on chip click\n\n    ReferenceError: spyOn is not defined\n\n      137 |   describe('Chip Click Behavior Validation', () => {\n      138 |     it('should NOT open bottom sheet on chip click', () => {\n    > 139 |       spyOn(facade, 'onChipClick');\n          |       ^\n      140 |       \n      141 |       component.onChipClick('toprated');\n      142 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:139:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Chip Click Behavior Validation â€º should trigger actual filtering, not modal\n\n    ReferenceError: spyOn is not defined\n\n      145 |\n      146 |     it('should trigger actual filtering, not modal', () => {\n    > 147 |       spyOn(facade, 'onChipClick');\n          |       ^\n      148 |       \n      149 |       component.onChipClick('budget');\n      150 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:147:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Chip Click Behavior Validation â€º should NOT change bottomSheetVisible state\n\n    ReferenceError: spyOn is not defined\n\n      155 |\n      156 |     it('should NOT change bottomSheetVisible state', () => {\n    > 157 |       spyOn(facade, 'onChipClick');\n          |       ^\n      158 |       const initialState = component.bottomSheetVisible();\n      159 |       \n      160 |       component.onChipClick('opennow');\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:157:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Multiple Chip Clicks â€º should handle multiple consecutive chip clicks\n\n    ReferenceError: spyOn is not defined\n\n      166 |   describe('Multiple Chip Clicks', () => {\n      167 |     it('should handle multiple consecutive chip clicks', () => {\n    > 168 |       spyOn(facade, 'onChipClick');\n          |       ^\n      169 |       \n      170 |       component.onChipClick('delivery');\n      171 |       component.onChipClick('budget');\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:168:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Multiple Chip Clicks â€º should handle clicking the same chip multiple times\n\n    ReferenceError: spyOn is not defined\n\n      179 |\n      180 |     it('should handle clicking the same chip multiple times', () => {\n    > 181 |       spyOn(facade, 'onChipClick');\n          |       ^\n      182 |       \n      183 |       component.onChipClick('opennow');\n      184 |       component.onChipClick('opennow');\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:181:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Chip Rendering â€º should render chips when results exist\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      210 |       };\n      211 |\n    > 212 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      213 |       fixture.detectChanges();\n      214 |\n      215 |       const chipsContainer = fixture.nativeElement.querySelector('.chips-mobile');\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:212:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Chip Rendering â€º should render chip emoji and label\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      232 |       };\n      233 |\n    > 234 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      235 |       fixture.detectChanges();\n      236 |\n      237 |       const chip = fixture.nativeElement.querySelector('.chip');\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:234:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Chip Rendering â€º should handle click event on rendered chip\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      252 |       };\n      253 |\n    > 254 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      255 |       fixture.detectChanges();\n      256 |\n      257 |       spyOn(facade, 'onChipClick');\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:254:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º No Chips Scenario â€º should NOT render chips container when no chips\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      275 |       };\n      276 |\n    > 277 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      278 |       fixture.detectChanges();\n      279 |\n      280 |       const chipsContainer = fixture.nativeElement.querySelector('.chips-mobile');\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:277:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Chip Click Integration with Results â€º should maintain results after chip click\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      300 |       };\n      301 |\n    > 302 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      303 |       fixture.detectChanges();\n      304 |\n      305 |       const resultsBefore = component.flatResults().length;\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:302:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Chip Accessibility â€º should render chips as buttons\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      327 |       };\n      328 |\n    > 329 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      330 |       fixture.detectChanges();\n      331 |\n      332 |       const chip = fixture.nativeElement.querySelector('.chip');\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:329:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Chip Accessibility â€º should have clickable chip buttons\n\n    TypeError: Cannot read properties of undefined (reading 'response')\n\n      346 |       };\n      347 |\n    > 348 |       (facade as any)._searchStore.response.set(mockResponse);\n          |                                    ^\n      349 |       fixture.detectChanges();\n      350 |\n      351 |       const chip = fixture.nativeElement.querySelector('.chip');\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:348:36\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Clarification Chips â€º should call facade.onChipClick for city clarification chips\n\n    ReferenceError: spyOn is not defined\n\n      356 |   describe('Clarification Chips', () => {\n      357 |     it('should call facade.onChipClick for city clarification chips', () => {\n    > 358 |       spyOn(facade, 'onChipClick');\n          |       ^\n      359 |       \n      360 |       component.onChipClick('city_tel_aviv');\n      361 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:358:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Clarification Chips â€º should call facade.onChipClick for multiple city options\n\n    ReferenceError: spyOn is not defined\n\n      364 |\n      365 |     it('should call facade.onChipClick for multiple city options', () => {\n    > 366 |       spyOn(facade, 'onChipClick');\n          |       ^\n      367 |       \n      368 |       component.onChipClick('city_tel_aviv');\n      369 |       component.onChipClick('city_jerusalem');\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:366:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Edge Cases â€º should handle clicking with empty chip id gracefully\n\n    ReferenceError: spyOn is not defined\n\n      376 |   describe('Edge Cases', () => {\n      377 |     it('should handle clicking with empty chip id gracefully', () => {\n    > 378 |       spyOn(facade, 'onChipClick');\n          |       ^\n      379 |       \n      380 |       component.onChipClick('');\n      381 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:378:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Edge Cases â€º should handle clicking with unknown chip id\n\n    ReferenceError: spyOn is not defined\n\n      384 |\n      385 |     it('should handle clicking with unknown chip id', () => {\n    > 386 |       spyOn(facade, 'onChipClick');\n          |       ^\n      387 |       \n      388 |       component.onChipClick('unknown_chip_id');\n      389 |       \n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:386:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - Chip Interactions â€º Edge Cases â€º should handle rapid successive clicks\n\n    ReferenceError: spyOn is not defined\n\n      392 |\n      393 |     it('should handle rapid successive clicks', () => {\n    > 394 |       spyOn(facade, 'onChipClick');\n          |       ^\n      395 |       \n      396 |       // Simulate rapid clicking\n      397 |       for (let i = 0; i < 10; i++) {\n\n      at src/app/features/unified-search/search-page/search-page-chip-interactions.spec.ts:394:7\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchPageComponent - Chip Interactions"],"duration":3435,"failureMessages":[],"fullName":"SearchPageComponent - Chip Interactions should create","status":"passed","title":"should create"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Filter Chips - Click Behavior"],"duration":89,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:34:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Filter Chips - Click Behavior should call facade.onChipClick when delivery chip clicked","status":"failed","title":"should call facade.onChipClick when delivery chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Filter Chips - Click Behavior"],"duration":125,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:43:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Filter Chips - Click Behavior should call facade.onChipClick when budget chip clicked","status":"failed","title":"should call facade.onChipClick when budget chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Filter Chips - Click Behavior"],"duration":130,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:51:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Filter Chips - Click Behavior should call facade.onChipClick when toprated chip clicked","status":"failed","title":"should call facade.onChipClick when toprated chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Filter Chips - Click Behavior"],"duration":111,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:59:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Filter Chips - Click Behavior should call facade.onChipClick when opennow chip clicked","status":"failed","title":"should call facade.onChipClick when opennow chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Filter Chips - Click Behavior"],"duration":55,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:67:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Filter Chips - Click Behavior should call facade.onChipClick when takeout chip clicked","status":"failed","title":"should call facade.onChipClick when takeout chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Sort Chips - Click Behavior"],"duration":55,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:77:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Sort Chips - Click Behavior should call facade.onChipClick when closest chip clicked","status":"failed","title":"should call facade.onChipClick when closest chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Sort Chips - Click Behavior"],"duration":49,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:85:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Sort Chips - Click Behavior should call facade.onChipClick when sort_rating chip clicked","status":"failed","title":"should call facade.onChipClick when sort_rating chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Sort Chips - Click Behavior"],"duration":141,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:93:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Sort Chips - Click Behavior should call facade.onChipClick when sort_price chip clicked","status":"failed","title":"should call facade.onChipClick when sort_price chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","View Chips - Click Behavior"],"duration":125,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:103:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions View Chips - Click Behavior should call facade.onChipClick when map chip clicked","status":"failed","title":"should call facade.onChipClick when map chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Recovery Chips - Click Behavior"],"duration":241,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:113:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Recovery Chips - Click Behavior should call facade.onChipClick when expand_radius chip clicked","status":"failed","title":"should call facade.onChipClick when expand_radius chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Recovery Chips - Click Behavior"],"duration":172,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:121:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Recovery Chips - Click Behavior should call facade.onChipClick when remove_filters chip clicked","status":"failed","title":"should call facade.onChipClick when remove_filters chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Recovery Chips - Click Behavior"],"duration":329,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:129:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Recovery Chips - Click Behavior should call facade.onChipClick when try_nearby chip clicked","status":"failed","title":"should call facade.onChipClick when try_nearby chip clicked"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Chip Click Behavior Validation"],"duration":196,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:139:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Chip Click Behavior Validation should NOT open bottom sheet on chip click","status":"failed","title":"should NOT open bottom sheet on chip click"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Chip Click Behavior Validation"],"duration":151,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:147:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Chip Click Behavior Validation should trigger actual filtering, not modal","status":"failed","title":"should trigger actual filtering, not modal"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Chip Click Behavior Validation"],"duration":67,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:157:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Chip Click Behavior Validation should NOT change bottomSheetVisible state","status":"failed","title":"should NOT change bottomSheetVisible state"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Multiple Chip Clicks"],"duration":79,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:168:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Multiple Chip Clicks should handle multiple consecutive chip clicks","status":"failed","title":"should handle multiple consecutive chip clicks"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Multiple Chip Clicks"],"duration":57,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:181:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Multiple Chip Clicks should handle clicking the same chip multiple times","status":"failed","title":"should handle clicking the same chip multiple times"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Chip Rendering"],"duration":44,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:212:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Chip Rendering should render chips when results exist","status":"failed","title":"should render chips when results exist"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Chip Rendering"],"duration":58,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:234:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Chip Rendering should render chip emoji and label","status":"failed","title":"should render chip emoji and label"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Chip Rendering"],"duration":69,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:254:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Chip Rendering should handle click event on rendered chip","status":"failed","title":"should handle click event on rendered chip"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","No Chips Scenario"],"duration":112,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:277:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions No Chips Scenario should NOT render chips container when no chips","status":"failed","title":"should NOT render chips container when no chips"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Chip Click Integration with Results"],"duration":117,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:302:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Chip Click Integration with Results should maintain results after chip click","status":"failed","title":"should maintain results after chip click"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Chip Accessibility"],"duration":108,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:329:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Chip Accessibility should render chips as buttons","status":"failed","title":"should render chips as buttons"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Chip Accessibility"],"duration":87,"failureMessages":["TypeError: Cannot read properties of undefined (reading 'response')\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:348:36\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Chip Accessibility should have clickable chip buttons","status":"failed","title":"should have clickable chip buttons"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Clarification Chips"],"duration":136,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:358:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Clarification Chips should call facade.onChipClick for city clarification chips","status":"failed","title":"should call facade.onChipClick for city clarification chips"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Clarification Chips"],"duration":112,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:366:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Clarification Chips should call facade.onChipClick for multiple city options","status":"failed","title":"should call facade.onChipClick for multiple city options"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Edge Cases"],"duration":116,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:378:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Edge Cases should handle clicking with empty chip id gracefully","status":"failed","title":"should handle clicking with empty chip id gracefully"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Edge Cases"],"duration":81,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:386:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Edge Cases should handle clicking with unknown chip id","status":"failed","title":"should handle clicking with unknown chip id"},{"ancestorTitles":["SearchPageComponent - Chip Interactions","Edge Cases"],"duration":106,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page-chip-interactions.spec.ts:394:7\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - Chip Interactions Edge Cases should handle rapid successive clicks","status":"failed","title":"should handle rapid successive clicks"}]},{"numFailingTests":5,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890829742,"runtime":3175,"slow":false,"start":1769890826567},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\analytics.service.spec.ts","failureMessage":"  â— AnalyticsService â€º should send event to backend\n\n    Expected one matching request for criteria \"Match URL: /api/analytics/events\", found none. Requests received are: POST http://localhost:3000/api/v1/analytics/events.\n\n      37 |     service.track('test_event', { foo: 'bar' });\n      38 |\n    > 39 |     const req = httpMock.expectOne('/api/analytics/events');\n         |                          ^\n      40 |     expect(req.request.method).toBe('POST');\n      41 |     expect(req.request.body.event).toBe('test_event');\n      42 |     expect(req.request.body.data.foo).toBe('bar');\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/services/analytics.service.spec.ts:39:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— AnalyticsService â€º should send event to backend\n\n    Expected no open requests, found 1: POST http://localhost:3000/api/v1/analytics/events\n\n      26 |\n      27 |   afterEach(() => {\n    > 28 |     httpMock.verify();\n         |              ^\n      29 |     sessionStorage.clear();\n      30 |   });\n      31 |\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/services/analytics.service.spec.ts:28:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— AnalyticsService â€º should enrich event with metadata\n\n    Expected one matching request for criteria \"Match URL: /api/analytics/events\", found none. Requests received are: POST http://localhost:3000/api/v1/analytics/events.\n\n      53 |     service.track('test_event');\n      54 |\n    > 55 |     const req = httpMock.expectOne('/api/analytics/events');\n         |                          ^\n      56 |     const body = req.request.body;\n      57 |\n      58 |     expect(body.data.sessionId).toBe(sessionStore.conversationId());\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/services/analytics.service.spec.ts:55:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— AnalyticsService â€º should enrich event with metadata\n\n    Expected no open requests, found 1: POST http://localhost:3000/api/v1/analytics/events\n\n      26 |\n      27 |   afterEach(() => {\n    > 28 |     httpMock.verify();\n         |              ^\n      29 |     sessionStorage.clear();\n      30 |   });\n      31 |\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/services/analytics.service.spec.ts:28:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— AnalyticsService â€º should handle send failures gracefully\n\n    ReferenceError: spyOn is not defined\n\n      66 |\n      67 |   it('should handle send failures gracefully', (done) => {\n    > 68 |     spyOn(console, 'warn');\n         |     ^\n      69 |\n      70 |     service.track('test_event');\n      71 |\n\n      at src/app/services/analytics.service.spec.ts:68:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— AnalyticsService â€º should track errors with context\n\n    Expected one matching request for criteria \"Match URL: /api/analytics/events\", found none. Requests received are: POST http://localhost:3000/api/v1/analytics/events.\n\n      85 |     service.trackError(testError, { context: 'test' });\n      86 |\n    > 87 |     const req = httpMock.expectOne('/api/analytics/events');\n         |                          ^\n      88 |     expect(req.request.body.event).toBe('error');\n      89 |     expect(req.request.body.data.message).toBe('Test error');\n      90 |     expect(req.request.body.data.context).toBe('test');\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/services/analytics.service.spec.ts:87:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— AnalyticsService â€º should track errors with context\n\n    Expected no open requests, found 1: POST http://localhost:3000/api/v1/analytics/events\n\n      26 |\n      27 |   afterEach(() => {\n    > 28 |     httpMock.verify();\n         |              ^\n      29 |     sessionStorage.clear();\n      30 |   });\n      31 |\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/services/analytics.service.spec.ts:28:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— AnalyticsService â€º should track timing\n\n    Expected one matching request for criteria \"Match URL: /api/analytics/events\", found none. Requests received are: POST http://localhost:3000/api/v1/analytics/events.\n\n       96 |     service.trackTiming('search_duration', 250, { query: 'pizza' });\n       97 |\n    >  98 |     const req = httpMock.expectOne('/api/analytics/events');\n          |                          ^\n       99 |     expect(req.request.body.event).toBe('timing');\n      100 |     expect(req.request.body.data.label).toBe('search_duration');\n      101 |     expect(req.request.body.data.durationMs).toBe(250);\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/services/analytics.service.spec.ts:98:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— AnalyticsService â€º should track timing\n\n    Expected no open requests, found 1: POST http://localhost:3000/api/v1/analytics/events\n\n      26 |\n      27 |   afterEach(() => {\n    > 28 |     httpMock.verify();\n         |              ^\n      29 |     sessionStorage.clear();\n      30 |   });\n      31 |\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/services/analytics.service.spec.ts:28:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["AnalyticsService"],"duration":197,"failureMessages":[],"fullName":"AnalyticsService should be created","status":"passed","title":"should be created"},{"ancestorTitles":["AnalyticsService"],"duration":102,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/analytics/events\", found none. Requests received are: POST http://localhost:3000/api/v1/analytics/events.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\analytics.service.spec.ts:39:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: POST http://localhost:3000/api/v1/analytics/events\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\analytics.service.spec.ts:28:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"AnalyticsService should send event to backend","status":"failed","title":"should send event to backend"},{"ancestorTitles":["AnalyticsService"],"duration":34,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/analytics/events\", found none. Requests received are: POST http://localhost:3000/api/v1/analytics/events.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\analytics.service.spec.ts:55:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: POST http://localhost:3000/api/v1/analytics/events\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\analytics.service.spec.ts:28:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"AnalyticsService should enrich event with metadata","status":"failed","title":"should enrich event with metadata"},{"ancestorTitles":["AnalyticsService"],"duration":12,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\analytics.service.spec.ts:68:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"AnalyticsService should handle send failures gracefully","status":"failed","title":"should handle send failures gracefully"},{"ancestorTitles":["AnalyticsService"],"duration":118,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/analytics/events\", found none. Requests received are: POST http://localhost:3000/api/v1/analytics/events.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\analytics.service.spec.ts:87:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: POST http://localhost:3000/api/v1/analytics/events\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\analytics.service.spec.ts:28:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"AnalyticsService should track errors with context","status":"failed","title":"should track errors with context"},{"ancestorTitles":["AnalyticsService"],"duration":28,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/analytics/events\", found none. Requests received are: POST http://localhost:3000/api/v1/analytics/events.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\analytics.service.spec.ts:98:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: POST http://localhost:3000/api/v1/analytics/events\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\analytics.service.spec.ts:28:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"AnalyticsService should track timing","status":"failed","title":"should track timing"}]},{"numFailingTests":3,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890830337,"runtime":3426,"slow":false,"start":1769890826911},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\session.api.spec.ts","failureMessage":"  â— SessionApiClient â€º should create session\n\n    Expected one matching request for criteria \"Match URL: /api/session\", found none. Requests received are: POST http://localhost:3000/api/v1/session.\n\n      40 |     });\n      41 |\n    > 42 |     const req = httpMock.expectOne('/api/session');\n         |                          ^\n      43 |     expect(req.request.method).toBe('POST');\n      44 |     req.flush(mockResponse);\n      45 |   });\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/api/session.api.spec.ts:42:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SessionApiClient â€º should create session\n\n    Expected no open requests, found 1: POST http://localhost:3000/api/v1/session\n\n      23 |\n      24 |   afterEach(() => {\n    > 25 |     httpMock.verify();\n         |              ^\n      26 |   });\n      27 |\n      28 |   it('should be created', () => {\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/api/session.api.spec.ts:25:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SessionApiClient â€º should get session\n\n    Expected one matching request for criteria \"Match URL: /api/session/session-123\", found none. Requests received are: GET http://localhost:3000/api/v1/session/session-123.\n\n      66 |     });\n      67 |\n    > 68 |     const req = httpMock.expectOne(`/api/session/${sessionId}`);\n         |                          ^\n      69 |     expect(req.request.method).toBe('GET');\n      70 |     req.flush(mockSession);\n      71 |   });\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/api/session.api.spec.ts:68:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SessionApiClient â€º should get session\n\n    Expected no open requests, found 1: GET http://localhost:3000/api/v1/session/session-123\n\n      23 |\n      24 |   afterEach(() => {\n    > 25 |     httpMock.verify();\n         |              ^\n      26 |   });\n      27 |\n      28 |   it('should be created', () => {\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/api/session.api.spec.ts:25:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SessionApiClient â€º should handle errors\n\n    Expected one matching request for criteria \"Match URL: /api/session\", found none. Requests received are: POST http://localhost:3000/api/v1/session.\n\n      79 |     });\n      80 |\n    > 81 |     const req = httpMock.expectOne('/api/session');\n         |                          ^\n      82 |     req.flush({ error: 'Failed' }, { status: 500, statusText: 'Server Error' });\n      83 |   });\n      84 | });\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/api/session.api.spec.ts:81:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SessionApiClient â€º should handle errors\n\n    Expected no open requests, found 1: POST http://localhost:3000/api/v1/session\n\n      23 |\n      24 |   afterEach(() => {\n    > 25 |     httpMock.verify();\n         |              ^\n      26 |   });\n      27 |\n      28 |   it('should be created', () => {\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/api/session.api.spec.ts:25:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SessionApiClient"],"duration":132,"failureMessages":[],"fullName":"SessionApiClient should be created","status":"passed","title":"should be created"},{"ancestorTitles":["SessionApiClient"],"duration":15,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/session\", found none. Requests received are: POST http://localhost:3000/api/v1/session.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\session.api.spec.ts:42:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: POST http://localhost:3000/api/v1/session\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\session.api.spec.ts:25:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SessionApiClient should create session","status":"failed","title":"should create session"},{"ancestorTitles":["SessionApiClient"],"duration":11,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/session/session-123\", found none. Requests received are: GET http://localhost:3000/api/v1/session/session-123.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\session.api.spec.ts:68:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: GET http://localhost:3000/api/v1/session/session-123\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\session.api.spec.ts:25:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SessionApiClient should get session","status":"failed","title":"should get session"},{"ancestorTitles":["SessionApiClient"],"duration":12,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/session\", found none. Requests received are: POST http://localhost:3000/api/v1/session.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\session.api.spec.ts:81:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: POST http://localhost:3000/api/v1/session\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\session.api.spec.ts:25:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SessionApiClient should handle errors","status":"failed","title":"should handle errors"}]},{"numFailingTests":1,"numPassingTests":13,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890830593,"runtime":3219,"slow":false,"start":1769890827374},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\state\\session.store.spec.ts","failureMessage":"  â— SessionStore â€º should persist state to sessionStorage\n\n    expect(received).toContain(expected) // indexOf\n\n    Matcher error: received value must not be null nor undefined\n\n    Received has value: null\n\n      37 |   it('should persist state to sessionStorage', () => {\n      38 |     const initialId = store.conversationId();\n    > 39 |     expect(sessionStorage.getItem('search-session')).toContain(initialId);\n         |                                                      ^\n      40 |   });\n      41 |\n      42 |   it('should set locale', () => {\n\n      at src/app/state/session.store.spec.ts:39:54\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SessionStore"],"duration":45,"failureMessages":[],"fullName":"SessionStore should be created","status":"passed","title":"should be created"},{"ancestorTitles":["SessionStore"],"duration":24,"failureMessages":[],"fullName":"SessionStore should have default initial state","status":"passed","title":"should have default initial state"},{"ancestorTitles":["SessionStore"],"duration":23,"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nMatcher error: received value must not be null nor undefined\n\nReceived has value: null\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\state\\session.store.spec.ts:39:54\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SessionStore should persist state to sessionStorage","status":"failed","title":"should persist state to sessionStorage"},{"ancestorTitles":["SessionStore"],"duration":44,"failureMessages":[],"fullName":"SessionStore should set locale","status":"passed","title":"should set locale"},{"ancestorTitles":["SessionStore"],"duration":12,"failureMessages":[],"fullName":"SessionStore should set region","status":"passed","title":"should set region"},{"ancestorTitles":["SessionStore"],"duration":11,"failureMessages":[],"fullName":"SessionStore should select restaurant","status":"passed","title":"should select restaurant"},{"ancestorTitles":["SessionStore"],"duration":63,"failureMessages":[],"fullName":"SessionStore should add to favorites","status":"passed","title":"should add to favorites"},{"ancestorTitles":["SessionStore"],"duration":13,"failureMessages":[],"fullName":"SessionStore should remove from favorites","status":"passed","title":"should remove from favorites"},{"ancestorTitles":["SessionStore"],"duration":11,"failureMessages":[],"fullName":"SessionStore should add to recent searches","status":"passed","title":"should add to recent searches"},{"ancestorTitles":["SessionStore"],"duration":13,"failureMessages":[],"fullName":"SessionStore should move duplicate search to top","status":"passed","title":"should move duplicate search to top"},{"ancestorTitles":["SessionStore"],"duration":12,"failureMessages":[],"fullName":"SessionStore should keep only last 10 recent searches","status":"passed","title":"should keep only last 10 recent searches"},{"ancestorTitles":["SessionStore"],"duration":39,"failureMessages":[],"fullName":"SessionStore should reset session","status":"passed","title":"should reset session"},{"ancestorTitles":["SessionStore"],"duration":17,"failureMessages":[],"fullName":"SessionStore should load from sessionStorage on init","status":"passed","title":"should load from sessionStorage on init"},{"ancestorTitles":["SessionStore"],"duration":159,"failureMessages":[],"fullName":"SessionStore should handle corrupted storage gracefully","status":"passed","title":"should handle corrupted storage gracefully"}]},{"numFailingTests":7,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890830632,"runtime":4473,"slow":false,"start":1769890826159},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\results-rendering-non-blocking.spec.ts","failureMessage":"  â— SearchPage: Non-Blocking Results Rendering â€º should render results immediately when loading=false, even if assistant is still idle\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/results-rendering-non-blocking.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: Non-Blocking Results Rendering â€º should render results immediately when loading=false, even if assistant is loading\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/results-rendering-non-blocking.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: Non-Blocking Results Rendering â€º should render results immediately when loading=false, even if assistant failed\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/results-rendering-non-blocking.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: Non-Blocking Results Rendering â€º should NOT show loading spinner when results are ready, even if assistant is pending\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/results-rendering-non-blocking.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: Non-Blocking Results Rendering â€º should show results when results arrived, regardless of assistant state\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/results-rendering-non-blocking.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: Non-Blocking Results Rendering â€º should handle scenario: results arrive first, assistant arrives later\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/results-rendering-non-blocking.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPage: Non-Blocking Results Rendering â€º should handle scenario: assistant arrives first (SUMMARY), results arrive later\n\n    ReferenceError: jasmine is not defined\n\n      16 |   beforeEach(() => {\n      17 |     // Create spy facade\n    > 18 |     facade = jasmine.createSpyObj('SearchFacade', [\n         |     ^\n      19 |       'search',\n      20 |       'onClear',\n      21 |       'onInput',\n\n      at src/app/features/unified-search/search-page/__tests__/results-rendering-non-blocking.spec.ts:18:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchPage: Non-Blocking Results Rendering"],"duration":3,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\results-rendering-non-blocking.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: Non-Blocking Results Rendering should render results immediately when loading=false, even if assistant is still idle","status":"failed","title":"should render results immediately when loading=false, even if assistant is still idle"},{"ancestorTitles":["SearchPage: Non-Blocking Results Rendering"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\results-rendering-non-blocking.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: Non-Blocking Results Rendering should render results immediately when loading=false, even if assistant is loading","status":"failed","title":"should render results immediately when loading=false, even if assistant is loading"},{"ancestorTitles":["SearchPage: Non-Blocking Results Rendering"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\results-rendering-non-blocking.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: Non-Blocking Results Rendering should render results immediately when loading=false, even if assistant failed","status":"failed","title":"should render results immediately when loading=false, even if assistant failed"},{"ancestorTitles":["SearchPage: Non-Blocking Results Rendering"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\results-rendering-non-blocking.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: Non-Blocking Results Rendering should NOT show loading spinner when results are ready, even if assistant is pending","status":"failed","title":"should NOT show loading spinner when results are ready, even if assistant is pending"},{"ancestorTitles":["SearchPage: Non-Blocking Results Rendering"],"duration":0,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\results-rendering-non-blocking.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: Non-Blocking Results Rendering should show results when results arrived, regardless of assistant state","status":"failed","title":"should show results when results arrived, regardless of assistant state"},{"ancestorTitles":["SearchPage: Non-Blocking Results Rendering"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\results-rendering-non-blocking.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: Non-Blocking Results Rendering should handle scenario: results arrive first, assistant arrives later","status":"failed","title":"should handle scenario: results arrive first, assistant arrives later"},{"ancestorTitles":["SearchPage: Non-Blocking Results Rendering"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\results-rendering-non-blocking.spec.ts:18:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPage: Non-Blocking Results Rendering should handle scenario: assistant arrives first (SUMMARY), results arrive later","status":"failed","title":"should handle scenario: assistant arrives first (SUMMARY), results arrive later"}]},{"numFailingTests":3,"numPassingTests":6,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890830939,"runtime":5273,"slow":true,"start":1769890825666},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\assistant-bottom-sheet\\assistant-bottom-sheet.component.spec.ts","failureMessage":"  â— AssistantBottomSheetComponent â€º should emit close on backdrop click\n\n    ReferenceError: spyOn is not defined\n\n      69 |     fixture.detectChanges();\n      70 |\n    > 71 |     spyOn(component.close, 'emit');\n         |     ^\n      72 |\n      73 |     const overlay = fixture.nativeElement.querySelector('.bottom-sheet-overlay');\n      74 |     overlay.click();\n\n      at src/app/features/unified-search/components/assistant-bottom-sheet/assistant-bottom-sheet.component.spec.ts:71:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— AssistantBottomSheetComponent â€º should not emit close when clicking inside sheet\n\n    ReferenceError: spyOn is not defined\n\n      81 |     fixture.detectChanges();\n      82 |\n    > 83 |     spyOn(component.close, 'emit');\n         |     ^\n      84 |\n      85 |     const sheet = fixture.nativeElement.querySelector('.bottom-sheet');\n      86 |     sheet.click();\n\n      at src/app/features/unified-search/components/assistant-bottom-sheet/assistant-bottom-sheet.component.spec.ts:83:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— AssistantBottomSheetComponent â€º should emit restaurantClick when card is clicked\n\n    ReferenceError: spyOn is not defined\n\n      94 |     fixture.detectChanges();\n      95 |\n    > 96 |     spyOn(component.restaurantClick, 'emit');\n         |     ^\n      97 |     component.onRestaurantClick(mockRestaurant);\n      98 |\n      99 |     expect(component.restaurantClick.emit).toHaveBeenCalledWith(mockRestaurant);\n\n      at src/app/features/unified-search/components/assistant-bottom-sheet/assistant-bottom-sheet.component.spec.ts:96:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["AssistantBottomSheetComponent"],"duration":1338,"failureMessages":[],"fullName":"AssistantBottomSheetComponent should create","status":"passed","title":"should create"},{"ancestorTitles":["AssistantBottomSheetComponent"],"duration":234,"failureMessages":[],"fullName":"AssistantBottomSheetComponent should not render when visible is false","status":"passed","title":"should not render when visible is false"},{"ancestorTitles":["AssistantBottomSheetComponent"],"duration":138,"failureMessages":[],"fullName":"AssistantBottomSheetComponent should render when visible is true","status":"passed","title":"should render when visible is true"},{"ancestorTitles":["AssistantBottomSheetComponent"],"duration":429,"failureMessages":[],"fullName":"AssistantBottomSheetComponent should render max 3 cards","status":"passed","title":"should render max 3 cards"},{"ancestorTitles":["AssistantBottomSheetComponent"],"duration":64,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\assistant-bottom-sheet\\assistant-bottom-sheet.component.spec.ts:71:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"AssistantBottomSheetComponent should emit close on backdrop click","status":"failed","title":"should emit close on backdrop click"},{"ancestorTitles":["AssistantBottomSheetComponent"],"duration":39,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\assistant-bottom-sheet\\assistant-bottom-sheet.component.spec.ts:83:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"AssistantBottomSheetComponent should not emit close when clicking inside sheet","status":"failed","title":"should not emit close when clicking inside sheet"},{"ancestorTitles":["AssistantBottomSheetComponent"],"duration":99,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\assistant-bottom-sheet\\assistant-bottom-sheet.component.spec.ts:96:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"AssistantBottomSheetComponent should emit restaurantClick when card is clicked","status":"failed","title":"should emit restaurantClick when card is clicked"},{"ancestorTitles":["AssistantBottomSheetComponent"],"duration":55,"failureMessages":[],"fullName":"AssistantBottomSheetComponent should display custom title","status":"passed","title":"should display custom title"},{"ancestorTitles":["AssistantBottomSheetComponent"],"duration":111,"failureMessages":[],"fullName":"AssistantBottomSheetComponent should have sheet handle for UX","status":"passed","title":"should have sheet handle for UX"}]},{"numFailingTests":10,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890831742,"runtime":2703,"slow":false,"start":1769890829039},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts","failureMessage":"  â— SearchPageComponent â€º should create\n\n    ReferenceError: jasmine is not defined\n\n      14 |\n      15 |   beforeEach(async () => {\n    > 16 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      17 |       'search',\n      18 |       'reset',\n      19 |       'selectRestaurant',\n\n      at src/app/features/unified-search/search-page/search-page.component.spec.ts:16:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent â€º should have popular searches\n\n    ReferenceError: jasmine is not defined\n\n      14 |\n      15 |   beforeEach(async () => {\n    > 16 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      17 |       'search',\n      18 |       'reset',\n      19 |       'selectRestaurant',\n\n      at src/app/features/unified-search/search-page/search-page.component.spec.ts:16:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent â€º should call facade.search on search\n\n    ReferenceError: jasmine is not defined\n\n      14 |\n      15 |   beforeEach(async () => {\n    > 16 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      17 |       'search',\n      18 |       'reset',\n      19 |       'selectRestaurant',\n\n      at src/app/features/unified-search/search-page/search-page.component.spec.ts:16:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent â€º should call facade.reset on clear\n\n    ReferenceError: jasmine is not defined\n\n      14 |\n      15 |   beforeEach(async () => {\n    > 16 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      17 |       'search',\n      18 |       'reset',\n      19 |       'selectRestaurant',\n\n      at src/app/features/unified-search/search-page/search-page.component.spec.ts:16:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent â€º should setup cleanup interval on init\n\n    ReferenceError: jasmine is not defined\n\n      14 |\n      15 |   beforeEach(async () => {\n    > 16 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      17 |       'search',\n      18 |       'reset',\n      19 |       'selectRestaurant',\n\n      at src/app/features/unified-search/search-page/search-page.component.spec.ts:16:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent â€º should clear cleanup interval on destroy\n\n    ReferenceError: jasmine is not defined\n\n      14 |\n      15 |   beforeEach(async () => {\n    > 16 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      17 |       'search',\n      18 |       'reset',\n      19 |       'selectRestaurant',\n\n      at src/app/features/unified-search/search-page/search-page.component.spec.ts:16:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent â€º should track restaurant by id\n\n    ReferenceError: jasmine is not defined\n\n      14 |\n      15 |   beforeEach(async () => {\n    > 16 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      17 |       'search',\n      18 |       'reset',\n      19 |       'selectRestaurant',\n\n      at src/app/features/unified-search/search-page/search-page.component.spec.ts:16:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent â€º should call facade methods for actions\n\n    ReferenceError: jasmine is not defined\n\n      14 |\n      15 |   beforeEach(async () => {\n    > 16 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      17 |       'search',\n      18 |       'reset',\n      19 |       'selectRestaurant',\n\n      at src/app/features/unified-search/search-page/search-page.component.spec.ts:16:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent â€º should call facade for chip and assist actions\n\n    ReferenceError: jasmine is not defined\n\n      14 |\n      15 |   beforeEach(async () => {\n    > 16 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      17 |       'search',\n      18 |       'reset',\n      19 |       'selectRestaurant',\n\n      at src/app/features/unified-search/search-page/search-page.component.spec.ts:16:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent â€º should call retry on facade\n\n    ReferenceError: jasmine is not defined\n\n      14 |\n      15 |   beforeEach(async () => {\n    > 16 |     const facadeSpy = jasmine.createSpyObj('SearchFacade', [\n         |                       ^\n      17 |       'search',\n      18 |       'reset',\n      19 |       'selectRestaurant',\n\n      at src/app/features/unified-search/search-page/search-page.component.spec.ts:16:23\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchPageComponent"],"duration":4,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts:16:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent should create","status":"failed","title":"should create"},{"ancestorTitles":["SearchPageComponent"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts:16:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent should have popular searches","status":"failed","title":"should have popular searches"},{"ancestorTitles":["SearchPageComponent"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts:16:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent should call facade.search on search","status":"failed","title":"should call facade.search on search"},{"ancestorTitles":["SearchPageComponent"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts:16:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent should call facade.reset on clear","status":"failed","title":"should call facade.reset on clear"},{"ancestorTitles":["SearchPageComponent"],"duration":0,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts:16:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent should setup cleanup interval on init","status":"failed","title":"should setup cleanup interval on init"},{"ancestorTitles":["SearchPageComponent"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts:16:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent should clear cleanup interval on destroy","status":"failed","title":"should clear cleanup interval on destroy"},{"ancestorTitles":["SearchPageComponent"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts:16:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent should track restaurant by id","status":"failed","title":"should track restaurant by id"},{"ancestorTitles":["SearchPageComponent"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts:16:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent should call facade methods for actions","status":"failed","title":"should call facade methods for actions"},{"ancestorTitles":["SearchPageComponent"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts:16:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent should call facade for chip and assist actions","status":"failed","title":"should call facade for chip and assist actions"},{"ancestorTitles":["SearchPageComponent"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\search-page.component.spec.ts:16:23\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent should call retry on facade","status":"failed","title":"should call retry on facade"}]},{"numFailingTests":3,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890832978,"runtime":2762,"slow":false,"start":1769890830216},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\actions.api.spec.ts","failureMessage":"  â— ActionsApiClient â€º should call approve action endpoint\n\n    Expected one matching request for criteria \"Match URL: /api/actions/action-123/approve\", found none. Requests received are: POST http://localhost:3000/api/v1/actions/action-123/approve.\n\n      45 |     });\n      46 |\n    > 47 |     const req = httpMock.expectOne(`/api/actions/${actionId}/approve`);\n         |                          ^\n      48 |     expect(req.request.method).toBe('POST');\n      49 |     req.flush(mockResult);\n      50 |   });\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/api/actions.api.spec.ts:47:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— ActionsApiClient â€º should call approve action endpoint\n\n    Expected no open requests, found 1: POST http://localhost:3000/api/v1/actions/action-123/approve\n\n      23 |\n      24 |   afterEach(() => {\n    > 25 |     httpMock.verify();\n         |              ^\n      26 |   });\n      27 |\n      28 |   it('should be created', () => {\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/api/actions.api.spec.ts:25:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— ActionsApiClient â€º should handle approval error\n\n    Expected one matching request for criteria \"Match URL: /api/actions/action-123/approve\", found none. Requests received are: POST http://localhost:3000/api/v1/actions/action-123/approve.\n\n      60 |     });\n      61 |\n    > 62 |     const req = httpMock.expectOne(`/api/actions/${actionId}/approve`);\n         |                          ^\n      63 |     req.flush({ error: 'Approval failed' }, { status: 500, statusText: 'Server Error' });\n      64 |   });\n      65 |\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/api/actions.api.spec.ts:62:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— ActionsApiClient â€º should handle approval error\n\n    Expected no open requests, found 1: POST http://localhost:3000/api/v1/actions/action-123/approve\n\n      23 |\n      24 |   afterEach(() => {\n    > 25 |     httpMock.verify();\n         |              ^\n      26 |   });\n      27 |\n      28 |   it('should be created', () => {\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/api/actions.api.spec.ts:25:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— ActionsApiClient â€º should get action status\n\n    Expected one matching request for criteria \"Match URL: /api/actions/action-123\", found none. Requests received are: GET http://localhost:3000/api/v1/actions/action-123.\n\n      86 |     });\n      87 |\n    > 88 |     const req = httpMock.expectOne(`/api/actions/${actionId}`);\n         |                          ^\n      89 |     expect(req.request.method).toBe('GET');\n      90 |     req.flush(mockStatus);\n      91 |   });\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/api/actions.api.spec.ts:88:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— ActionsApiClient â€º should get action status\n\n    Expected no open requests, found 1: GET http://localhost:3000/api/v1/actions/action-123\n\n      23 |\n      24 |   afterEach(() => {\n    > 25 |     httpMock.verify();\n         |              ^\n      26 |   });\n      27 |\n      28 |   it('should be created', () => {\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/api/actions.api.spec.ts:25:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["ActionsApiClient"],"duration":75,"failureMessages":[],"fullName":"ActionsApiClient should be created","status":"passed","title":"should be created"},{"ancestorTitles":["ActionsApiClient"],"duration":78,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/actions/action-123/approve\", found none. Requests received are: POST http://localhost:3000/api/v1/actions/action-123/approve.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\actions.api.spec.ts:47:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: POST http://localhost:3000/api/v1/actions/action-123/approve\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\actions.api.spec.ts:25:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"ActionsApiClient should call approve action endpoint","status":"failed","title":"should call approve action endpoint"},{"ancestorTitles":["ActionsApiClient"],"duration":12,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/actions/action-123/approve\", found none. Requests received are: POST http://localhost:3000/api/v1/actions/action-123/approve.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\actions.api.spec.ts:62:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: POST http://localhost:3000/api/v1/actions/action-123/approve\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\actions.api.spec.ts:25:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"ActionsApiClient should handle approval error","status":"failed","title":"should handle approval error"},{"ancestorTitles":["ActionsApiClient"],"duration":19,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/actions/action-123\", found none. Requests received are: GET http://localhost:3000/api/v1/actions/action-123.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\actions.api.spec.ts:88:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: GET http://localhost:3000/api/v1/actions/action-123\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\actions.api.spec.ts:25:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"ActionsApiClient should get action status","status":"failed","title":"should get action status"}]},{"numFailingTests":18,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890833399,"runtime":2776,"slow":false,"start":1769890830623},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts","failureMessage":"  â— SearchFacade - State Management (UI/UX Contract) â€º Sort State (Single-Select) â€º should initialize with BEST_MATCH as default sort\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Sort State (Single-Select) â€º should activate RATING sort and deactivate BEST_MATCH (single-select)\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Sort State (Single-Select) â€º should activate CLOSEST sort and deactivate previous sort\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Sort State (Single-Select) â€º should only have ONE sort active at a time\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Sort State (Single-Select) â€º should map legacy chip IDs correctly (toprated â†’ RATING_DESC)\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Filter State (Multi-Select) â€º should initialize with no active filters\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Filter State (Multi-Select) â€º should add delivery filter when clicked\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Filter State (Multi-Select) â€º should toggle filter off when clicked again\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Filter State (Multi-Select) â€º should allow multiple filters to be active simultaneously\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Filter State (Multi-Select) â€º should not affect sort state when toggling filters\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Filter State (Multi-Select) â€º should trigger re-search with priceLevel filter when budget chip clicked\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Filter State (Multi-Select) â€º should trigger re-search without filter when budget chip removed\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º Filter State (Multi-Select) â€º should combine multiple filters when re-searching\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º View State (Single-Select) â€º should initialize with LIST as default view\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º View State (Single-Select) â€º should switch to MAP view when map chip clicked\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º State Independence â€º should not affect filter state when changing sort\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º State Independence â€º should not affect sort state when changing view\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchFacade - State Management (UI/UX Contract) â€º State Independence â€º should maintain all three states independently\n\n    ReferenceError: jasmine is not defined\n\n      23 |\n      24 |   beforeEach(() => {\n    > 25 |     const searchStoreSpy = jasmine.createSpyObj('SearchStore', ['reset'], {\n         |                            ^\n      26 |       loading: jasmine.createSpy('loading').and.returnValue(false),\n      27 |       error: jasmine.createSpy('error').and.returnValue(null),\n      28 |       query: jasmine.createSpy('query').and.returnValue('pizza in tel aviv'),\n\n      at src/app/facades/search.facade.spec.ts:25:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Sort State (Single-Select)"],"duration":3,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Sort State (Single-Select) should initialize with BEST_MATCH as default sort","status":"failed","title":"should initialize with BEST_MATCH as default sort"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Sort State (Single-Select)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Sort State (Single-Select) should activate RATING sort and deactivate BEST_MATCH (single-select)","status":"failed","title":"should activate RATING sort and deactivate BEST_MATCH (single-select)"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Sort State (Single-Select)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Sort State (Single-Select) should activate CLOSEST sort and deactivate previous sort","status":"failed","title":"should activate CLOSEST sort and deactivate previous sort"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Sort State (Single-Select)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Sort State (Single-Select) should only have ONE sort active at a time","status":"failed","title":"should only have ONE sort active at a time"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Sort State (Single-Select)"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Sort State (Single-Select) should map legacy chip IDs correctly (toprated â†’ RATING_DESC)","status":"failed","title":"should map legacy chip IDs correctly (toprated â†’ RATING_DESC)"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Filter State (Multi-Select)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Filter State (Multi-Select) should initialize with no active filters","status":"failed","title":"should initialize with no active filters"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Filter State (Multi-Select)"],"duration":3,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Filter State (Multi-Select) should add delivery filter when clicked","status":"failed","title":"should add delivery filter when clicked"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Filter State (Multi-Select)"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Filter State (Multi-Select) should toggle filter off when clicked again","status":"failed","title":"should toggle filter off when clicked again"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Filter State (Multi-Select)"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Filter State (Multi-Select) should allow multiple filters to be active simultaneously","status":"failed","title":"should allow multiple filters to be active simultaneously"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Filter State (Multi-Select)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Filter State (Multi-Select) should not affect sort state when toggling filters","status":"failed","title":"should not affect sort state when toggling filters"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Filter State (Multi-Select)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Filter State (Multi-Select) should trigger re-search with priceLevel filter when budget chip clicked","status":"failed","title":"should trigger re-search with priceLevel filter when budget chip clicked"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Filter State (Multi-Select)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Filter State (Multi-Select) should trigger re-search without filter when budget chip removed","status":"failed","title":"should trigger re-search without filter when budget chip removed"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","Filter State (Multi-Select)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) Filter State (Multi-Select) should combine multiple filters when re-searching","status":"failed","title":"should combine multiple filters when re-searching"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","View State (Single-Select)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) View State (Single-Select) should initialize with LIST as default view","status":"failed","title":"should initialize with LIST as default view"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","View State (Single-Select)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) View State (Single-Select) should switch to MAP view when map chip clicked","status":"failed","title":"should switch to MAP view when map chip clicked"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","State Independence"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) State Independence should not affect filter state when changing sort","status":"failed","title":"should not affect filter state when changing sort"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","State Independence"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) State Independence should not affect sort state when changing view","status":"failed","title":"should not affect sort state when changing view"},{"ancestorTitles":["SearchFacade - State Management (UI/UX Contract)","State Independence"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search.facade.spec.ts:25:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchFacade - State Management (UI/UX Contract) State Independence should maintain all three states independently","status":"failed","title":"should maintain all three states independently"}]},{"numFailingTests":2,"numPassingTests":6,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890833957,"runtime":6948,"slow":true,"start":1769890827009},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\ranked-results\\ranked-results.component.spec.ts","failureMessage":"  â— RankedResultsComponent â€º should not re-sort results (preserve backend order)\n\n    expect(received).toBeGreaterThan(expected)\n\n    Expected: > 0\n    Received:   0\n\n       98 |\n       99 |     // Results should maintain original order\n    > 100 |     expect(renderedIds.length).toBeGreaterThan(0);\n          |                                ^\n      101 |   });\n      102 |\n      103 |   it('should emit restaurantClick when card is clicked', () => {\n\n      at src/app/features/unified-search/components/ranked-results/ranked-results.component.spec.ts:100:32\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— RankedResultsComponent â€º should emit restaurantClick when card is clicked\n\n    ReferenceError: spyOn is not defined\n\n      105 |     fixture.detectChanges();\n      106 |\n    > 107 |     spyOn(component.restaurantClick, 'emit');\n          |     ^\n      108 |     component.onRestaurantClick(mockResults[0]);\n      109 |\n      110 |     expect(component.restaurantClick.emit).toHaveBeenCalledWith(mockResults[0]);\n\n      at src/app/features/unified-search/components/ranked-results/ranked-results.component.spec.ts:107:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["RankedResultsComponent"],"duration":890,"failureMessages":[],"fullName":"RankedResultsComponent should create","status":"passed","title":"should create"},{"ancestorTitles":["RankedResultsComponent"],"duration":365,"failureMessages":[],"fullName":"RankedResultsComponent should render single flat list (no grouped sections)","status":"passed","title":"should render single flat list (no grouped sections)"},{"ancestorTitles":["RankedResultsComponent"],"duration":107,"failureMessages":[],"fullName":"RankedResultsComponent should show reason label on top result only","status":"passed","title":"should show reason label on top result only"},{"ancestorTitles":["RankedResultsComponent"],"duration":172,"failureMessages":["Error: expect(received).toBeGreaterThan(expected)\n\nExpected: > 0\nReceived:   0\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\ranked-results\\ranked-results.component.spec.ts:100:32\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RankedResultsComponent should not re-sort results (preserve backend order)","status":"failed","title":"should not re-sort results (preserve backend order)"},{"ancestorTitles":["RankedResultsComponent"],"duration":170,"failureMessages":["ReferenceError: spyOn is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\ranked-results\\ranked-results.component.spec.ts:107:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RankedResultsComponent should emit restaurantClick when card is clicked","status":"failed","title":"should emit restaurantClick when card is clicked"},{"ancestorTitles":["RankedResultsComponent"],"duration":77,"failureMessages":[],"fullName":"RankedResultsComponent should show empty state when no results","status":"passed","title":"should show empty state when no results"},{"ancestorTitles":["RankedResultsComponent"],"duration":47,"failureMessages":[],"fullName":"RankedResultsComponent should show loading state when loading","status":"passed","title":"should show loading state when loading"},{"ancestorTitles":["RankedResultsComponent"],"duration":92,"failureMessages":[],"fullName":"RankedResultsComponent should return top result correctly","status":"passed","title":"should return top result correctly"}]},{"numFailingTests":3,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890834294,"runtime":3169,"slow":false,"start":1769890831125},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\flags.api.spec.ts","failureMessage":"  â— FlagsApiClient â€º should load flags from backend\n\n    Expected one matching request for criteria \"Match URL: /api/flags\", found none. Requests received are: GET http://localhost:3000/api/v1/flags.\n\n      45 |     });\n      46 |\n    > 47 |     const req = httpMock.expectOne('/api/flags');\n         |                          ^\n      48 |     expect(req.request.method).toBe('GET');\n      49 |     req.flush(mockFlags);\n      50 |   });\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/api/flags.api.spec.ts:47:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— FlagsApiClient â€º should load flags from backend\n\n    Expected no open requests, found 1: GET http://localhost:3000/api/v1/flags\n\n      22 |\n      23 |   afterEach(() => {\n    > 24 |     httpMock.verify();\n         |              ^\n      25 |   });\n      26 |\n      27 |   it('should be created', () => {\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/api/flags.api.spec.ts:24:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— FlagsApiClient â€º should fail gracefully with default flags\n\n    Expected one matching request for criteria \"Match URL: /api/flags\", found none. Requests received are: GET http://localhost:3000/api/v1/flags.\n\n      60 |     });\n      61 |\n    > 62 |     const req = httpMock.expectOne('/api/flags');\n         |                          ^\n      63 |     req.flush({ error: 'Not found' }, { status: 404, statusText: 'Not Found' });\n      64 |   });\n      65 |\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/api/flags.api.spec.ts:62:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— FlagsApiClient â€º should fail gracefully with default flags\n\n    Expected no open requests, found 1: GET http://localhost:3000/api/v1/flags\n\n      22 |\n      23 |   afterEach(() => {\n    > 24 |     httpMock.verify();\n         |              ^\n      25 |   });\n      26 |\n      27 |   it('should be created', () => {\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/api/flags.api.spec.ts:24:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— FlagsApiClient â€º should handle network errors gracefully\n\n    Expected one matching request for criteria \"Match URL: /api/flags\", found none. Requests received are: GET http://localhost:3000/api/v1/flags.\n\n      73 |     });\n      74 |\n    > 75 |     const req = httpMock.expectOne('/api/flags');\n         |                          ^\n      76 |     req.error(new ProgressEvent('error'));\n      77 |   });\n      78 | });\n\n      at _HttpClientTestingBackend.expectOne (node_modules/@angular/common/fesm2022/http/testing.mjs:277:19)\n      at src/app/api/flags.api.spec.ts:75:26\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— FlagsApiClient â€º should handle network errors gracefully\n\n    Expected no open requests, found 1: GET http://localhost:3000/api/v1/flags\n\n      22 |\n      23 |   afterEach(() => {\n    > 24 |     httpMock.verify();\n         |              ^\n      25 |   });\n      26 |\n      27 |   it('should be created', () => {\n\n      at _HttpClientTestingBackend.verify (node_modules/@angular/common/fesm2022/http/testing.mjs:305:19)\n      at src/app/api/flags.api.spec.ts:24:14\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["FlagsApiClient"],"duration":136,"failureMessages":[],"fullName":"FlagsApiClient should be created","status":"passed","title":"should be created"},{"ancestorTitles":["FlagsApiClient"],"duration":91,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/flags\", found none. Requests received are: GET http://localhost:3000/api/v1/flags.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\flags.api.spec.ts:47:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: GET http://localhost:3000/api/v1/flags\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\flags.api.spec.ts:24:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"FlagsApiClient should load flags from backend","status":"failed","title":"should load flags from backend"},{"ancestorTitles":["FlagsApiClient"],"duration":29,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/flags\", found none. Requests received are: GET http://localhost:3000/api/v1/flags.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\flags.api.spec.ts:62:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: GET http://localhost:3000/api/v1/flags\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\flags.api.spec.ts:24:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"FlagsApiClient should fail gracefully with default flags","status":"failed","title":"should fail gracefully with default flags"},{"ancestorTitles":["FlagsApiClient"],"duration":137,"failureMessages":["Error: Expected one matching request for criteria \"Match URL: /api/flags\", found none. Requests received are: GET http://localhost:3000/api/v1/flags.\n    at _HttpClientTestingBackend.expectOne (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:277:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\flags.api.spec.ts:75:26\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:290:26)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)","Error: Expected no open requests, found 1: GET http://localhost:3000/api/v1/flags\n    at _HttpClientTestingBackend.verify (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@angular\\common\\fesm2022\\http\\testing.mjs:305:19)\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\flags.api.spec.ts:24:14\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:254:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"FlagsApiClient should handle network errors gracefully","status":"failed","title":"should handle network errors gracefully"}]},{"numFailingTests":5,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890834656,"runtime":3441,"slow":false,"start":1769890831215},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\core\\guards\\feature-flag.guard.spec.ts","failureMessage":"  â— featureFlagGuard â€º should allow access when flag is enabled\n\n    ReferenceError: jasmine is not defined\n\n      19 |           provide: Router,\n      20 |           useValue: {\n    > 21 |             createUrlTree: jasmine.createSpy('createUrlTree').and.returnValue({} as UrlTree)\n         |                            ^\n      22 |           }\n      23 |         }\n      24 |       ]\n\n      at src/app/core/guards/feature-flag.guard.spec.ts:21:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— featureFlagGuard â€º should redirect when flag is disabled\n\n    ReferenceError: jasmine is not defined\n\n      19 |           provide: Router,\n      20 |           useValue: {\n    > 21 |             createUrlTree: jasmine.createSpy('createUrlTree').and.returnValue({} as UrlTree)\n         |                            ^\n      22 |           }\n      23 |         }\n      24 |       ]\n\n      at src/app/core/guards/feature-flag.guard.spec.ts:21:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— featureFlagGuard â€º should redirect to custom path when specified\n\n    ReferenceError: jasmine is not defined\n\n      19 |           provide: Router,\n      20 |           useValue: {\n    > 21 |             createUrlTree: jasmine.createSpy('createUrlTree').and.returnValue({} as UrlTree)\n         |                            ^\n      22 |           }\n      23 |         }\n      24 |       ]\n\n      at src/app/core/guards/feature-flag.guard.spec.ts:21:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— featureFlagGuard â€º should default to false when flag does not exist\n\n    ReferenceError: jasmine is not defined\n\n      19 |           provide: Router,\n      20 |           useValue: {\n    > 21 |             createUrlTree: jasmine.createSpy('createUrlTree').and.returnValue({} as UrlTree)\n         |                            ^\n      22 |           }\n      23 |         }\n      24 |       ]\n\n      at src/app/core/guards/feature-flag.guard.spec.ts:21:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— unifiedSearchGuard â€º should check unifiedSearch flag\n\n    ReferenceError: jasmine is not defined\n\n      76 |           provide: Router,\n      77 |           useValue: {\n    > 78 |             createUrlTree: jasmine.createSpy('createUrlTree').and.returnValue({} as UrlTree)\n         |                            ^\n      79 |           }\n      80 |         }\n      81 |       ]\n\n      at src/app/core/guards/feature-flag.guard.spec.ts:78:28\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["featureFlagGuard"],"duration":3,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\core\\guards\\feature-flag.guard.spec.ts:21:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"featureFlagGuard should allow access when flag is enabled","status":"failed","title":"should allow access when flag is enabled"},{"ancestorTitles":["featureFlagGuard"],"duration":7,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\core\\guards\\feature-flag.guard.spec.ts:21:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"featureFlagGuard should redirect when flag is disabled","status":"failed","title":"should redirect when flag is disabled"},{"ancestorTitles":["featureFlagGuard"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\core\\guards\\feature-flag.guard.spec.ts:21:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"featureFlagGuard should redirect to custom path when specified","status":"failed","title":"should redirect to custom path when specified"},{"ancestorTitles":["featureFlagGuard"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\core\\guards\\feature-flag.guard.spec.ts:21:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"featureFlagGuard should default to false when flag does not exist","status":"failed","title":"should default to false when flag does not exist"},{"ancestorTitles":["unifiedSearchGuard"],"duration":2,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\core\\guards\\feature-flag.guard.spec.ts:78:28\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"unifiedSearchGuard should check unifiedSearch flag","status":"failed","title":"should check unifiedSearch flag"}]},{"numFailingTests":0,"numPassingTests":32,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890835565,"runtime":3616,"slow":false,"start":1769890831949},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\i18n\\search-narration.i18n.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["SearchNarration i18n","t() - Translation function"],"duration":8,"failureMessages":[],"fullName":"SearchNarration i18n t() - Translation function should translate to English","status":"passed","title":"should translate to English"},{"ancestorTitles":["SearchNarration i18n","t() - Translation function"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n t() - Translation function should translate to Hebrew","status":"passed","title":"should translate to Hebrew"},{"ancestorTitles":["SearchNarration i18n","t() - Translation function"],"duration":36,"failureMessages":[],"fullName":"SearchNarration i18n t() - Translation function should translate to Russian","status":"passed","title":"should translate to Russian"},{"ancestorTitles":["SearchNarration i18n","t() - Translation function"],"duration":1,"failureMessages":[],"fullName":"SearchNarration i18n t() - Translation function should translate to Arabic","status":"passed","title":"should translate to Arabic"},{"ancestorTitles":["SearchNarration i18n","t() - Translation function"],"duration":3,"failureMessages":[],"fullName":"SearchNarration i18n t() - Translation function should translate to French","status":"passed","title":"should translate to French"},{"ancestorTitles":["SearchNarration i18n","t() - Translation function"],"duration":1,"failureMessages":[],"fullName":"SearchNarration i18n t() - Translation function should translate to Spanish","status":"passed","title":"should translate to Spanish"},{"ancestorTitles":["SearchNarration i18n","t() - Translation function"],"duration":1,"failureMessages":[],"fullName":"SearchNarration i18n t() - Translation function should fallback to English for \"other\" language","status":"passed","title":"should fallback to English for \"other\" language"},{"ancestorTitles":["SearchNarration i18n","t() - Translation function"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n t() - Translation function should fallback to English if translation missing in specific language","status":"passed","title":"should fallback to English if translation missing in specific language"},{"ancestorTitles":["SearchNarration i18n","t() - Translation function"],"duration":45,"failureMessages":[],"fullName":"SearchNarration i18n t() - Translation function should return key itself if translation missing in all languages","status":"passed","title":"should return key itself if translation missing in all languages"},{"ancestorTitles":["SearchNarration i18n","t() - Variable interpolation"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n t() - Variable interpolation should interpolate single variable","status":"passed","title":"should interpolate single variable"},{"ancestorTitles":["SearchNarration i18n","t() - Variable interpolation"],"duration":0,"failureMessages":[],"fullName":"SearchNarration i18n t() - Variable interpolation should interpolate multiple variables","status":"passed","title":"should interpolate multiple variables"},{"ancestorTitles":["SearchNarration i18n","t() - Variable interpolation"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n t() - Variable interpolation should handle missing variables gracefully","status":"passed","title":"should handle missing variables gracefully"},{"ancestorTitles":["SearchNarration i18n","normalizeLang()"],"duration":3,"failureMessages":[],"fullName":"SearchNarration i18n normalizeLang() should normalize English variants","status":"passed","title":"should normalize English variants"},{"ancestorTitles":["SearchNarration i18n","normalizeLang()"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n normalizeLang() should normalize Hebrew variants","status":"passed","title":"should normalize Hebrew variants"},{"ancestorTitles":["SearchNarration i18n","normalizeLang()"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n normalizeLang() should normalize Russian","status":"passed","title":"should normalize Russian"},{"ancestorTitles":["SearchNarration i18n","normalizeLang()"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n normalizeLang() should normalize Arabic","status":"passed","title":"should normalize Arabic"},{"ancestorTitles":["SearchNarration i18n","normalizeLang()"],"duration":1,"failureMessages":[],"fullName":"SearchNarration i18n normalizeLang() should normalize French","status":"passed","title":"should normalize French"},{"ancestorTitles":["SearchNarration i18n","normalizeLang()"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n normalizeLang() should normalize Spanish","status":"passed","title":"should normalize Spanish"},{"ancestorTitles":["SearchNarration i18n","normalizeLang()"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n normalizeLang() should fallback to \"other\" for unsupported languages","status":"passed","title":"should fallback to \"other\" for unsupported languages"},{"ancestorTitles":["SearchNarration i18n","normalizeLang()"],"duration":1,"failureMessages":[],"fullName":"SearchNarration i18n normalizeLang() should fallback to \"en\" for undefined/empty input","status":"passed","title":"should fallback to \"en\" for undefined/empty input"},{"ancestorTitles":["SearchNarration i18n","isRTL()"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n isRTL() should return true for RTL languages","status":"passed","title":"should return true for RTL languages"},{"ancestorTitles":["SearchNarration i18n","isRTL()"],"duration":6,"failureMessages":[],"fullName":"SearchNarration i18n isRTL() should return false for LTR languages","status":"passed","title":"should return false for LTR languages"},{"ancestorTitles":["SearchNarration i18n","isLangSupported()"],"duration":3,"failureMessages":[],"fullName":"SearchNarration i18n isLangSupported() should return true for supported languages","status":"passed","title":"should return true for supported languages"},{"ancestorTitles":["SearchNarration i18n","isLangSupported()"],"duration":4,"failureMessages":[],"fullName":"SearchNarration i18n isLangSupported() should return false for unsupported languages","status":"passed","title":"should return false for unsupported languages"},{"ancestorTitles":["SearchNarration i18n","Message completeness"],"duration":460,"failureMessages":[],"fullName":"SearchNarration i18n Message completeness should have all message keys in all languages","status":"passed","title":"should have all message keys in all languages"},{"ancestorTitles":["SearchNarration i18n","Message completeness"],"duration":12,"failureMessages":[],"fullName":"SearchNarration i18n Message completeness should not have duplicate messages","status":"passed","title":"should not have duplicate messages"},{"ancestorTitles":["SearchNarration i18n","Message completeness"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n Message completeness should have consistent placeholder syntax across languages","status":"passed","title":"should have consistent placeholder syntax across languages"},{"ancestorTitles":["SearchNarration i18n","Message quality checks"],"duration":339,"failureMessages":[],"fullName":"SearchNarration i18n Message quality checks should not have HTML tags in messages","status":"passed","title":"should not have HTML tags in messages"},{"ancestorTitles":["SearchNarration i18n","Message quality checks"],"duration":15,"failureMessages":[],"fullName":"SearchNarration i18n Message quality checks should preserve emoji consistency across languages where appropriate","status":"passed","title":"should preserve emoji consistency across languages where appropriate"},{"ancestorTitles":["SearchNarration i18n","Integration scenarios"],"duration":3,"failureMessages":[],"fullName":"SearchNarration i18n Integration scenarios should handle language switching in UI","status":"passed","title":"should handle language switching in UI"},{"ancestorTitles":["SearchNarration i18n","Integration scenarios"],"duration":5,"failureMessages":[],"fullName":"SearchNarration i18n Integration scenarios should handle backend language codes","status":"passed","title":"should handle backend language codes"},{"ancestorTitles":["SearchNarration i18n","Integration scenarios"],"duration":2,"failureMessages":[],"fullName":"SearchNarration i18n Integration scenarios should handle assistant message language priority","status":"passed","title":"should handle assistant message language priority"}]},{"numFailingTests":0,"numPassingTests":26,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890836902,"runtime":2524,"slow":false,"start":1769890834378},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\domain\\mappers\\assistant-message.mapper.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":7,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return true for CLARIFY","status":"passed","title":"should return true for CLARIFY"},{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return true for SUMMARY","status":"passed","title":"should return true for SUMMARY"},{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return true for GATE_FAIL","status":"passed","title":"should return true for GATE_FAIL"},{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return false for invalid types","status":"passed","title":"should return false for invalid types"},{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return false for undefined","status":"passed","title":"should return false for undefined"},{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return false for empty string","status":"passed","title":"should return false for empty string"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":6,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should extract valid SUMMARY message","status":"passed","title":"should extract valid SUMMARY message"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":3,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should extract CLARIFY message with question","status":"passed","title":"should extract CLARIFY message with question"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":3,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should extract GATE_FAIL message","status":"passed","title":"should extract GATE_FAIL message"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should return null for missing payload","status":"passed","title":"should return null for missing payload"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should return null for invalid type","status":"passed","title":"should return null for invalid type"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":11,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should return null for empty message","status":"passed","title":"should return null for empty message"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should generate stable ID","status":"passed","title":"should generate stable ID"},{"ancestorTitles":["Assistant Message Mapper","generateMessageId"],"duration":3,"failureMessages":[],"fullName":"Assistant Message Mapper generateMessageId should generate ID with all components","status":"passed","title":"should generate ID with all components"},{"ancestorTitles":["Assistant Message Mapper","generateMessageId"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper generateMessageId should be deterministic for same inputs","status":"passed","title":"should be deterministic for same inputs"},{"ancestorTitles":["Assistant Message Mapper","generateMessageId"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper generateMessageId should generate different IDs for different timestamps","status":"passed","title":"should generate different IDs for different timestamps"},{"ancestorTitles":["Assistant Message Mapper","generateMessageId"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper generateMessageId should generate different IDs for different types","status":"passed","title":"should generate different IDs for different types"},{"ancestorTitles":["Assistant Message Mapper","generateMessageId"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper generateMessageId should generate different IDs for different requestIds","status":"passed","title":"should generate different IDs for different requestIds"},{"ancestorTitles":["Assistant Message Mapper","extractMessageText"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper extractMessageText should extract from message field","status":"passed","title":"should extract from message field"},{"ancestorTitles":["Assistant Message Mapper","extractMessageText"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper extractMessageText should fallback to question field","status":"passed","title":"should fallback to question field"},{"ancestorTitles":["Assistant Message Mapper","extractMessageText"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper extractMessageText should prioritize message over question","status":"passed","title":"should prioritize message over question"},{"ancestorTitles":["Assistant Message Mapper","extractMessageText"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper extractMessageText should return empty string if both missing","status":"passed","title":"should return empty string if both missing"},{"ancestorTitles":["Assistant Message Mapper","doesMessageBlockSearch"],"duration":7,"failureMessages":[],"fullName":"Assistant Message Mapper doesMessageBlockSearch should return true when blocksSearch is true","status":"passed","title":"should return true when blocksSearch is true"},{"ancestorTitles":["Assistant Message Mapper","doesMessageBlockSearch"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper doesMessageBlockSearch should return false when blocksSearch is false","status":"passed","title":"should return false when blocksSearch is false"},{"ancestorTitles":["Assistant Message Mapper","doesMessageBlockSearch"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper doesMessageBlockSearch should return false when blocksSearch is missing","status":"passed","title":"should return false when blocksSearch is missing"},{"ancestorTitles":["Assistant Message Mapper","doesMessageBlockSearch"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper doesMessageBlockSearch should return false when blocksSearch is undefined","status":"passed","title":"should return false when blocksSearch is undefined"}]},{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"runtime":0,"slow":false,"start":0},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\assistant-panel\\__tests__\\sequential-search-state.spec.ts","failureMessage":"  â— Test suite failed to run\n\n    Your test suite must contain at least one test.\n\n      at onResult (node_modules/@jest/core/build/TestScheduler.js:133:18)\n      at node_modules/@jest/core/build/TestScheduler.js:254:19\n      at node_modules/emittery/index.js:363:13\n          at Array.map (<anonymous>)\n      at Emittery.emit (node_modules/emittery/index.js:361:23)\n","testResults":[]},{"numFailingTests":8,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890837102,"runtime":3709,"slow":false,"start":1769890833393},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\clarify-state-guard.spec.ts","failureMessage":"  â— SearchPageComponent - CLARIFY State Guard â€º CLARIFY Response - Results Blocking â€º should NOT show results when isStopped is true (CLARIFY state)\n\n    ReferenceError: jasmine is not defined\n\n      25 |     };\n      26 |\n    > 27 |     facade = jasmine.createSpyObj('SearchFacade', ['search', 'reset'], {\n         |     ^\n      28 |       query: signal('×ž×” ×œ××›×•×œ'),\n      29 |       loading: signal(false),\n      30 |       results: computed(() => []),\n\n      at src/app/features/unified-search/search-page/__tests__/clarify-state-guard.spec.ts:27:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - CLARIFY State Guard â€º CLARIFY Response - Results Blocking â€º should NOT show results when cardState is CLARIFY\n\n    ReferenceError: jasmine is not defined\n\n      25 |     };\n      26 |\n    > 27 |     facade = jasmine.createSpyObj('SearchFacade', ['search', 'reset'], {\n         |     ^\n      28 |       query: signal('×ž×” ×œ××›×•×œ'),\n      29 |       loading: signal(false),\n      30 |       results: computed(() => []),\n\n      at src/app/features/unified-search/search-page/__tests__/clarify-state-guard.spec.ts:27:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - CLARIFY State Guard â€º CLARIFY Response - Results Blocking â€º should show assistant message when in CLARIFY state\n\n    ReferenceError: jasmine is not defined\n\n      25 |     };\n      26 |\n    > 27 |     facade = jasmine.createSpyObj('SearchFacade', ['search', 'reset'], {\n         |     ^\n      28 |       query: signal('×ž×” ×œ××›×•×œ'),\n      29 |       loading: signal(false),\n      30 |       results: computed(() => []),\n\n      at src/app/features/unified-search/search-page/__tests__/clarify-state-guard.spec.ts:27:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - CLARIFY State Guard â€º CLARIFY Response - Results Blocking â€º should preserve query text when in CLARIFY state\n\n    ReferenceError: jasmine is not defined\n\n      25 |     };\n      26 |\n    > 27 |     facade = jasmine.createSpyObj('SearchFacade', ['search', 'reset'], {\n         |     ^\n      28 |       query: signal('×ž×” ×œ××›×•×œ'),\n      29 |       loading: signal(false),\n      30 |       results: computed(() => []),\n\n      at src/app/features/unified-search/search-page/__tests__/clarify-state-guard.spec.ts:27:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - CLARIFY State Guard â€º CLARIFY Response - Race Condition (results arrive late) â€º should ignore results that arrive after CLARIFY message\n\n    ReferenceError: jasmine is not defined\n\n      25 |     };\n      26 |\n    > 27 |     facade = jasmine.createSpyObj('SearchFacade', ['search', 'reset'], {\n         |     ^\n      28 |       query: signal('×ž×” ×œ××›×•×œ'),\n      29 |       loading: signal(false),\n      30 |       results: computed(() => []),\n\n      at src/app/features/unified-search/search-page/__tests__/clarify-state-guard.spec.ts:27:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - CLARIFY State Guard â€º CLARIFY Response - Race Condition (results arrive late) â€º should NOT render Load More when isStopped is true\n\n    ReferenceError: jasmine is not defined\n\n      25 |     };\n      26 |\n    > 27 |     facade = jasmine.createSpyObj('SearchFacade', ['search', 'reset'], {\n         |     ^\n      28 |       query: signal('×ž×” ×œ××›×•×œ'),\n      29 |       loading: signal(false),\n      30 |       results: computed(() => []),\n\n      at src/app/features/unified-search/search-page/__tests__/clarify-state-guard.spec.ts:27:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - CLARIFY State Guard â€º CLARIFY Response - Backend Invariant Validation â€º should handle CLARIFY response with empty results (backend invariant)\n\n    ReferenceError: jasmine is not defined\n\n      25 |     };\n      26 |\n    > 27 |     facade = jasmine.createSpyObj('SearchFacade', ['search', 'reset'], {\n         |     ^\n      28 |       query: signal('×ž×” ×œ××›×•×œ'),\n      29 |       loading: signal(false),\n      30 |       results: computed(() => []),\n\n      at src/app/features/unified-search/search-page/__tests__/clarify-state-guard.spec.ts:27:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— SearchPageComponent - CLARIFY State Guard â€º Success Case - NOT CLARIFY (baseline) â€º should show results when NOT in CLARIFY state and has results\n\n    ReferenceError: jasmine is not defined\n\n      25 |     };\n      26 |\n    > 27 |     facade = jasmine.createSpyObj('SearchFacade', ['search', 'reset'], {\n         |     ^\n      28 |       query: signal('×ž×” ×œ××›×•×œ'),\n      29 |       loading: signal(false),\n      30 |       results: computed(() => []),\n\n      at src/app/features/unified-search/search-page/__tests__/clarify-state-guard.spec.ts:27:5\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["SearchPageComponent - CLARIFY State Guard","CLARIFY Response - Results Blocking"],"duration":3,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\clarify-state-guard.spec.ts:27:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - CLARIFY State Guard CLARIFY Response - Results Blocking should NOT show results when isStopped is true (CLARIFY state)","status":"failed","title":"should NOT show results when isStopped is true (CLARIFY state)"},{"ancestorTitles":["SearchPageComponent - CLARIFY State Guard","CLARIFY Response - Results Blocking"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\clarify-state-guard.spec.ts:27:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - CLARIFY State Guard CLARIFY Response - Results Blocking should NOT show results when cardState is CLARIFY","status":"failed","title":"should NOT show results when cardState is CLARIFY"},{"ancestorTitles":["SearchPageComponent - CLARIFY State Guard","CLARIFY Response - Results Blocking"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\clarify-state-guard.spec.ts:27:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - CLARIFY State Guard CLARIFY Response - Results Blocking should show assistant message when in CLARIFY state","status":"failed","title":"should show assistant message when in CLARIFY state"},{"ancestorTitles":["SearchPageComponent - CLARIFY State Guard","CLARIFY Response - Results Blocking"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\clarify-state-guard.spec.ts:27:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - CLARIFY State Guard CLARIFY Response - Results Blocking should preserve query text when in CLARIFY state","status":"failed","title":"should preserve query text when in CLARIFY state"},{"ancestorTitles":["SearchPageComponent - CLARIFY State Guard","CLARIFY Response - Race Condition (results arrive late)"],"duration":7,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\clarify-state-guard.spec.ts:27:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - CLARIFY State Guard CLARIFY Response - Race Condition (results arrive late) should ignore results that arrive after CLARIFY message","status":"failed","title":"should ignore results that arrive after CLARIFY message"},{"ancestorTitles":["SearchPageComponent - CLARIFY State Guard","CLARIFY Response - Race Condition (results arrive late)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\clarify-state-guard.spec.ts:27:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - CLARIFY State Guard CLARIFY Response - Race Condition (results arrive late) should NOT render Load More when isStopped is true","status":"failed","title":"should NOT render Load More when isStopped is true"},{"ancestorTitles":["SearchPageComponent - CLARIFY State Guard","CLARIFY Response - Backend Invariant Validation"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\clarify-state-guard.spec.ts:27:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - CLARIFY State Guard CLARIFY Response - Backend Invariant Validation should handle CLARIFY response with empty results (backend invariant)","status":"failed","title":"should handle CLARIFY response with empty results (backend invariant)"},{"ancestorTitles":["SearchPageComponent - CLARIFY State Guard","Success Case - NOT CLARIFY (baseline)"],"duration":1,"failureMessages":["ReferenceError: jasmine is not defined\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\search-page\\__tests__\\clarify-state-guard.spec.ts:27:5\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusHook (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:281:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:246:5)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"SearchPageComponent - CLARIFY State Guard Success Case - NOT CLARIFY (baseline) should show results when NOT in CLARIFY state and has results","status":"failed","title":"should show results when NOT in CLARIFY state and has results"}]},{"numFailingTests":0,"numPassingTests":24,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890837219,"runtime":2492,"slow":false,"start":1769890834727},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\domain\\mappers\\chip.mapper.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":6,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map sort_best_match to BEST_MATCH","status":"passed","title":"should map sort_best_match to BEST_MATCH"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map best_match to BEST_MATCH","status":"passed","title":"should map best_match to BEST_MATCH"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map sort_closest to CLOSEST","status":"passed","title":"should map sort_closest to CLOSEST"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map closest to CLOSEST","status":"passed","title":"should map closest to CLOSEST"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map sort_rating to RATING_DESC","status":"passed","title":"should map sort_rating to RATING_DESC"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map toprated to RATING_DESC","status":"passed","title":"should map toprated to RATING_DESC"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":2,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map sort_price to PRICE_ASC","status":"passed","title":"should map sort_price to PRICE_ASC"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should default to BEST_MATCH for unknown chip IDs","status":"passed","title":"should default to BEST_MATCH for unknown chip IDs"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":2,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should return empty filters for empty set","status":"passed","title":"should return empty filters for empty set"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":2,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should map opennow filter","status":"passed","title":"should map opennow filter"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should map closednow filter","status":"passed","title":"should map closednow filter"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":2,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should map price filter","status":"passed","title":"should map price filter"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":2,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should validate price level range (1-4)","status":"passed","title":"should validate price level range (1-4)"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should map delivery filter to mustHave","status":"passed","title":"should map delivery filter to mustHave"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":57,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should map dietary filters","status":"passed","title":"should map dietary filters"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":3,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should combine multiple dietary filters","status":"passed","title":"should combine multiple dietary filters"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":2,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should combine multiple filter types","status":"passed","title":"should combine multiple filter types"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":21,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should ignore chips without filter action","status":"passed","title":"should ignore chips without filter action"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":2,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should ignore non-existent chip IDs","status":"passed","title":"should ignore non-existent chip IDs"},{"ancestorTitles":["Chip Mapper","parseFilterString"],"duration":5,"failureMessages":[],"fullName":"Chip Mapper parseFilterString should parse price filter","status":"passed","title":"should parse price filter"},{"ancestorTitles":["Chip Mapper","parseFilterString"],"duration":2,"failureMessages":[],"fullName":"Chip Mapper parseFilterString should parse simple filter","status":"passed","title":"should parse simple filter"},{"ancestorTitles":["Chip Mapper","parseFilterString"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper parseFilterString should parse kosher filter","status":"passed","title":"should parse kosher filter"},{"ancestorTitles":["Chip Mapper","parseFilterString"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper parseFilterString should parse delivery filter","status":"passed","title":"should parse delivery filter"},{"ancestorTitles":["Chip Mapper","parseFilterString"],"duration":2,"failureMessages":[],"fullName":"Chip Mapper parseFilterString should handle empty string","status":"passed","title":"should handle empty string"}]},{"numFailingTests":4,"numPassingTests":20,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890837441,"runtime":3386,"slow":false,"start":1769890834055},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\utils\\navigation.util.spec.ts","failureMessage":"  â— Navigation Utilities â€º buildPhoneUrl â€º should build tel: URL with cleaned phone number\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"tel:+972 3 123 4567\"\n    Received: \"tel:+97231234567\"\n\n      174 |       const url = buildPhoneUrl(phone);\n      175 |\n    > 176 |       expect(url).toBe('tel:+972 3 123 4567');\n          |                   ^\n      177 |     });\n      178 |\n      179 |     it('should handle phone with parentheses', () => {\n\n      at src/app/utils/navigation.util.spec.ts:176:19\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— Navigation Utilities â€º buildPhoneUrl â€º should handle phone with parentheses\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"tel:03 123 4567\"\n    Received: \"tel:03 1234567\"\n\n      181 |       const url = buildPhoneUrl(phone);\n      182 |\n    > 183 |       expect(url).toBe('tel:03 123 4567');\n          |                   ^\n      184 |     });\n      185 |\n      186 |     it('should handle international format', () => {\n\n      at src/app/utils/navigation.util.spec.ts:183:19\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— Navigation Utilities â€º buildPhoneUrl â€º should handle international format\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"tel:+1 555 123 4567\"\n    Received: \"tel:+1 555 1234567\"\n\n      188 |       const url = buildPhoneUrl(phone);\n      189 |\n    > 190 |       expect(url).toBe('tel:+1 555 123 4567');\n          |                   ^\n      191 |     });\n      192 |\n      193 |     it('should remove non-numeric characters except + and spaces', () => {\n\n      at src/app/utils/navigation.util.spec.ts:190:19\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n\n  â— Navigation Utilities â€º buildPhoneUrl â€º should remove non-numeric characters except + and spaces\n\n    expect(received).toContain(expected) // indexOf\n\n    Expected substring: \"tel:+972 3 123 4567\"\n    Received string:    \"tel: +97231234567  100\"\n\n      195 |       const url = buildPhoneUrl(phone);\n      196 |\n    > 197 |       expect(url).toContain('tel:+972 3 123 4567');\n          |                   ^\n      198 |     });\n      199 |   });\n      200 | });\n\n      at src/app/utils/navigation.util.spec.ts:197:19\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["Navigation Utilities","buildNavigationUrl (Primary API)"],"duration":3,"failureMessages":[],"fullName":"Navigation Utilities buildNavigationUrl (Primary API) should build URL with placeId only","status":"passed","title":"should build URL with placeId only"},{"ancestorTitles":["Navigation Utilities","buildNavigationUrl (Primary API)"],"duration":26,"failureMessages":[],"fullName":"Navigation Utilities buildNavigationUrl (Primary API) should build URL with coordinates only","status":"passed","title":"should build URL with coordinates only"},{"ancestorTitles":["Navigation Utilities","buildNavigationUrl (Primary API)"],"duration":3,"failureMessages":[],"fullName":"Navigation Utilities buildNavigationUrl (Primary API) should prioritize placeId when both provided","status":"passed","title":"should prioritize placeId when both provided"},{"ancestorTitles":["Navigation Utilities","buildNavigationUrl (Primary API)"],"duration":66,"failureMessages":[],"fullName":"Navigation Utilities buildNavigationUrl (Primary API) should throw error when no location data provided","status":"passed","title":"should throw error when no location data provided"},{"ancestorTitles":["Navigation Utilities","buildNavigationUrl (Primary API)"],"duration":3,"failureMessages":[],"fullName":"Navigation Utilities buildNavigationUrl (Primary API) should throw error when only lat provided","status":"passed","title":"should throw error when only lat provided"},{"ancestorTitles":["Navigation Utilities","buildNavigationUrl (Primary API)"],"duration":5,"failureMessages":[],"fullName":"Navigation Utilities buildNavigationUrl (Primary API) should throw error when only lng provided","status":"passed","title":"should throw error when only lng provided"},{"ancestorTitles":["Navigation Utilities","buildNavigationUrl (Primary API)"],"duration":2,"failureMessages":[],"fullName":"Navigation Utilities buildNavigationUrl (Primary API) should handle negative coordinates (Southern hemisphere)","status":"passed","title":"should handle negative coordinates (Southern hemisphere)"},{"ancestorTitles":["Navigation Utilities","buildNavigationUrl (Primary API)"],"duration":1,"failureMessages":[],"fullName":"Navigation Utilities buildNavigationUrl (Primary API) should handle high-precision coordinates","status":"passed","title":"should handle high-precision coordinates"},{"ancestorTitles":["Navigation Utilities","buildNavigationUrl (Primary API)"],"duration":1,"failureMessages":[],"fullName":"Navigation Utilities buildNavigationUrl (Primary API) should handle zero coordinates (equator/prime meridian)","status":"passed","title":"should handle zero coordinates (equator/prime meridian)"},{"ancestorTitles":["Navigation Utilities","buildNavigationUrl (Primary API)"],"duration":3,"failureMessages":[],"fullName":"Navigation Utilities buildNavigationUrl (Primary API) should create universal URL that works on desktop and mobile","status":"passed","title":"should create universal URL that works on desktop and mobile"},{"ancestorTitles":["Navigation Utilities","isMobileDevice"],"duration":2,"failureMessages":[],"fullName":"Navigation Utilities isMobileDevice should detect mobile device from user agent","status":"passed","title":"should detect mobile device from user agent"},{"ancestorTitles":["Navigation Utilities","isMobileDevice"],"duration":2,"failureMessages":[],"fullName":"Navigation Utilities isMobileDevice should detect desktop device from user agent","status":"passed","title":"should detect desktop device from user agent"},{"ancestorTitles":["Navigation Utilities","isMobileDevice"],"duration":1,"failureMessages":[],"fullName":"Navigation Utilities isMobileDevice should detect Android device","status":"passed","title":"should detect Android device"},{"ancestorTitles":["Navigation Utilities","buildDirectionsUrl (Legacy API)"],"duration":36,"failureMessages":[],"fullName":"Navigation Utilities buildDirectionsUrl (Legacy API) should build desktop directions URL with coordinates only","status":"passed","title":"should build desktop directions URL with coordinates only"},{"ancestorTitles":["Navigation Utilities","buildDirectionsUrl (Legacy API)"],"duration":4,"failureMessages":[],"fullName":"Navigation Utilities buildDirectionsUrl (Legacy API) should build desktop directions URL with placeId","status":"passed","title":"should build desktop directions URL with placeId"},{"ancestorTitles":["Navigation Utilities","buildDirectionsUrl (Legacy API)"],"duration":2,"failureMessages":[],"fullName":"Navigation Utilities buildDirectionsUrl (Legacy API) should build mobile deep-link URL with placeId","status":"passed","title":"should build mobile deep-link URL with placeId"},{"ancestorTitles":["Navigation Utilities","buildDirectionsUrl (Legacy API)"],"duration":2,"failureMessages":[],"fullName":"Navigation Utilities buildDirectionsUrl (Legacy API) should build mobile deep-link URL with coordinates fallback","status":"passed","title":"should build mobile deep-link URL with coordinates fallback"},{"ancestorTitles":["Navigation Utilities","buildDirectionsUrl (Legacy API)"],"duration":2,"failureMessages":[],"fullName":"Navigation Utilities buildDirectionsUrl (Legacy API) should handle negative coordinates correctly","status":"passed","title":"should handle negative coordinates correctly"},{"ancestorTitles":["Navigation Utilities","buildDirectionsUrl (Legacy API)"],"duration":1,"failureMessages":[],"fullName":"Navigation Utilities buildDirectionsUrl (Legacy API) should handle high-precision coordinates","status":"passed","title":"should handle high-precision coordinates"},{"ancestorTitles":["Navigation Utilities","buildPlaceUrl"],"duration":1,"failureMessages":[],"fullName":"Navigation Utilities buildPlaceUrl should build Google Maps place URL","status":"passed","title":"should build Google Maps place URL"},{"ancestorTitles":["Navigation Utilities","buildPhoneUrl"],"duration":30,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"tel:+972 3 123 4567\"\nReceived: \"tel:+97231234567\"\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\utils\\navigation.util.spec.ts:176:19\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"Navigation Utilities buildPhoneUrl should build tel: URL with cleaned phone number","status":"failed","title":"should build tel: URL with cleaned phone number"},{"ancestorTitles":["Navigation Utilities","buildPhoneUrl"],"duration":12,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"tel:03 123 4567\"\nReceived: \"tel:03 1234567\"\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\utils\\navigation.util.spec.ts:183:19\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"Navigation Utilities buildPhoneUrl should handle phone with parentheses","status":"failed","title":"should handle phone with parentheses"},{"ancestorTitles":["Navigation Utilities","buildPhoneUrl"],"duration":3,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"tel:+1 555 123 4567\"\nReceived: \"tel:+1 555 1234567\"\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\utils\\navigation.util.spec.ts:190:19\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"Navigation Utilities buildPhoneUrl should handle international format","status":"failed","title":"should handle international format"},{"ancestorTitles":["Navigation Utilities","buildPhoneUrl"],"duration":2,"failureMessages":["Error: expect(received).toContain(expected) // indexOf\n\nExpected substring: \"tel:+972 3 123 4567\"\nReceived string:    \"tel: +97231234567  100\"\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\utils\\navigation.util.spec.ts:197:19\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"Navigation Utilities buildPhoneUrl should remove non-numeric characters except + and spaces","status":"failed","title":"should remove non-numeric characters except + and spaces"}]},{"numFailingTests":0,"numPassingTests":35,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890837823,"runtime":2431,"slow":false,"start":1769890835392},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\domain\\mappers\\search-response.mapper.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["Search Response Mapper","flattenResultGroups"],"duration":42,"failureMessages":[],"fullName":"Search Response Mapper flattenResultGroups should flatten multiple groups","status":"passed","title":"should flatten multiple groups"},{"ancestorTitles":["Search Response Mapper","flattenResultGroups"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper flattenResultGroups should return empty array for undefined groups","status":"passed","title":"should return empty array for undefined groups"},{"ancestorTitles":["Search Response Mapper","flattenResultGroups"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper flattenResultGroups should return empty array for empty groups","status":"passed","title":"should return empty array for empty groups"},{"ancestorTitles":["Search Response Mapper","flattenResultGroups"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper flattenResultGroups should handle single group","status":"passed","title":"should handle single group"},{"ancestorTitles":["Search Response Mapper","flattenResultGroups"],"duration":4,"failureMessages":[],"fullName":"Search Response Mapper flattenResultGroups should preserve ordering","status":"passed","title":"should preserve ordering"},{"ancestorTitles":["Search Response Mapper","extractExactResults"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper extractExactResults should extract EXACT group results","status":"passed","title":"should extract EXACT group results"},{"ancestorTitles":["Search Response Mapper","extractExactResults"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper extractExactResults should return empty array if no EXACT group","status":"passed","title":"should return empty array if no EXACT group"},{"ancestorTitles":["Search Response Mapper","extractExactResults"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper extractExactResults should return empty array for undefined groups","status":"passed","title":"should return empty array for undefined groups"},{"ancestorTitles":["Search Response Mapper","extractNearbyResults"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper extractNearbyResults should extract NEARBY group results","status":"passed","title":"should extract NEARBY group results"},{"ancestorTitles":["Search Response Mapper","extractNearbyResults"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper extractNearbyResults should return empty array if no NEARBY group","status":"passed","title":"should return empty array if no NEARBY group"},{"ancestorTitles":["Search Response Mapper","extractNearbyResults"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper extractNearbyResults should return empty array for undefined groups","status":"passed","title":"should return empty array for undefined groups"},{"ancestorTitles":["Search Response Mapper","requiresClarification"],"duration":6,"failureMessages":[],"fullName":"Search Response Mapper requiresClarification should return true when requiresClarification is true","status":"passed","title":"should return true when requiresClarification is true"},{"ancestorTitles":["Search Response Mapper","requiresClarification"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper requiresClarification should return false when requiresClarification is false","status":"passed","title":"should return false when requiresClarification is false"},{"ancestorTitles":["Search Response Mapper","requiresClarification"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper requiresClarification should return false for null response","status":"passed","title":"should return false for null response"},{"ancestorTitles":["Search Response Mapper","hasResults"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper hasResults should return true when results exist","status":"passed","title":"should return true when results exist"},{"ancestorTitles":["Search Response Mapper","hasResults"],"duration":69,"failureMessages":[],"fullName":"Search Response Mapper hasResults should return false when results array is empty","status":"passed","title":"should return false when results array is empty"},{"ancestorTitles":["Search Response Mapper","hasResults"],"duration":3,"failureMessages":[],"fullName":"Search Response Mapper hasResults should return false for null response","status":"passed","title":"should return false for null response"},{"ancestorTitles":["Search Response Mapper","getConfidence"],"duration":17,"failureMessages":[],"fullName":"Search Response Mapper getConfidence should return confidence from meta","status":"passed","title":"should return confidence from meta"},{"ancestorTitles":["Search Response Mapper","getConfidence"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper getConfidence should return 1.0 as default when meta missing","status":"passed","title":"should return 1.0 as default when meta missing"},{"ancestorTitles":["Search Response Mapper","getConfidence"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper getConfidence should return 1.0 for null response","status":"passed","title":"should return 1.0 for null response"},{"ancestorTitles":["Search Response Mapper","isLowConfidence"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper isLowConfidence should return true when confidence below default threshold (0.6)","status":"passed","title":"should return true when confidence below default threshold (0.6)"},{"ancestorTitles":["Search Response Mapper","isLowConfidence"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper isLowConfidence should return false when confidence above threshold","status":"passed","title":"should return false when confidence above threshold"},{"ancestorTitles":["Search Response Mapper","isLowConfidence"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper isLowConfidence should support custom threshold","status":"passed","title":"should support custom threshold"},{"ancestorTitles":["Search Response Mapper","getAppliedFilters"],"duration":3,"failureMessages":[],"fullName":"Search Response Mapper getAppliedFilters should return applied filters from meta","status":"passed","title":"should return applied filters from meta"},{"ancestorTitles":["Search Response Mapper","getAppliedFilters"],"duration":3,"failureMessages":[],"fullName":"Search Response Mapper getAppliedFilters should return empty array when no filters","status":"passed","title":"should return empty array when no filters"},{"ancestorTitles":["Search Response Mapper","getAppliedFilters"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper getAppliedFilters should return empty array for null response","status":"passed","title":"should return empty array for null response"},{"ancestorTitles":["Search Response Mapper","isFilterApplied"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper isFilterApplied should return true when filter is applied","status":"passed","title":"should return true when filter is applied"},{"ancestorTitles":["Search Response Mapper","isFilterApplied"],"duration":4,"failureMessages":[],"fullName":"Search Response Mapper isFilterApplied should return false when filter is not applied","status":"passed","title":"should return false when filter is not applied"},{"ancestorTitles":["Search Response Mapper","getAssistMode"],"duration":3,"failureMessages":[],"fullName":"Search Response Mapper getAssistMode should return assist mode from response","status":"passed","title":"should return assist mode from response"},{"ancestorTitles":["Search Response Mapper","getAssistMode"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper getAssistMode should return NORMAL as default","status":"passed","title":"should return NORMAL as default"},{"ancestorTitles":["Search Response Mapper","getAssistMode"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper getAssistMode should return NORMAL for null response","status":"passed","title":"should return NORMAL for null response"},{"ancestorTitles":["Search Response Mapper","isPipelineStopped"],"duration":58,"failureMessages":[],"fullName":"Search Response Mapper isPipelineStopped should return true when source is route2_gate_stop","status":"passed","title":"should return true when source is route2_gate_stop"},{"ancestorTitles":["Search Response Mapper","isPipelineStopped"],"duration":7,"failureMessages":[],"fullName":"Search Response Mapper isPipelineStopped should return true when failureReason is LOW_CONFIDENCE","status":"passed","title":"should return true when failureReason is LOW_CONFIDENCE"},{"ancestorTitles":["Search Response Mapper","isPipelineStopped"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper isPipelineStopped should return false when neither condition met","status":"passed","title":"should return false when neither condition met"},{"ancestorTitles":["Search Response Mapper","isPipelineStopped"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper isPipelineStopped should return false for null response","status":"passed","title":"should return false for null response"}]},{"numFailingTests":0,"numPassingTests":31,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890839114,"runtime":3235,"slow":false,"start":1769890835879},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\recent-searches.service.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["RecentSearchesService"],"duration":110,"failureMessages":[],"fullName":"RecentSearchesService should be created","status":"passed","title":"should be created"},{"ancestorTitles":["RecentSearchesService","Initial State"],"duration":32,"failureMessages":[],"fullName":"RecentSearchesService Initial State should start with empty searches","status":"passed","title":"should start with empty searches"},{"ancestorTitles":["RecentSearchesService","Initial State"],"duration":16,"failureMessages":[],"fullName":"RecentSearchesService Initial State should have hasSearches as false","status":"passed","title":"should have hasSearches as false"},{"ancestorTitles":["RecentSearchesService","Initial State"],"duration":14,"failureMessages":[],"fullName":"RecentSearchesService Initial State should have count as 0","status":"passed","title":"should have count as 0"},{"ancestorTitles":["RecentSearchesService","add()"],"duration":26,"failureMessages":[],"fullName":"RecentSearchesService add() should add a search query","status":"passed","title":"should add a search query"},{"ancestorTitles":["RecentSearchesService","add()"],"duration":61,"failureMessages":[],"fullName":"RecentSearchesService add() should add multiple searches","status":"passed","title":"should add multiple searches"},{"ancestorTitles":["RecentSearchesService","add()"],"duration":13,"failureMessages":[],"fullName":"RecentSearchesService add() should trim whitespace","status":"passed","title":"should trim whitespace"},{"ancestorTitles":["RecentSearchesService","add()"],"duration":85,"failureMessages":[],"fullName":"RecentSearchesService add() should ignore empty queries","status":"passed","title":"should ignore empty queries"},{"ancestorTitles":["RecentSearchesService","add()"],"duration":21,"failureMessages":[],"fullName":"RecentSearchesService add() should deduplicate searches","status":"passed","title":"should deduplicate searches"},{"ancestorTitles":["RecentSearchesService","add()"],"duration":91,"failureMessages":[],"fullName":"RecentSearchesService add() should move duplicate to top","status":"passed","title":"should move duplicate to top"},{"ancestorTitles":["RecentSearchesService","add()"],"duration":21,"failureMessages":[],"fullName":"RecentSearchesService add() should limit to 5 searches","status":"passed","title":"should limit to 5 searches"},{"ancestorTitles":["RecentSearchesService","add()"],"duration":15,"failureMessages":[],"fullName":"RecentSearchesService add() should persist to sessionStorage","status":"passed","title":"should persist to sessionStorage"},{"ancestorTitles":["RecentSearchesService","add()"],"duration":15,"failureMessages":[],"fullName":"RecentSearchesService add() should update hasSearches","status":"passed","title":"should update hasSearches"},{"ancestorTitles":["RecentSearchesService","remove()"],"duration":28,"failureMessages":[],"fullName":"RecentSearchesService remove() should remove a specific search","status":"passed","title":"should remove a specific search"},{"ancestorTitles":["RecentSearchesService","remove()"],"duration":36,"failureMessages":[],"fullName":"RecentSearchesService remove() should persist removal to sessionStorage","status":"passed","title":"should persist removal to sessionStorage"},{"ancestorTitles":["RecentSearchesService","remove()"],"duration":96,"failureMessages":[],"fullName":"RecentSearchesService remove() should do nothing if query does not exist","status":"passed","title":"should do nothing if query does not exist"},{"ancestorTitles":["RecentSearchesService","clear()"],"duration":82,"failureMessages":[],"fullName":"RecentSearchesService clear() should clear all searches","status":"passed","title":"should clear all searches"},{"ancestorTitles":["RecentSearchesService","clear()"],"duration":20,"failureMessages":[],"fullName":"RecentSearchesService clear() should clear sessionStorage","status":"passed","title":"should clear sessionStorage"},{"ancestorTitles":["RecentSearchesService","clear()"],"duration":47,"failureMessages":[],"fullName":"RecentSearchesService clear() should update hasSearches","status":"passed","title":"should update hasSearches"},{"ancestorTitles":["RecentSearchesService","has()"],"duration":16,"failureMessages":[],"fullName":"RecentSearchesService has() should return true if query exists","status":"passed","title":"should return true if query exists"},{"ancestorTitles":["RecentSearchesService","has()"],"duration":78,"failureMessages":[],"fullName":"RecentSearchesService has() should return false if query does not exist","status":"passed","title":"should return false if query does not exist"},{"ancestorTitles":["RecentSearchesService","has()"],"duration":22,"failureMessages":[],"fullName":"RecentSearchesService has() should trim whitespace when checking","status":"passed","title":"should trim whitespace when checking"},{"ancestorTitles":["RecentSearchesService","getAll()"],"duration":54,"failureMessages":[],"fullName":"RecentSearchesService getAll() should return all searches as array","status":"passed","title":"should return all searches as array"},{"ancestorTitles":["RecentSearchesService","sessionStorage persistence"],"duration":18,"failureMessages":[],"fullName":"RecentSearchesService sessionStorage persistence should load searches from sessionStorage on initialization","status":"passed","title":"should load searches from sessionStorage on initialization"},{"ancestorTitles":["RecentSearchesService","sessionStorage persistence"],"duration":144,"failureMessages":[],"fullName":"RecentSearchesService sessionStorage persistence should handle corrupted sessionStorage data","status":"passed","title":"should handle corrupted sessionStorage data"},{"ancestorTitles":["RecentSearchesService","sessionStorage persistence"],"duration":29,"failureMessages":[],"fullName":"RecentSearchesService sessionStorage persistence should handle non-array sessionStorage data","status":"passed","title":"should handle non-array sessionStorage data"},{"ancestorTitles":["RecentSearchesService","sessionStorage persistence"],"duration":15,"failureMessages":[],"fullName":"RecentSearchesService sessionStorage persistence should enforce limit when loading from storage","status":"passed","title":"should enforce limit when loading from storage"},{"ancestorTitles":["RecentSearchesService","Computed signals"],"duration":18,"failureMessages":[],"fullName":"RecentSearchesService Computed signals count should update when searches change","status":"passed","title":"count should update when searches change"},{"ancestorTitles":["RecentSearchesService","Computed signals"],"duration":33,"failureMessages":[],"fullName":"RecentSearchesService Computed signals hasSearches should reflect presence of searches","status":"passed","title":"hasSearches should reflect presence of searches"},{"ancestorTitles":["RecentSearchesService","Real-world scenarios"],"duration":16,"failureMessages":[],"fullName":"RecentSearchesService Real-world scenarios should handle typical user search flow","status":"passed","title":"should handle typical user search flow"},{"ancestorTitles":["RecentSearchesService","Real-world scenarios"],"duration":34,"failureMessages":[],"fullName":"RecentSearchesService Real-world scenarios should handle max capacity gracefully","status":"passed","title":"should handle max capacity gracefully"}]},{"numFailingTests":0,"numPassingTests":9,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890840342,"runtime":2796,"slow":false,"start":1769890837546},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\api\\search.api.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["SearchApiClient"],"duration":100,"failureMessages":[],"fullName":"SearchApiClient should be created","status":"passed","title":"should be created"},{"ancestorTitles":["SearchApiClient"],"duration":140,"failureMessages":[],"fullName":"SearchApiClient should send correct POST request","status":"passed","title":"should send correct POST request"},{"ancestorTitles":["SearchApiClient"],"duration":68,"failureMessages":[],"fullName":"SearchApiClient should handle error responses","status":"passed","title":"should handle error responses"},{"ancestorTitles":["SearchApiClient"],"duration":14,"failureMessages":[],"fullName":"SearchApiClient should get stats","status":"passed","title":"should get stats"},{"ancestorTitles":["SearchApiClient","Network Error Handling"],"duration":21,"failureMessages":[],"fullName":"SearchApiClient Network Error Handling should handle network connection error (status=0) with user-friendly message","status":"passed","title":"should handle network connection error (status=0) with user-friendly message"},{"ancestorTitles":["SearchApiClient","Network Error Handling"],"duration":22,"failureMessages":[],"fullName":"SearchApiClient Network Error Handling CRITICAL: should never throw EmptyError on network failure","status":"passed","title":"CRITICAL: should never throw EmptyError on network failure"},{"ancestorTitles":["SearchApiClient","Network Error Handling"],"duration":22,"failureMessages":[],"fullName":"SearchApiClient Network Error Handling should handle network error during polling with user-friendly message","status":"passed","title":"should handle network error during polling with user-friendly message"},{"ancestorTitles":["SearchApiClient","Network Error Handling"],"duration":22,"failureMessages":[],"fullName":"SearchApiClient Network Error Handling should handle 202 accepted response correctly","status":"passed","title":"should handle 202 accepted response correctly"},{"ancestorTitles":["SearchApiClient","Network Error Handling"],"duration":31,"failureMessages":[],"fullName":"SearchApiClient Network Error Handling should handle 200 sync response correctly","status":"passed","title":"should handle 200 sync response correctly"}]},{"numFailingTests":0,"numPassingTests":12,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890840753,"runtime":3056,"slow":false,"start":1769890837697},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\facades\\search-assistant-reset.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","reset() - Full message clearing"],"duration":188,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping reset() - Full message clearing should clear all messages when reset() is called","status":"passed","title":"should clear all messages when reset() is called"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","reset() - Full message clearing"],"duration":93,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping reset() - Full message clearing should clear dedupe service when reset() is called","status":"passed","title":"should clear dedupe service when reset() is called"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","Message scoping by requestId"],"duration":77,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping Message scoping by requestId should store requestId with each message","status":"passed","title":"should store requestId with each message"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","Message scoping by requestId"],"duration":83,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping Message scoping by requestId should keep messages from different requestIds separate","status":"passed","title":"should keep messages from different requestIds separate"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","resetIfGlobal() - Selective clearing (LEGACY)"],"duration":11,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping resetIfGlobal() - Selective clearing (LEGACY) should clear messages without requestId","status":"passed","title":"should clear messages without requestId"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","resetIfGlobal() - Selective clearing (LEGACY)"],"duration":21,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping resetIfGlobal() - Selective clearing (LEGACY) should preserve messages with requestId","status":"passed","title":"should preserve messages with requestId"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","Card vs Line channel routing"],"duration":22,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping Card vs Line channel routing should route SUMMARY, CLARIFY, GATE_FAIL to card channel","status":"passed","title":"should route SUMMARY, CLARIFY, GATE_FAIL to card channel"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","Card vs Line channel routing"],"duration":26,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping Card vs Line channel routing should clear line messages but preserve card messages in resetIfGlobal()","status":"passed","title":"should clear line messages but preserve card messages in resetIfGlobal()"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","Deduplication"],"duration":20,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping Deduplication should not add duplicate messages","status":"passed","title":"should not add duplicate messages"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","Deduplication"],"duration":34,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping Deduplication should allow same message type for different requestIds","status":"passed","title":"should allow same message type for different requestIds"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","blocksSearch flag"],"duration":12,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping blocksSearch flag should track blocksSearch flag for CLARIFY messages","status":"passed","title":"should track blocksSearch flag for CLARIFY messages"},{"ancestorTitles":["SearchAssistantHandler - Message Reset & RequestId Scoping","blocksSearch flag"],"duration":21,"failureMessages":[],"fullName":"SearchAssistantHandler - Message Reset & RequestId Scoping blocksSearch flag should clear blocksSearch flag on reset","status":"passed","title":"should clear blocksSearch flag on reset"}]},{"numFailingTests":0,"numPassingTests":12,"numPendingTests":1,"numTodoTests":0,"perfStats":{"end":1769890840947,"runtime":3803,"slow":false,"start":1769890837144},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\search-bar\\search-bar.component.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["SearchBarComponent"],"duration":357,"failureMessages":[],"fullName":"SearchBarComponent should create","status":"passed","title":"should create"},{"ancestorTitles":["SearchBarComponent"],"duration":136,"failureMessages":[],"fullName":"SearchBarComponent should have default placeholder","status":"passed","title":"should have default placeholder"},{"ancestorTitles":["SearchBarComponent"],"duration":107,"failureMessages":[],"fullName":"SearchBarComponent should accept custom placeholder","status":"passed","title":"should accept custom placeholder"},{"ancestorTitles":["SearchBarComponent"],"duration":128,"failureMessages":[],"fullName":"SearchBarComponent should emit search event when onSearch is called","status":"passed","title":"should emit search event when onSearch is called"},{"ancestorTitles":["SearchBarComponent"],"duration":36,"failureMessages":[],"fullName":"SearchBarComponent should emit search event on Enter key","status":"passed","title":"should emit search event on Enter key"},{"ancestorTitles":["SearchBarComponent"],"duration":35,"failureMessages":[],"fullName":"SearchBarComponent should not emit search for empty query","status":"passed","title":"should not emit search for empty query"},{"ancestorTitles":["SearchBarComponent"],"duration":43,"failureMessages":[],"fullName":"SearchBarComponent should trim whitespace from query","status":"passed","title":"should trim whitespace from query"},{"ancestorTitles":["SearchBarComponent"],"duration":50,"failureMessages":[],"fullName":"SearchBarComponent should show clear button when value is not empty and not loading","status":"passed","title":"should show clear button when value is not empty and not loading"},{"ancestorTitles":["SearchBarComponent"],"duration":38,"failureMessages":[],"fullName":"SearchBarComponent should emit clear event on clear button click","status":"passed","title":"should emit clear event on clear button click"},{"ancestorTitles":["SearchBarComponent"],"duration":36,"failureMessages":[],"fullName":"SearchBarComponent should show loading indicator when loading","status":"passed","title":"should show loading indicator when loading"},{"ancestorTitles":["SearchBarComponent"],"duration":null,"failureMessages":[],"fullName":"SearchBarComponent should disable input when disabled prop is true","status":"pending","title":"should disable input when disabled prop is true"},{"ancestorTitles":["SearchBarComponent"],"duration":41,"failureMessages":[],"fullName":"SearchBarComponent should submit current query value on Enter, not stale parent value","status":"passed","title":"should submit current query value on Enter, not stale parent value"},{"ancestorTitles":["SearchBarComponent"],"duration":72,"failureMessages":[],"fullName":"SearchBarComponent should emit inputChange when onInput is called","status":"passed","title":"should emit inputChange when onInput is called"}]},{"numFailingTests":0,"numPassingTests":7,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890841237,"runtime":3179,"slow":false,"start":1769890838058},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\assistant-line\\assistant-line.component.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["AssistantLineComponent"],"duration":384,"failureMessages":[],"fullName":"AssistantLineComponent should create","status":"passed","title":"should create"},{"ancestorTitles":["AssistantLineComponent"],"duration":73,"failureMessages":[],"fullName":"AssistantLineComponent should start with no message","status":"passed","title":"should start with no message"},{"ancestorTitles":["AssistantLineComponent"],"duration":36,"failureMessages":[],"fullName":"AssistantLineComponent should display line message from facade","status":"passed","title":"should display line message from facade"},{"ancestorTitles":["AssistantLineComponent"],"duration":76,"failureMessages":[],"fullName":"AssistantLineComponent should filter messages by active requestId","status":"passed","title":"should filter messages by active requestId"},{"ancestorTitles":["AssistantLineComponent"],"duration":71,"failureMessages":[],"fullName":"AssistantLineComponent should delegate clearMessage to FSM service","status":"passed","title":"should delegate clearMessage to FSM service"},{"ancestorTitles":["AssistantLineComponent"],"duration":19,"failureMessages":[],"fullName":"AssistantLineComponent should prioritize line message over WS status","status":"passed","title":"should prioritize line message over WS status"},{"ancestorTitles":["AssistantLineComponent"],"duration":41,"failureMessages":[],"fullName":"AssistantLineComponent should show WS status when no line messages","status":"passed","title":"should show WS status when no line messages"}]},{"numFailingTests":0,"numPassingTests":10,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890841421,"runtime":3656,"slow":false,"start":1769890837765},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\assistant-panel\\assistant-panel.component.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["AssistantPanelComponent"],"duration":288,"failureMessages":[],"fullName":"AssistantPanelComponent should create","status":"passed","title":"should create"},{"ancestorTitles":["AssistantPanelComponent"],"duration":17,"failureMessages":[],"fullName":"AssistantPanelComponent should start with empty messages","status":"passed","title":"should start with empty messages"},{"ancestorTitles":["AssistantPanelComponent"],"duration":44,"failureMessages":[],"fullName":"AssistantPanelComponent should add assistant_progress message","status":"passed","title":"should add assistant_progress message"},{"ancestorTitles":["AssistantPanelComponent"],"duration":34,"failureMessages":[],"fullName":"AssistantPanelComponent should add assistant_suggestion message","status":"passed","title":"should add assistant_suggestion message"},{"ancestorTitles":["AssistantPanelComponent"],"duration":27,"failureMessages":[],"fullName":"AssistantPanelComponent should ignore duplicate messages","status":"passed","title":"should ignore duplicate messages"},{"ancestorTitles":["AssistantPanelComponent"],"duration":50,"failureMessages":[],"fullName":"AssistantPanelComponent should clear messages on new requestId","status":"passed","title":"should clear messages on new requestId"},{"ancestorTitles":["AssistantPanelComponent"],"duration":52,"failureMessages":[],"fullName":"AssistantPanelComponent should sort messages by seq and show last 3","status":"passed","title":"should sort messages by seq and show last 3"},{"ancestorTitles":["AssistantPanelComponent"],"duration":30,"failureMessages":[],"fullName":"AssistantPanelComponent should clear messages when clearMessages() is called","status":"passed","title":"should clear messages when clearMessages() is called"},{"ancestorTitles":["AssistantPanelComponent"],"duration":33,"failureMessages":[],"fullName":"AssistantPanelComponent should ignore non-assistant messages","status":"passed","title":"should ignore non-assistant messages"},{"ancestorTitles":["AssistantPanelComponent"],"duration":29,"failureMessages":[],"fullName":"AssistantPanelComponent should return correct icon for message type","status":"passed","title":"should return correct icon for message type"}]},{"numFailingTests":0,"numPassingTests":13,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890841672,"runtime":4461,"slow":false,"start":1769890837211},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\action.service.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["ActionService"],"duration":134,"failureMessages":[],"fullName":"ActionService should be created","status":"passed","title":"should be created"},{"ancestorTitles":["ActionService"],"duration":334,"failureMessages":[],"fullName":"ActionService should execute L0 action immediately","status":"passed","title":"should execute L0 action immediately"},{"ancestorTitles":["ActionService"],"duration":19,"failureMessages":[],"fullName":"ActionService should add L1 action to pending","status":"passed","title":"should add L1 action to pending"},{"ancestorTitles":["ActionService"],"duration":231,"failureMessages":[],"fullName":"ActionService should approve and execute L1 action","status":"passed","title":"should approve and execute L1 action"},{"ancestorTitles":["ActionService"],"duration":45,"failureMessages":[],"fullName":"ActionService should reject action","status":"passed","title":"should reject action"},{"ancestorTitles":["ActionService"],"duration":86,"failureMessages":[],"fullName":"ActionService should fail to approve non-existent action","status":"passed","title":"should fail to approve non-existent action"},{"ancestorTitles":["ActionService"],"duration":15,"failureMessages":[],"fullName":"ActionService should fail to approve expired action","status":"passed","title":"should fail to approve expired action"},{"ancestorTitles":["ActionService"],"duration":219,"failureMessages":[],"fullName":"ActionService should save favorite to session store","status":"passed","title":"should save favorite to session store"},{"ancestorTitles":["ActionService"],"duration":170,"failureMessages":[],"fullName":"ActionService should handle actions without phone number","status":"passed","title":"should handle actions without phone number"},{"ancestorTitles":["ActionService"],"duration":176,"failureMessages":[],"fullName":"ActionService should handle actions without website gracefully","status":"passed","title":"should handle actions without website gracefully"},{"ancestorTitles":["ActionService"],"duration":23,"failureMessages":[],"fullName":"ActionService should generate unique IDs for actions","status":"passed","title":"should generate unique IDs for actions"},{"ancestorTitles":["ActionService"],"duration":90,"failureMessages":[],"fullName":"ActionService should cleanup expired actions","status":"passed","title":"should cleanup expired actions"},{"ancestorTitles":["ActionService"],"duration":128,"failureMessages":[],"fullName":"ActionService should track all analytics events","status":"passed","title":"should track all analytics events"}]},{"numFailingTests":0,"numPassingTests":34,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890842868,"runtime":2954,"slow":false,"start":1769890839914},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\services\\input-state-machine.service.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["InputStateMachine"],"duration":62,"failureMessages":[],"fullName":"InputStateMachine should be created","status":"passed","title":"should be created"},{"ancestorTitles":["InputStateMachine","Initial State"],"duration":12,"failureMessages":[],"fullName":"InputStateMachine Initial State should start in EMPTY state","status":"passed","title":"should start in EMPTY state"},{"ancestorTitles":["InputStateMachine","Initial State"],"duration":35,"failureMessages":[],"fullName":"InputStateMachine Initial State should have empty query","status":"passed","title":"should have empty query"},{"ancestorTitles":["InputStateMachine","Initial State"],"duration":21,"failureMessages":[],"fullName":"InputStateMachine Initial State should show recent searches when empty","status":"passed","title":"should show recent searches when empty"},{"ancestorTitles":["InputStateMachine","Initial State"],"duration":25,"failureMessages":[],"fullName":"InputStateMachine Initial State should not show clear button when empty","status":"passed","title":"should not show clear button when empty"},{"ancestorTitles":["InputStateMachine","input()"],"duration":79,"failureMessages":[],"fullName":"InputStateMachine input() should transition from EMPTY to TYPING when user types","status":"passed","title":"should transition from EMPTY to TYPING when user types"},{"ancestorTitles":["InputStateMachine","input()"],"duration":33,"failureMessages":[],"fullName":"InputStateMachine input() should update query as user types","status":"passed","title":"should update query as user types"},{"ancestorTitles":["InputStateMachine","input()"],"duration":19,"failureMessages":[],"fullName":"InputStateMachine input() should transition back to EMPTY when input is cleared","status":"passed","title":"should transition back to EMPTY when input is cleared"},{"ancestorTitles":["InputStateMachine","input()"],"duration":12,"failureMessages":[],"fullName":"InputStateMachine input() should transition from RESULTS to EDITING when user edits","status":"passed","title":"should transition from RESULTS to EDITING when user edits"},{"ancestorTitles":["InputStateMachine","input()"],"duration":9,"failureMessages":[],"fullName":"InputStateMachine input() should show clear button when query has text","status":"passed","title":"should show clear button when query has text"},{"ancestorTitles":["InputStateMachine","input()"],"duration":16,"failureMessages":[],"fullName":"InputStateMachine input() should hide recent searches when typing","status":"passed","title":"should hide recent searches when typing"},{"ancestorTitles":["InputStateMachine","clear()"],"duration":25,"failureMessages":[],"fullName":"InputStateMachine clear() should clear query and reset to EMPTY","status":"passed","title":"should clear query and reset to EMPTY"},{"ancestorTitles":["InputStateMachine","clear()"],"duration":29,"failureMessages":[],"fullName":"InputStateMachine clear() should work from any state","status":"passed","title":"should work from any state"},{"ancestorTitles":["InputStateMachine","submit()"],"duration":12,"failureMessages":[],"fullName":"InputStateMachine submit() should transition from TYPING to SEARCHING","status":"passed","title":"should transition from TYPING to SEARCHING"},{"ancestorTitles":["InputStateMachine","submit()"],"duration":13,"failureMessages":[],"fullName":"InputStateMachine submit() should store previous query","status":"passed","title":"should store previous query"},{"ancestorTitles":["InputStateMachine","submit()"],"duration":17,"failureMessages":[],"fullName":"InputStateMachine submit() should not submit empty query","status":"passed","title":"should not submit empty query"},{"ancestorTitles":["InputStateMachine","submit()"],"duration":18,"failureMessages":[],"fullName":"InputStateMachine submit() should not submit when already searching","status":"passed","title":"should not submit when already searching"},{"ancestorTitles":["InputStateMachine","submit()"],"duration":21,"failureMessages":[],"fullName":"InputStateMachine submit() should set isSearching to true","status":"passed","title":"should set isSearching to true"},{"ancestorTitles":["InputStateMachine","searchComplete()"],"duration":16,"failureMessages":[],"fullName":"InputStateMachine searchComplete() should transition from SEARCHING to RESULTS","status":"passed","title":"should transition from SEARCHING to RESULTS"},{"ancestorTitles":["InputStateMachine","searchComplete()"],"duration":10,"failureMessages":[],"fullName":"InputStateMachine searchComplete() should set hasResults to true","status":"passed","title":"should set hasResults to true"},{"ancestorTitles":["InputStateMachine","searchComplete()"],"duration":13,"failureMessages":[],"fullName":"InputStateMachine searchComplete() should not transition if not in SEARCHING state","status":"passed","title":"should not transition if not in SEARCHING state"},{"ancestorTitles":["InputStateMachine","searchFailed()"],"duration":10,"failureMessages":[],"fullName":"InputStateMachine searchFailed() should transition from SEARCHING to TYPING on failure","status":"passed","title":"should transition from SEARCHING to TYPING on failure"},{"ancestorTitles":["InputStateMachine","searchFailed()"],"duration":79,"failureMessages":[],"fullName":"InputStateMachine searchFailed() should allow retry after failure","status":"passed","title":"should allow retry after failure"},{"ancestorTitles":["InputStateMachine","selectRecent()"],"duration":11,"failureMessages":[],"fullName":"InputStateMachine selectRecent() should set query and transition to SEARCHING","status":"passed","title":"should set query and transition to SEARCHING"},{"ancestorTitles":["InputStateMachine","selectRecent()"],"duration":9,"failureMessages":[],"fullName":"InputStateMachine selectRecent() should store as previous query","status":"passed","title":"should store as previous query"},{"ancestorTitles":["InputStateMachine","selectChip()"],"duration":12,"failureMessages":[],"fullName":"InputStateMachine selectChip() should set new query and transition to SEARCHING","status":"passed","title":"should set new query and transition to SEARCHING"},{"ancestorTitles":["InputStateMachine","Computed signals"],"duration":32,"failureMessages":[],"fullName":"InputStateMachine Computed signals canSubmit should be true when query is valid and not searching","status":"passed","title":"canSubmit should be true when query is valid and not searching"},{"ancestorTitles":["InputStateMachine","Computed signals"],"duration":9,"failureMessages":[],"fullName":"InputStateMachine Computed signals canSubmit should be false when searching","status":"passed","title":"canSubmit should be false when searching"},{"ancestorTitles":["InputStateMachine","Computed signals"],"duration":9,"failureMessages":[],"fullName":"InputStateMachine Computed signals canSubmit should be false when query is empty","status":"passed","title":"canSubmit should be false when query is empty"},{"ancestorTitles":["InputStateMachine","getSnapshot()"],"duration":55,"failureMessages":[],"fullName":"InputStateMachine getSnapshot() should return current state snapshot","status":"passed","title":"should return current state snapshot"},{"ancestorTitles":["InputStateMachine","Complex workflows"],"duration":10,"failureMessages":[],"fullName":"InputStateMachine Complex workflows should handle full search workflow","status":"passed","title":"should handle full search workflow"},{"ancestorTitles":["InputStateMachine","Complex workflows"],"duration":15,"failureMessages":[],"fullName":"InputStateMachine Complex workflows should handle search failure and retry","status":"passed","title":"should handle search failure and retry"},{"ancestorTitles":["InputStateMachine","Complex workflows"],"duration":104,"failureMessages":[],"fullName":"InputStateMachine Complex workflows should handle recent search selection","status":"passed","title":"should handle recent search selection"},{"ancestorTitles":["InputStateMachine","Complex workflows"],"duration":9,"failureMessages":[],"fullName":"InputStateMachine Complex workflows should handle chip refinement","status":"passed","title":"should handle chip refinement"}]},{"numFailingTests":0,"numPassingTests":13,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890844067,"runtime":3425,"slow":false,"start":1769890840642},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\disclosure-banner\\disclosure-banner.component.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["DisclosureBannerComponent"],"duration":586,"failureMessages":[],"fullName":"DisclosureBannerComponent should create","status":"passed","title":"should create"},{"ancestorTitles":["DisclosureBannerComponent","visibility"],"duration":18,"failureMessages":[],"fullName":"DisclosureBannerComponent visibility should be visible when filterActive is \"closed\" and closed count > 0","status":"passed","title":"should be visible when filterActive is \"closed\" and closed count > 0"},{"ancestorTitles":["DisclosureBannerComponent","visibility"],"duration":106,"failureMessages":[],"fullName":"DisclosureBannerComponent visibility should NOT be visible when filterActive is null","status":"passed","title":"should NOT be visible when filterActive is null"},{"ancestorTitles":["DisclosureBannerComponent","visibility"],"duration":59,"failureMessages":[],"fullName":"DisclosureBannerComponent visibility should NOT be visible when filterActive is \"open\"","status":"passed","title":"should NOT be visible when filterActive is \"open\""},{"ancestorTitles":["DisclosureBannerComponent","visibility"],"duration":130,"failureMessages":[],"fullName":"DisclosureBannerComponent visibility should NOT be visible when closed count is 0","status":"passed","title":"should NOT be visible when closed count is 0"},{"ancestorTitles":["DisclosureBannerComponent","message"],"duration":18,"failureMessages":[],"fullName":"DisclosureBannerComponent message should show correct Hebrew message for closed filter","status":"passed","title":"should show correct Hebrew message for closed filter"},{"ancestorTitles":["DisclosureBannerComponent","message"],"duration":124,"failureMessages":[],"fullName":"DisclosureBannerComponent message should show empty message when filterActive is null","status":"passed","title":"should show empty message when filterActive is null"},{"ancestorTitles":["DisclosureBannerComponent","explanation"],"duration":15,"failureMessages":[],"fullName":"DisclosureBannerComponent explanation should show Hebrew explanation for closed filter","status":"passed","title":"should show Hebrew explanation for closed filter"},{"ancestorTitles":["DisclosureBannerComponent","explanation"],"duration":48,"failureMessages":[],"fullName":"DisclosureBannerComponent explanation should show empty explanation when filterActive is null","status":"passed","title":"should show empty explanation when filterActive is null"},{"ancestorTitles":["DisclosureBannerComponent","DOM rendering"],"duration":24,"failureMessages":[],"fullName":"DisclosureBannerComponent DOM rendering should render banner when visible","status":"passed","title":"should render banner when visible"},{"ancestorTitles":["DisclosureBannerComponent","DOM rendering"],"duration":14,"failureMessages":[],"fullName":"DisclosureBannerComponent DOM rendering should NOT render banner when not visible","status":"passed","title":"should NOT render banner when not visible"},{"ancestorTitles":["DisclosureBannerComponent","DOM rendering"],"duration":17,"failureMessages":[],"fullName":"DisclosureBannerComponent DOM rendering should include info icon","status":"passed","title":"should include info icon"},{"ancestorTitles":["DisclosureBannerComponent","DOM rendering"],"duration":18,"failureMessages":[],"fullName":"DisclosureBannerComponent DOM rendering should have explanation as title attribute","status":"passed","title":"should have explanation as title attribute"}]},{"numFailingTests":0,"numPassingTests":9,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890844336,"runtime":2827,"slow":false,"start":1769890841509},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\state\\flags.store.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["FlagsStore"],"duration":88,"failureMessages":[],"fullName":"FlagsStore should be created","status":"passed","title":"should be created"},{"ancestorTitles":["FlagsStore"],"duration":50,"failureMessages":[],"fullName":"FlagsStore should have empty initial state","status":"passed","title":"should have empty initial state"},{"ancestorTitles":["FlagsStore"],"duration":48,"failureMessages":[],"fullName":"FlagsStore should set multiple flags","status":"passed","title":"should set multiple flags"},{"ancestorTitles":["FlagsStore"],"duration":12,"failureMessages":[],"fullName":"FlagsStore should set individual flag","status":"passed","title":"should set individual flag"},{"ancestorTitles":["FlagsStore"],"duration":52,"failureMessages":[],"fullName":"FlagsStore should update existing flag","status":"passed","title":"should update existing flag"},{"ancestorTitles":["FlagsStore"],"duration":8,"failureMessages":[],"fullName":"FlagsStore should return false for non-existent flag","status":"passed","title":"should return false for non-existent flag"},{"ancestorTitles":["FlagsStore"],"duration":9,"failureMessages":[],"fullName":"FlagsStore should have computed signals for common flags","status":"passed","title":"should have computed signals for common flags"},{"ancestorTitles":["FlagsStore"],"duration":10,"failureMessages":[],"fullName":"FlagsStore should reset flags","status":"passed","title":"should reset flags"},{"ancestorTitles":["FlagsStore"],"duration":28,"failureMessages":[],"fullName":"FlagsStore should preserve other flags when setting individual flag","status":"passed","title":"should preserve other flags when setting individual flag"}]},{"numFailingTests":0,"numPassingTests":8,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890844460,"runtime":3271,"slow":false,"start":1769890841189},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\state\\actions.store.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["ActionsStore"],"duration":120,"failureMessages":[],"fullName":"ActionsStore should be created","status":"passed","title":"should be created"},{"ancestorTitles":["ActionsStore"],"duration":15,"failureMessages":[],"fullName":"ActionsStore should have empty initial state","status":"passed","title":"should have empty initial state"},{"ancestorTitles":["ActionsStore"],"duration":10,"failureMessages":[],"fullName":"ActionsStore should add pending action","status":"passed","title":"should add pending action"},{"ancestorTitles":["ActionsStore"],"duration":12,"failureMessages":[],"fullName":"ActionsStore should update action status","status":"passed","title":"should update action status"},{"ancestorTitles":["ActionsStore"],"duration":15,"failureMessages":[],"fullName":"ActionsStore should move action to executed","status":"passed","title":"should move action to executed"},{"ancestorTitles":["ActionsStore"],"duration":10,"failureMessages":[],"fullName":"ActionsStore should remove pending action","status":"passed","title":"should remove pending action"},{"ancestorTitles":["ActionsStore"],"duration":13,"failureMessages":[],"fullName":"ActionsStore should filter only PENDING and APPROVED actions","status":"passed","title":"should filter only PENDING and APPROVED actions"},{"ancestorTitles":["ActionsStore"],"duration":10,"failureMessages":[],"fullName":"ActionsStore should clear all actions","status":"passed","title":"should clear all actions"}]},{"numFailingTests":0,"numPassingTests":14,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890844786,"runtime":3512,"slow":false,"start":1769890841274},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\state\\search.store.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["SearchStore"],"duration":136,"failureMessages":[],"fullName":"SearchStore should be created","status":"passed","title":"should be created"},{"ancestorTitles":["SearchStore"],"duration":19,"failureMessages":[],"fullName":"SearchStore should have initial state","status":"passed","title":"should have initial state"},{"ancestorTitles":["SearchStore"],"duration":16,"failureMessages":[],"fullName":"SearchStore should set query","status":"passed","title":"should set query"},{"ancestorTitles":["SearchStore"],"duration":13,"failureMessages":[],"fullName":"SearchStore should set loading state","status":"passed","title":"should set loading state"},{"ancestorTitles":["SearchStore"],"duration":22,"failureMessages":[],"fullName":"SearchStore should set error","status":"passed","title":"should set error"},{"ancestorTitles":["SearchStore"],"duration":44,"failureMessages":[],"fullName":"SearchStore should set response and compute results","status":"passed","title":"should set response and compute results"},{"ancestorTitles":["SearchStore"],"duration":10,"failureMessages":[],"fullName":"SearchStore should compute chips from response","status":"passed","title":"should compute chips from response"},{"ancestorTitles":["SearchStore"],"duration":11,"failureMessages":[],"fullName":"SearchStore should reset store","status":"passed","title":"should reset store"},{"ancestorTitles":["SearchStore","Groups Support (Phase B)"],"duration":65,"failureMessages":[],"fullName":"SearchStore Groups Support (Phase B) should have undefined groups initially","status":"passed","title":"should have undefined groups initially"},{"ancestorTitles":["SearchStore","Groups Support (Phase B)"],"duration":10,"failureMessages":[],"fullName":"SearchStore Groups Support (Phase B) should compute groups from response","status":"passed","title":"should compute groups from response"},{"ancestorTitles":["SearchStore","Groups Support (Phase B)"],"duration":11,"failureMessages":[],"fullName":"SearchStore Groups Support (Phase B) should compute exactResults","status":"passed","title":"should compute exactResults"},{"ancestorTitles":["SearchStore","Groups Support (Phase B)"],"duration":57,"failureMessages":[],"fullName":"SearchStore Groups Support (Phase B) should compute nearbyResults","status":"passed","title":"should compute nearbyResults"},{"ancestorTitles":["SearchStore","Groups Support (Phase B)"],"duration":23,"failureMessages":[],"fullName":"SearchStore Groups Support (Phase B) should return empty arrays when no groups","status":"passed","title":"should return empty arrays when no groups"},{"ancestorTitles":["SearchStore","Groups Support (Phase B)"],"duration":27,"failureMessages":[],"fullName":"SearchStore Groups Support (Phase B) should handle response with only EXACT group","status":"passed","title":"should handle response with only EXACT group"}]},{"numFailingTests":0,"numPassingTests":1,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890845081,"runtime":3162,"slow":false,"start":1769890841919},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\app.component.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["AppComponent"],"duration":127,"failureMessages":[],"fullName":"AppComponent should create","status":"passed","title":"should create"}]},{"numFailingTests":0,"numPassingTests":25,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890845098,"runtime":2991,"slow":false,"start":1769890842107},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\shared\\utils\\safe-logger.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["SafeLogger - Secret Sanitization","Authorization Header Sanitization"],"duration":7,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Authorization Header Sanitization should redact Authorization header","status":"passed","title":"should redact Authorization header"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Authorization Header Sanitization"],"duration":11,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Authorization Header Sanitization should redact authorization header (lowercase)","status":"passed","title":"should redact authorization header (lowercase)"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Session ID Sanitization"],"duration":8,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Session ID Sanitization should redact x-session-id header","status":"passed","title":"should redact x-session-id header"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Session ID Sanitization"],"duration":5,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Session ID Sanitization should redact X-Session-Id header (case insensitive)","status":"passed","title":"should redact X-Session-Id header (case insensitive)"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Sensitive Field Sanitization"],"duration":11,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Sensitive Field Sanitization should redact token field","status":"passed","title":"should redact token field"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Sensitive Field Sanitization"],"duration":5,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Sensitive Field Sanitization should redact password field","status":"passed","title":"should redact password field"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Sensitive Field Sanitization"],"duration":6,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Sensitive Field Sanitization should redact secret field","status":"passed","title":"should redact secret field"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Sensitive Field Sanitization"],"duration":3,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Sensitive Field Sanitization should redact apiKey field","status":"passed","title":"should redact apiKey field"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Sensitive Field Sanitization"],"duration":8,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Sensitive Field Sanitization should redact bearer field","status":"passed","title":"should redact bearer field"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Nested Object Sanitization"],"duration":5,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Nested Object Sanitization should redact sensitive fields in nested objects","status":"passed","title":"should redact sensitive fields in nested objects"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Nested Object Sanitization"],"duration":3,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Nested Object Sanitization should handle deeply nested objects","status":"passed","title":"should handle deeply nested objects"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Nested Object Sanitization"],"duration":4,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Nested Object Sanitization should prevent infinite recursion with max depth","status":"passed","title":"should prevent infinite recursion with max depth"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Array Sanitization"],"duration":13,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Array Sanitization should sanitize sensitive data in arrays","status":"passed","title":"should sanitize sensitive data in arrays"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Primitive Types"],"duration":25,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Primitive Types should handle null data","status":"passed","title":"should handle null data"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Primitive Types"],"duration":3,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Primitive Types should handle undefined data","status":"passed","title":"should handle undefined data"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Primitive Types"],"duration":4,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Primitive Types should handle string data","status":"passed","title":"should handle string data"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Primitive Types"],"duration":3,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Primitive Types should handle number data","status":"passed","title":"should handle number data"},{"ancestorTitles":["SafeLogger - Secret Sanitization","Primitive Types"],"duration":3,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization Primitive Types should handle boolean data","status":"passed","title":"should handle boolean data"},{"ancestorTitles":["SafeLogger - Secret Sanitization","All Logger Functions"],"duration":3,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization All Logger Functions safeError should redact sensitive data","status":"passed","title":"safeError should redact sensitive data"},{"ancestorTitles":["SafeLogger - Secret Sanitization","All Logger Functions"],"duration":3,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization All Logger Functions safeWarn should redact sensitive data","status":"passed","title":"safeWarn should redact sensitive data"},{"ancestorTitles":["SafeLogger - Secret Sanitization","All Logger Functions"],"duration":4,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization All Logger Functions safeDebug should redact sensitive data","status":"passed","title":"safeDebug should redact sensitive data"},{"ancestorTitles":["SafeLogger - Secret Sanitization","No Data Parameter"],"duration":3,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization No Data Parameter should handle safeLog without data parameter","status":"passed","title":"should handle safeLog without data parameter"},{"ancestorTitles":["SafeLogger - Secret Sanitization","No Data Parameter"],"duration":11,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization No Data Parameter should handle safeError without data parameter","status":"passed","title":"should handle safeError without data parameter"},{"ancestorTitles":["SafeLogger - Secret Sanitization","No Data Parameter"],"duration":4,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization No Data Parameter should handle safeWarn without data parameter","status":"passed","title":"should handle safeWarn without data parameter"},{"ancestorTitles":["SafeLogger - Secret Sanitization","No Data Parameter"],"duration":11,"failureMessages":[],"fullName":"SafeLogger - Secret Sanitization No Data Parameter should handle safeDebug without data parameter","status":"passed","title":"should handle safeDebug without data parameter"}]},{"numFailingTests":0,"numPassingTests":12,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890845125,"runtime":1772,"slow":false,"start":1769890843353},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\shared\\utils\\url.utils.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["URL Utils","joinUrl"],"duration":4,"failureMessages":[],"fullName":"URL Utils joinUrl should join base and path with trailing slashes","status":"passed","title":"should join base and path with trailing slashes"},{"ancestorTitles":["URL Utils","joinUrl"],"duration":2,"failureMessages":[],"fullName":"URL Utils joinUrl should join base with trailing slash and path without","status":"passed","title":"should join base with trailing slash and path without"},{"ancestorTitles":["URL Utils","joinUrl"],"duration":1,"failureMessages":[],"fullName":"URL Utils joinUrl should join base without trailing slash and path with leading slash","status":"passed","title":"should join base without trailing slash and path with leading slash"},{"ancestorTitles":["URL Utils","joinUrl"],"duration":1,"failureMessages":[],"fullName":"URL Utils joinUrl should join base and path both without slashes","status":"passed","title":"should join base and path both without slashes"},{"ancestorTitles":["URL Utils","joinUrl"],"duration":2,"failureMessages":[],"fullName":"URL Utils joinUrl should handle multiple trailing slashes","status":"passed","title":"should handle multiple trailing slashes"},{"ancestorTitles":["URL Utils","joinUrl"],"duration":1,"failureMessages":[],"fullName":"URL Utils joinUrl should handle empty path","status":"passed","title":"should handle empty path"},{"ancestorTitles":["URL Utils","joinUrl"],"duration":1,"failureMessages":[],"fullName":"URL Utils joinUrl should preserve protocol and domain","status":"passed","title":"should preserve protocol and domain"},{"ancestorTitles":["URL Utils","normalizeUrl"],"duration":1,"failureMessages":[],"fullName":"URL Utils normalizeUrl should remove trailing slash","status":"passed","title":"should remove trailing slash"},{"ancestorTitles":["URL Utils","normalizeUrl"],"duration":2,"failureMessages":[],"fullName":"URL Utils normalizeUrl should remove multiple trailing slashes","status":"passed","title":"should remove multiple trailing slashes"},{"ancestorTitles":["URL Utils","normalizeUrl"],"duration":1,"failureMessages":[],"fullName":"URL Utils normalizeUrl should keep root slash","status":"passed","title":"should keep root slash"},{"ancestorTitles":["URL Utils","normalizeUrl"],"duration":1,"failureMessages":[],"fullName":"URL Utils normalizeUrl should handle URL without trailing slash","status":"passed","title":"should handle URL without trailing slash"},{"ancestorTitles":["URL Utils","normalizeUrl"],"duration":2,"failureMessages":[],"fullName":"URL Utils normalizeUrl should handle absolute URLs","status":"passed","title":"should handle absolute URLs"}]},{"numFailingTests":0,"numPassingTests":22,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890846078,"runtime":1836,"slow":false,"start":1769890844242},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\utils\\photo-src.util.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrc"],"duration":7,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrc should return internal proxy URL when photoReference is provided","status":"passed","title":"should return internal proxy URL when photoReference is provided"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrc"],"duration":2,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrc should return null when no photo data is available","status":"passed","title":"should return null when no photo data is available"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrc"],"duration":2,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrc should never return URL containing \"key=\" parameter","status":"passed","title":"should never return URL containing \"key=\" parameter"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrc"],"duration":1,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrc should never return URL containing \"AIza\" (Google API key prefix)","status":"passed","title":"should never return URL containing \"AIza\" (Google API key prefix)"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrc"],"duration":2,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrc should never return URL to places.googleapis.com","status":"passed","title":"should never return URL to places.googleapis.com"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrc"],"duration":3,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrc should respect custom maxWidthPx parameter","status":"passed","title":"should respect custom maxWidthPx parameter"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrc"],"duration":3,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrc should ONLY use photoReference and ignore photoUrl completely","status":"passed","title":"should ONLY use photoReference and ignore photoUrl completely"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrc"],"duration":15,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrc should return null when only photoUrl exists (no photoReference)","status":"passed","title":"should return null when only photoUrl exists (no photoReference)"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrc"],"duration":2,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrc should handle missing photo gracefully","status":"passed","title":"should handle missing photo gracefully"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrc"],"duration":2,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrc should handle array of photo references (use first one)","status":"passed","title":"should handle array of photo references (use first one)"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","getPhotoPlaceholder"],"duration":3,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security getPhotoPlaceholder should return a valid data URI","status":"passed","title":"should return a valid data URI"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","getPhotoPlaceholder"],"duration":8,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security getPhotoPlaceholder should be a non-empty string","status":"passed","title":"should be a non-empty string"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrcset"],"duration":4,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrcset should return srcset with multiple sizes","status":"passed","title":"should return srcset with multiple sizes"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","buildPhotoSrcset"],"duration":2,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security buildPhotoSrcset should return null when no photo reference","status":"passed","title":"should return null when no photo reference"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","Security Regression Tests"],"duration":3,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security Security Regression Tests should NEVER accept direct Google Places URLs in photoUrl","status":"passed","title":"should NEVER accept direct Google Places URLs in photoUrl"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","Security Regression Tests"],"duration":18,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security Security Regression Tests should ignore photoUrl even if it looks safe","status":"passed","title":"should ignore photoUrl even if it looks safe"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","Security Regression Tests"],"duration":14,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security Security Regression Tests should build safe URLs for all valid photo references","status":"passed","title":"should build safe URLs for all valid photo references"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","URL Format Validation"],"duration":2,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security URL Format Validation should build URLs with correct structure","status":"passed","title":"should build URLs with correct structure"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","URL Format Validation"],"duration":1,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security URL Format Validation should URL-encode special characters if needed","status":"passed","title":"should URL-encode special characters if needed"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","Edge Cases"],"duration":2,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security Edge Cases should handle empty photoReference","status":"passed","title":"should handle empty photoReference"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","Edge Cases"],"duration":2,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security Edge Cases should handle very long photo references","status":"passed","title":"should handle very long photo references"},{"ancestorTitles":["PhotoSrcUtil - P0 Security","Edge Cases"],"duration":3,"failureMessages":[],"fullName":"PhotoSrcUtil - P0 Security Edge Cases should handle null/undefined restaurant properties gracefully","status":"passed","title":"should handle null/undefined restaurant properties gracefully"}]},{"numFailingTests":0,"numPassingTests":7,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769890846430,"runtime":1893,"slow":false,"start":1769890844537},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\core\\services\\auth-api.service.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["AuthApiService - WS Ticket with JWT Hardening"],"duration":211,"failureMessages":[],"fullName":"AuthApiService - WS Ticket with JWT Hardening should include Authorization Bearer header in ticket request","status":"passed","title":"should include Authorization Bearer header in ticket request"},{"ancestorTitles":["AuthApiService - WS Ticket with JWT Hardening"],"duration":19,"failureMessages":[],"fullName":"AuthApiService - WS Ticket with JWT Hardening should include X-Session-Id header in ticket request","status":"passed","title":"should include X-Session-Id header in ticket request"},{"ancestorTitles":["AuthApiService - WS Ticket with JWT Hardening"],"duration":97,"failureMessages":[],"fullName":"AuthApiService - WS Ticket with JWT Hardening should clear token and retry once on 401 response","status":"passed","title":"should clear token and retry once on 401 response"},{"ancestorTitles":["AuthApiService - WS Ticket with JWT Hardening"],"duration":37,"failureMessages":[],"fullName":"AuthApiService - WS Ticket with JWT Hardening should fail after retry if 401 persists","status":"passed","title":"should fail after retry if 401 persists"},{"ancestorTitles":["AuthApiService - WS Ticket with JWT Hardening"],"duration":18,"failureMessages":[],"fullName":"AuthApiService - WS Ticket with JWT Hardening should not retry on non-401 errors","status":"passed","title":"should not retry on non-401 errors"},{"ancestorTitles":["AuthApiService - WS Ticket with JWT Hardening"],"duration":62,"failureMessages":[],"fullName":"AuthApiService - WS Ticket with JWT Hardening should await JWT token before making request","status":"passed","title":"should await JWT token before making request"},{"ancestorTitles":["AuthApiService - WS Ticket with JWT Hardening"],"duration":27,"failureMessages":[],"fullName":"AuthApiService - WS Ticket with JWT Hardening should handle missing session ID gracefully","status":"passed","title":"should handle missing session ID gracefully"}]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":false,"collectCoverageFrom":[],"coverageDirectory":"C:\\dev\\piza\\angular-piza\\llm-angular\\coverage","coverageProvider":"babel","coverageReporters":["json","text","lcov","clover"],"detectLeaks":false,"detectOpenHandles":false,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":false,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":7,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-html-reporters\\index.js",{"publicPath":"./reports","filename":"index.html","expand":true,"pageTitle":"Angular Unit Tests"}]],"rootDir":"C:\\dev\\piza\\angular-piza\\llm-angular","runTestsByPath":false,"seed":303008241,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPattern":"","testSequencer":"C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@jest\\test-sequencer\\build\\index.js","updateSnapshot":"new","useStderr":false,"watch":false,"watchAll":false,"watchman":true,"workerThreads":false},"endTime":1769890847058,"_reporterOptions":{"publicPath":"./reports","filename":"index.html","expand":true,"pageTitle":"Angular Unit Tests","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})