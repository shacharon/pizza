window.jest_html_reporters_callback__({"numFailedTestSuites":0,"numFailedTests":0,"numPassedTestSuites":3,"numPassedTests":85,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":3,"numTotalTests":85,"startTime":1769757735619,"success":false,"testResults":[{"numFailingTests":0,"numPassingTests":26,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769757743033,"runtime":3747,"slow":false,"start":1769757739286},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\domain\\mappers\\assistant-message.mapper.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":19,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return true for CLARIFY","status":"passed","title":"should return true for CLARIFY"},{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return true for SUMMARY","status":"passed","title":"should return true for SUMMARY"},{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return true for GATE_FAIL","status":"passed","title":"should return true for GATE_FAIL"},{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return false for invalid types","status":"passed","title":"should return false for invalid types"},{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return false for undefined","status":"passed","title":"should return false for undefined"},{"ancestorTitles":["Assistant Message Mapper","isValidLLMType"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper isValidLLMType should return false for empty string","status":"passed","title":"should return false for empty string"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should extract valid SUMMARY message","status":"passed","title":"should extract valid SUMMARY message"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should extract CLARIFY message with question","status":"passed","title":"should extract CLARIFY message with question"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should extract GATE_FAIL message","status":"passed","title":"should extract GATE_FAIL message"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should return null for missing payload","status":"passed","title":"should return null for missing payload"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":2,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should return null for invalid type","status":"passed","title":"should return null for invalid type"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":3,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should return null for empty message","status":"passed","title":"should return null for empty message"},{"ancestorTitles":["Assistant Message Mapper","extractAssistantMessage"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper extractAssistantMessage should generate stable ID","status":"passed","title":"should generate stable ID"},{"ancestorTitles":["Assistant Message Mapper","generateMessageId"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper generateMessageId should generate ID with all components","status":"passed","title":"should generate ID with all components"},{"ancestorTitles":["Assistant Message Mapper","generateMessageId"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper generateMessageId should be deterministic for same inputs","status":"passed","title":"should be deterministic for same inputs"},{"ancestorTitles":["Assistant Message Mapper","generateMessageId"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper generateMessageId should generate different IDs for different timestamps","status":"passed","title":"should generate different IDs for different timestamps"},{"ancestorTitles":["Assistant Message Mapper","generateMessageId"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper generateMessageId should generate different IDs for different types","status":"passed","title":"should generate different IDs for different types"},{"ancestorTitles":["Assistant Message Mapper","generateMessageId"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper generateMessageId should generate different IDs for different requestIds","status":"passed","title":"should generate different IDs for different requestIds"},{"ancestorTitles":["Assistant Message Mapper","extractMessageText"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper extractMessageText should extract from message field","status":"passed","title":"should extract from message field"},{"ancestorTitles":["Assistant Message Mapper","extractMessageText"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper extractMessageText should fallback to question field","status":"passed","title":"should fallback to question field"},{"ancestorTitles":["Assistant Message Mapper","extractMessageText"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper extractMessageText should prioritize message over question","status":"passed","title":"should prioritize message over question"},{"ancestorTitles":["Assistant Message Mapper","extractMessageText"],"duration":0,"failureMessages":[],"fullName":"Assistant Message Mapper extractMessageText should return empty string if both missing","status":"passed","title":"should return empty string if both missing"},{"ancestorTitles":["Assistant Message Mapper","doesMessageBlockSearch"],"duration":0,"failureMessages":[],"fullName":"Assistant Message Mapper doesMessageBlockSearch should return true when blocksSearch is true","status":"passed","title":"should return true when blocksSearch is true"},{"ancestorTitles":["Assistant Message Mapper","doesMessageBlockSearch"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper doesMessageBlockSearch should return false when blocksSearch is false","status":"passed","title":"should return false when blocksSearch is false"},{"ancestorTitles":["Assistant Message Mapper","doesMessageBlockSearch"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper doesMessageBlockSearch should return false when blocksSearch is missing","status":"passed","title":"should return false when blocksSearch is missing"},{"ancestorTitles":["Assistant Message Mapper","doesMessageBlockSearch"],"duration":1,"failureMessages":[],"fullName":"Assistant Message Mapper doesMessageBlockSearch should return false when blocksSearch is undefined","status":"passed","title":"should return false when blocksSearch is undefined"}]},{"numFailingTests":0,"numPassingTests":35,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769757743067,"runtime":3782,"slow":false,"start":1769757739285},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\domain\\mappers\\search-response.mapper.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["Search Response Mapper","flattenResultGroups"],"duration":23,"failureMessages":[],"fullName":"Search Response Mapper flattenResultGroups should flatten multiple groups","status":"passed","title":"should flatten multiple groups"},{"ancestorTitles":["Search Response Mapper","flattenResultGroups"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper flattenResultGroups should return empty array for undefined groups","status":"passed","title":"should return empty array for undefined groups"},{"ancestorTitles":["Search Response Mapper","flattenResultGroups"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper flattenResultGroups should return empty array for empty groups","status":"passed","title":"should return empty array for empty groups"},{"ancestorTitles":["Search Response Mapper","flattenResultGroups"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper flattenResultGroups should handle single group","status":"passed","title":"should handle single group"},{"ancestorTitles":["Search Response Mapper","flattenResultGroups"],"duration":3,"failureMessages":[],"fullName":"Search Response Mapper flattenResultGroups should preserve ordering","status":"passed","title":"should preserve ordering"},{"ancestorTitles":["Search Response Mapper","extractExactResults"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper extractExactResults should extract EXACT group results","status":"passed","title":"should extract EXACT group results"},{"ancestorTitles":["Search Response Mapper","extractExactResults"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper extractExactResults should return empty array if no EXACT group","status":"passed","title":"should return empty array if no EXACT group"},{"ancestorTitles":["Search Response Mapper","extractExactResults"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper extractExactResults should return empty array for undefined groups","status":"passed","title":"should return empty array for undefined groups"},{"ancestorTitles":["Search Response Mapper","extractNearbyResults"],"duration":2,"failureMessages":[],"fullName":"Search Response Mapper extractNearbyResults should extract NEARBY group results","status":"passed","title":"should extract NEARBY group results"},{"ancestorTitles":["Search Response Mapper","extractNearbyResults"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper extractNearbyResults should return empty array if no NEARBY group","status":"passed","title":"should return empty array if no NEARBY group"},{"ancestorTitles":["Search Response Mapper","extractNearbyResults"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper extractNearbyResults should return empty array for undefined groups","status":"passed","title":"should return empty array for undefined groups"},{"ancestorTitles":["Search Response Mapper","requiresClarification"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper requiresClarification should return true when requiresClarification is true","status":"passed","title":"should return true when requiresClarification is true"},{"ancestorTitles":["Search Response Mapper","requiresClarification"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper requiresClarification should return false when requiresClarification is false","status":"passed","title":"should return false when requiresClarification is false"},{"ancestorTitles":["Search Response Mapper","requiresClarification"],"duration":0,"failureMessages":[],"fullName":"Search Response Mapper requiresClarification should return false for null response","status":"passed","title":"should return false for null response"},{"ancestorTitles":["Search Response Mapper","hasResults"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper hasResults should return true when results exist","status":"passed","title":"should return true when results exist"},{"ancestorTitles":["Search Response Mapper","hasResults"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper hasResults should return false when results array is empty","status":"passed","title":"should return false when results array is empty"},{"ancestorTitles":["Search Response Mapper","hasResults"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper hasResults should return false for null response","status":"passed","title":"should return false for null response"},{"ancestorTitles":["Search Response Mapper","getConfidence"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper getConfidence should return confidence from meta","status":"passed","title":"should return confidence from meta"},{"ancestorTitles":["Search Response Mapper","getConfidence"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper getConfidence should return 1.0 as default when meta missing","status":"passed","title":"should return 1.0 as default when meta missing"},{"ancestorTitles":["Search Response Mapper","getConfidence"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper getConfidence should return 1.0 for null response","status":"passed","title":"should return 1.0 for null response"},{"ancestorTitles":["Search Response Mapper","isLowConfidence"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper isLowConfidence should return true when confidence below default threshold (0.6)","status":"passed","title":"should return true when confidence below default threshold (0.6)"},{"ancestorTitles":["Search Response Mapper","isLowConfidence"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper isLowConfidence should return false when confidence above threshold","status":"passed","title":"should return false when confidence above threshold"},{"ancestorTitles":["Search Response Mapper","isLowConfidence"],"duration":0,"failureMessages":[],"fullName":"Search Response Mapper isLowConfidence should support custom threshold","status":"passed","title":"should support custom threshold"},{"ancestorTitles":["Search Response Mapper","getAppliedFilters"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper getAppliedFilters should return applied filters from meta","status":"passed","title":"should return applied filters from meta"},{"ancestorTitles":["Search Response Mapper","getAppliedFilters"],"duration":0,"failureMessages":[],"fullName":"Search Response Mapper getAppliedFilters should return empty array when no filters","status":"passed","title":"should return empty array when no filters"},{"ancestorTitles":["Search Response Mapper","getAppliedFilters"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper getAppliedFilters should return empty array for null response","status":"passed","title":"should return empty array for null response"},{"ancestorTitles":["Search Response Mapper","isFilterApplied"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper isFilterApplied should return true when filter is applied","status":"passed","title":"should return true when filter is applied"},{"ancestorTitles":["Search Response Mapper","isFilterApplied"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper isFilterApplied should return false when filter is not applied","status":"passed","title":"should return false when filter is not applied"},{"ancestorTitles":["Search Response Mapper","getAssistMode"],"duration":0,"failureMessages":[],"fullName":"Search Response Mapper getAssistMode should return assist mode from response","status":"passed","title":"should return assist mode from response"},{"ancestorTitles":["Search Response Mapper","getAssistMode"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper getAssistMode should return NORMAL as default","status":"passed","title":"should return NORMAL as default"},{"ancestorTitles":["Search Response Mapper","getAssistMode"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper getAssistMode should return NORMAL for null response","status":"passed","title":"should return NORMAL for null response"},{"ancestorTitles":["Search Response Mapper","isPipelineStopped"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper isPipelineStopped should return true when source is route2_gate_stop","status":"passed","title":"should return true when source is route2_gate_stop"},{"ancestorTitles":["Search Response Mapper","isPipelineStopped"],"duration":0,"failureMessages":[],"fullName":"Search Response Mapper isPipelineStopped should return true when failureReason is LOW_CONFIDENCE","status":"passed","title":"should return true when failureReason is LOW_CONFIDENCE"},{"ancestorTitles":["Search Response Mapper","isPipelineStopped"],"duration":0,"failureMessages":[],"fullName":"Search Response Mapper isPipelineStopped should return false when neither condition met","status":"passed","title":"should return false when neither condition met"},{"ancestorTitles":["Search Response Mapper","isPipelineStopped"],"duration":1,"failureMessages":[],"fullName":"Search Response Mapper isPipelineStopped should return false for null response","status":"passed","title":"should return false for null response"}]},{"numFailingTests":0,"numPassingTests":24,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1769757743702,"runtime":591,"slow":false,"start":1769757743111},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\domain\\mappers\\chip.mapper.spec.ts","failureMessage":null,"testResults":[{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":2,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map sort_best_match to BEST_MATCH","status":"passed","title":"should map sort_best_match to BEST_MATCH"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":0,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map best_match to BEST_MATCH","status":"passed","title":"should map best_match to BEST_MATCH"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":0,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map sort_closest to CLOSEST","status":"passed","title":"should map sort_closest to CLOSEST"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map closest to CLOSEST","status":"passed","title":"should map closest to CLOSEST"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":0,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map sort_rating to RATING_DESC","status":"passed","title":"should map sort_rating to RATING_DESC"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map toprated to RATING_DESC","status":"passed","title":"should map toprated to RATING_DESC"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":4,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should map sort_price to PRICE_ASC","status":"passed","title":"should map sort_price to PRICE_ASC"},{"ancestorTitles":["Chip Mapper","mapChipToSortKey"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper mapChipToSortKey should default to BEST_MATCH for unknown chip IDs","status":"passed","title":"should default to BEST_MATCH for unknown chip IDs"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should return empty filters for empty set","status":"passed","title":"should return empty filters for empty set"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should map opennow filter","status":"passed","title":"should map opennow filter"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should map closednow filter","status":"passed","title":"should map closednow filter"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":0,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should map price filter","status":"passed","title":"should map price filter"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should validate price level range (1-4)","status":"passed","title":"should validate price level range (1-4)"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should map delivery filter to mustHave","status":"passed","title":"should map delivery filter to mustHave"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should map dietary filters","status":"passed","title":"should map dietary filters"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should combine multiple dietary filters","status":"passed","title":"should combine multiple dietary filters"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":0,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should combine multiple filter types","status":"passed","title":"should combine multiple filter types"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":0,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should ignore chips without filter action","status":"passed","title":"should ignore chips without filter action"},{"ancestorTitles":["Chip Mapper","buildSearchFilters"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper buildSearchFilters should ignore non-existent chip IDs","status":"passed","title":"should ignore non-existent chip IDs"},{"ancestorTitles":["Chip Mapper","parseFilterString"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper parseFilterString should parse price filter","status":"passed","title":"should parse price filter"},{"ancestorTitles":["Chip Mapper","parseFilterString"],"duration":0,"failureMessages":[],"fullName":"Chip Mapper parseFilterString should parse simple filter","status":"passed","title":"should parse simple filter"},{"ancestorTitles":["Chip Mapper","parseFilterString"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper parseFilterString should parse kosher filter","status":"passed","title":"should parse kosher filter"},{"ancestorTitles":["Chip Mapper","parseFilterString"],"duration":0,"failureMessages":[],"fullName":"Chip Mapper parseFilterString should parse delivery filter","status":"passed","title":"should parse delivery filter"},{"ancestorTitles":["Chip Mapper","parseFilterString"],"duration":1,"failureMessages":[],"fullName":"Chip Mapper parseFilterString should handle empty string","status":"passed","title":"should handle empty string"}]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":false,"collectCoverageFrom":[],"coverageDirectory":"C:\\dev\\piza\\angular-piza\\llm-angular\\coverage","coverageProvider":"babel","coverageReporters":["json","text","lcov","clover"],"detectLeaks":false,"detectOpenHandles":false,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":false,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":2,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-html-reporters\\index.js",{"publicPath":"./reports","filename":"index.html","expand":true,"pageTitle":"Angular Unit Tests"}]],"rootDir":"C:\\dev\\piza\\angular-piza\\llm-angular","runTestsByPath":false,"seed":1374769057,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPattern":"mapper.spec","testSequencer":"C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@jest\\test-sequencer\\build\\index.js","updateSnapshot":"new","useStderr":false,"watch":false,"watchAll":false,"watchman":true,"workerThreads":false},"endTime":1769757743752,"_reporterOptions":{"publicPath":"./reports","filename":"index.html","expand":true,"pageTitle":"Angular Unit Tests","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})