window.jest_html_reporters_callback__({"numFailedTestSuites":1,"numFailedTests":1,"numPassedTestSuites":0,"numPassedTests":37,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":38,"startTime":1770219881984,"success":false,"testResults":[{"numFailingTests":1,"numPassingTests":37,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1770219897038,"runtime":8757,"slow":true,"start":1770219888281},"testFilePath":"C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts","failureMessage":"  ● RestaurantCardComponent › Open Until Display › should show early morning closing time (within 6 hours, before 6am)\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"02:00\"\n    Received: null\n\n      259 |\n      260 |       // Early morning close (2 AM) should show as part of \"today's\" session\n    > 261 |       expect(component.closingTimeToday()).toBe('02:00');\n          |                                            ^\n      262 |     });\n      263 |\n      264 |     it('should hide when closing time has passed', () => {\n\n      at src/app/features/unified-search/components/restaurant-card/restaurant-card.component.spec.ts:261:44\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:410:32)\n      at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (node_modules/zone.js/bundles/zone-testing.umd.js:2219:43)\n      at _ZoneDelegate.invoke (node_modules/zone.js/bundles/zone.umd.js:409:38)\n      at ZoneImpl.run (node_modules/zone.js/bundles/zone.umd.js:145:47)\n      at Object.wrappedFunc (node_modules/zone.js/bundles/zone-testing.umd.js:449:38)\n","testResults":[{"ancestorTitles":["RestaurantCardComponent","Near You Badge"],"duration":845,"failureMessages":[],"fullName":"RestaurantCardComponent Near You Badge should show badge when distance < 600m","status":"passed","title":"should show badge when distance < 600m"},{"ancestorTitles":["RestaurantCardComponent","Near You Badge"],"duration":115,"failureMessages":[],"fullName":"RestaurantCardComponent Near You Badge should hide badge when distance >= 600m","status":"passed","title":"should hide badge when distance >= 600m"},{"ancestorTitles":["RestaurantCardComponent","Near You Badge"],"duration":79,"failureMessages":[],"fullName":"RestaurantCardComponent Near You Badge should hide badge when no userLocation","status":"passed","title":"should hide badge when no userLocation"},{"ancestorTitles":["RestaurantCardComponent","Near You Badge"],"duration":73,"failureMessages":[],"fullName":"RestaurantCardComponent Near You Badge should recalculate when userLocation changes","status":"passed","title":"should recalculate when userLocation changes"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":88,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should show closing time from currentOpeningHours.nextCloseTime when open","status":"passed","title":"should show closing time from currentOpeningHours.nextCloseTime when open"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":59,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should HIDE closing time when restaurant is CLOSED","status":"passed","title":"should HIDE closing time when restaurant is CLOSED"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":83,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should HIDE closing time when openNow status is UNKNOWN","status":"passed","title":"should HIDE closing time when openNow status is UNKNOWN"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":57,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should show closing time from regularOpeningHours for today when open","status":"passed","title":"should show closing time from regularOpeningHours for today when open"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":91,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should HIDE when multiple periods for same day (ambiguous)","status":"passed","title":"should HIDE when multiple periods for same day (ambiguous)"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":69,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should show after-midnight closing time (e.g., 01:00)","status":"passed","title":"should show after-midnight closing time (e.g., 01:00)"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":50,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should hide when nextCloseTime is tomorrow (late)","status":"passed","title":"should hide when nextCloseTime is tomorrow (late)"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":64,"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"02:00\"\nReceived: null\n    at C:\\dev\\piza\\angular-piza\\llm-angular\\src\\app\\features\\unified-search\\components\\restaurant-card\\restaurant-card.component.spec.ts:261:44\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:410:32)\n    at ProxyZoneSpec.Object.<anonymous>.ProxyZoneSpec.onInvoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:2219:43)\n    at _ZoneDelegate.invoke (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:409:38)\n    at ZoneImpl.run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone.umd.js:145:47)\n    at Object.wrappedFunc (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\zone.js\\bundles\\zone-testing.umd.js:449:38)\n    at Promise.then.completed (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async _runTest (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at async _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at async _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at async _runTestsForDescribeBlock (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at async run (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at async runAndTransformResultsToJestFormat (C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)"],"fullName":"RestaurantCardComponent Open Until Display should show early morning closing time (within 6 hours, before 6am)","status":"failed","title":"should show early morning closing time (within 6 hours, before 6am)"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":80,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should hide when closing time has passed","status":"passed","title":"should hide when closing time has passed"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":57,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should hide when no opening hours data available","status":"passed","title":"should hide when no opening hours data available"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":51,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should prefer currentOpeningHours over regularOpeningHours","status":"passed","title":"should prefer currentOpeningHours over regularOpeningHours"},{"ancestorTitles":["RestaurantCardComponent","Open Until Display"],"duration":48,"failureMessages":[],"fullName":"RestaurantCardComponent Open Until Display should hide when openNow is missing/undefined","status":"passed","title":"should hide when openNow is missing/undefined"},{"ancestorTitles":["RestaurantCardComponent","I18n Integration"],"duration":47,"failureMessages":[],"fullName":"RestaurantCardComponent I18n Integration should use i18n service for near you badge text","status":"passed","title":"should use i18n service for near you badge text"},{"ancestorTitles":["RestaurantCardComponent","I18n Integration"],"duration":66,"failureMessages":[],"fullName":"RestaurantCardComponent I18n Integration should use i18n service for open until text","status":"passed","title":"should use i18n service for open until text"},{"ancestorTitles":["RestaurantCardComponent","I18n Integration","Open Until - All Languages"],"duration":44,"failureMessages":[],"fullName":"RestaurantCardComponent I18n Integration Open Until - All Languages should render correctly in Hebrew (he)","status":"passed","title":"should render correctly in Hebrew (he)"},{"ancestorTitles":["RestaurantCardComponent","I18n Integration","Open Until - All Languages"],"duration":51,"failureMessages":[],"fullName":"RestaurantCardComponent I18n Integration Open Until - All Languages should render correctly in English (en)","status":"passed","title":"should render correctly in English (en)"},{"ancestorTitles":["RestaurantCardComponent","I18n Integration","Open Until - All Languages"],"duration":50,"failureMessages":[],"fullName":"RestaurantCardComponent I18n Integration Open Until - All Languages should render correctly in Arabic (ar)","status":"passed","title":"should render correctly in Arabic (ar)"},{"ancestorTitles":["RestaurantCardComponent","I18n Integration","Open Until - All Languages"],"duration":41,"failureMessages":[],"fullName":"RestaurantCardComponent I18n Integration Open Until - All Languages should render correctly in Russian (ru)","status":"passed","title":"should render correctly in Russian (ru)"},{"ancestorTitles":["RestaurantCardComponent","I18n Integration","Open Until - All Languages"],"duration":51,"failureMessages":[],"fullName":"RestaurantCardComponent I18n Integration Open Until - All Languages should render correctly in French (fr)","status":"passed","title":"should render correctly in French (fr)"},{"ancestorTitles":["RestaurantCardComponent","I18n Integration","Open Until - All Languages"],"duration":110,"failureMessages":[],"fullName":"RestaurantCardComponent I18n Integration Open Until - All Languages should render correctly in Spanish (es)","status":"passed","title":"should render correctly in Spanish (es)"},{"ancestorTitles":["RestaurantCardComponent","I18n Integration","Open Until - All Languages"],"duration":60,"failureMessages":[],"fullName":"RestaurantCardComponent I18n Integration Open Until - All Languages should interpolate time value correctly","status":"passed","title":"should interpolate time value correctly"},{"ancestorTitles":["RestaurantCardComponent","Edge Cases"],"duration":61,"failureMessages":[],"fullName":"RestaurantCardComponent Edge Cases should handle invalid nextCloseTime gracefully","status":"passed","title":"should handle invalid nextCloseTime gracefully"},{"ancestorTitles":["RestaurantCardComponent","Edge Cases"],"duration":70,"failureMessages":[],"fullName":"RestaurantCardComponent Edge Cases should handle missing close time in regularOpeningHours","status":"passed","title":"should handle missing close time in regularOpeningHours"},{"ancestorTitles":["RestaurantCardComponent","Edge Cases"],"duration":69,"failureMessages":[],"fullName":"RestaurantCardComponent Edge Cases should handle distance calculation at exactly 600m threshold","status":"passed","title":"should handle distance calculation at exactly 600m threshold"},{"ancestorTitles":["RestaurantCardComponent","Wolt CTA (Client-Side Deep-Link)"],"duration":71,"failureMessages":[],"fullName":"RestaurantCardComponent Wolt CTA (Client-Side Deep-Link) should build Wolt search URL with restaurant name and city","status":"passed","title":"should build Wolt search URL with restaurant name and city"},{"ancestorTitles":["RestaurantCardComponent","Wolt CTA (Client-Side Deep-Link)"],"duration":81,"failureMessages":[],"fullName":"RestaurantCardComponent Wolt CTA (Client-Side Deep-Link) should build Wolt URL with Hebrew language when i18n is Hebrew","status":"passed","title":"should build Wolt URL with Hebrew language when i18n is Hebrew"},{"ancestorTitles":["RestaurantCardComponent","Wolt CTA (Client-Side Deep-Link)"],"duration":75,"failureMessages":[],"fullName":"RestaurantCardComponent Wolt CTA (Client-Side Deep-Link) should build Wolt URL with English language when i18n is English","status":"passed","title":"should build Wolt URL with English language when i18n is English"},{"ancestorTitles":["RestaurantCardComponent","Wolt CTA (Client-Side Deep-Link)"],"duration":72,"failureMessages":[],"fullName":"RestaurantCardComponent Wolt CTA (Client-Side Deep-Link) should fallback to tel-aviv when city cannot be extracted","status":"passed","title":"should fallback to tel-aviv when city cannot be extracted"},{"ancestorTitles":["RestaurantCardComponent","Wolt CTA (Client-Side Deep-Link)"],"duration":122,"failureMessages":[],"fullName":"RestaurantCardComponent Wolt CTA (Client-Side Deep-Link) should hide button when restaurant name is missing","status":"passed","title":"should hide button when restaurant name is missing"},{"ancestorTitles":["RestaurantCardComponent","Wolt CTA (Client-Side Deep-Link)"],"duration":107,"failureMessages":[],"fullName":"RestaurantCardComponent Wolt CTA (Client-Side Deep-Link) should extract correct city slug for Jerusalem","status":"passed","title":"should extract correct city slug for Jerusalem"},{"ancestorTitles":["RestaurantCardComponent","Wolt CTA (Client-Side Deep-Link)"],"duration":115,"failureMessages":[],"fullName":"RestaurantCardComponent Wolt CTA (Client-Side Deep-Link) should extract correct city slug for Haifa","status":"passed","title":"should extract correct city slug for Haifa"},{"ancestorTitles":["RestaurantCardComponent","Wolt CTA (Client-Side Deep-Link)"],"duration":96,"failureMessages":[],"fullName":"RestaurantCardComponent Wolt CTA (Client-Side Deep-Link) should use correct i18n labels","status":"passed","title":"should use correct i18n labels"},{"ancestorTitles":["RestaurantCardComponent","Wolt CTA (Client-Side Deep-Link)"],"duration":72,"failureMessages":[],"fullName":"RestaurantCardComponent Wolt CTA (Client-Side Deep-Link) should use action-btn-wolt-search CSS class","status":"passed","title":"should use action-btn-wolt-search CSS class"},{"ancestorTitles":["RestaurantCardComponent","Wolt CTA (Client-Side Deep-Link)"],"duration":72,"failureMessages":[],"fullName":"RestaurantCardComponent Wolt CTA (Client-Side Deep-Link) should not show spinner","status":"passed","title":"should not show spinner"}]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":false,"collectCoverageFrom":[],"coverageDirectory":"C:\\dev\\piza\\angular-piza\\llm-angular\\coverage","coverageProvider":"babel","coverageReporters":["json","text","lcov","clover"],"detectLeaks":false,"detectOpenHandles":false,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":false,"json":false,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":7,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"passWithNoTests":false,"projects":[],"reporters":[["default",{}],["C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\jest-html-reporters\\index.js",{"publicPath":"./reports","filename":"index.html","expand":true,"pageTitle":"Angular Unit Tests"}]],"rootDir":"C:\\dev\\piza\\angular-piza\\llm-angular","runTestsByPath":false,"seed":-1421912353,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPattern":"restaurant-card.component","testSequencer":"C:\\dev\\piza\\angular-piza\\llm-angular\\node_modules\\@jest\\test-sequencer\\build\\index.js","updateSnapshot":"new","useStderr":false,"verbose":true,"watch":false,"watchAll":false,"watchman":true,"workerThreads":false},"endTime":1770219897136,"_reporterOptions":{"publicPath":"./reports","filename":"index.html","expand":true,"pageTitle":"Angular Unit Tests","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})