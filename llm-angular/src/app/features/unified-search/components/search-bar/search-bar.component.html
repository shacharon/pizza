<div class="search-bar">
  <div class="search-input-container">
    <textarea #searchInput rows="3" class="search-input" [ngModel]="query()" (ngModelChange)="onInput($event)"
      (keydown.enter)="onSearchFromInput(searchInput.value)" [disabled]="disabled()" [placeholder]="placeholder()"
      aria-label="Search for restaurants"></textarea>
    
    @if (query() && !loading()) {
    <button type="button" class="clear-button" (click)="onClear()" [disabled]="disabled()" aria-label="Clear search">
      âœ•
    </button>
    }
    
    @if (loading()) {
    <span class="loading-indicator" aria-label="Loading"></span>
    } @else {
    <button type="button" class="send-button" (click)="onSearchFromInput(searchInput.value)" [disabled]="disabled() || !query()" aria-label="Search">
      <svg class="send-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M22 2L15 22L11 13L2 9L22 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    }
  </div>
</div>