.restaurant-card {
  display: flex;
  gap: 1rem; // COMPACT: Reduced from 1.5rem
  padding: 1rem; // COMPACT: Reduced from 1.5rem
  background: #fff;
  border: 1px solid #e5e7eb;
  border-radius: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);
  position: relative;

  // MOBILE FIRST: Prevent text selection on tap (better touch UX)
  -webkit-tap-highlight-color: transparent;
  user-select: none;

  // UX POLISH: Subtle hover feedback (desktop only)
  @media (min-width: 769px) {
    &:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      transform: translateY(-2px);
      border-color: #d1d5db;
    }
  }

  &.selected {
    border-color: #60a5fa;
    box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.15);
  }

  &:focus {
    outline: 2px solid #60a5fa;
    outline-offset: 2px;
  }

  // NEW: Mobile-first UX - Top result styling
  &.top-result {
    border-color: #3b82f6;
    background: linear-gradient(to bottom, #eff6ff 0%, #fff 100%);
  }

  // NEW: Closed state - muted appearance
  &.closed {
    opacity: 0.75;
    background: #fafafa;
    border-color: #e5e7eb;
  }

  // MOBILE ONLY: Compact mode for bottom sheet/panel (NOISE REDUCTION)
  &.compact {
    padding: 0.75rem; // NOISE REDUCTION: Even tighter
    gap: 0.625rem; // NOISE REDUCTION: Minimal gap

    .restaurant-photo,
    .restaurant-photo-placeholder {
      width: 60px; // COMPACT: Ultra-small (was 64px)
      height: 60px;
      min-height: 60px; // PERFORMANCE: Fixed height
      min-width: 60px;
      aspect-ratio: 1 / 1; // COMPACT: Square for space efficiency
      border-radius: 8px; // COMPACT: All corners rounded (not card-top)
      object-fit: cover;
      object-position: center;
    }

    .restaurant-photo-placeholder {
      font-size: 1.5rem; // COMPACT: Tiny icon
    }

    .restaurant-info {
      flex: 1;
      min-width: 0;

      .restaurant-name {
        font-size: 0.9375rem;
        margin-bottom: 0.1875rem; // NOISE REDUCTION: Less space
        line-height: 1.3;
      }

      .cuisine-tag {
        font-size: 0.6875rem;
        margin-bottom: 0.125rem;
      }

      .restaurant-meta {
        font-size: 0.75rem;
        margin-bottom: 0.125rem; // NOISE REDUCTION: Minimal space
        gap: 0.25rem; // NOISE REDUCTION: Tight gap
      }

      .restaurant-address-compact {
        font-size: 0.6875rem; // NOISE REDUCTION: Smaller
        margin-bottom: 0.125rem; // NOISE REDUCTION: Minimal space
        color: #9ca3af;
      }

      .card-signal-text {
        font-size: 0.6875rem;
        margin: 0.125rem 0; // NOISE REDUCTION: Minimal margins
      }

      // MOBILE: Hide price level in compact mode
      .price-level {
        display: none;
      }

      // NOISE REDUCTION: Hide review count in compact mode
      .rating-reviews {
        display: none;
      }
    }

    .action-bar {
      gap: 0.25rem;

      .action-button {
        padding: 0.375rem 0.5rem;
        font-size: 0.75rem;

        .action-icon {
          font-size: 0.875rem;
        }

        .action-label {
          display: none; // Hide labels in compact mode
        }
      }
    }
  }
}

// NEW: Dietary hint badges (SOFT hints)
.dietary-badge {
  display: inline-flex;
  align-items: center;
  padding: 0.25rem 0.5rem;
  font-size: 0.6875rem;
  font-weight: 600;
  border-radius: 6px;
  text-transform: uppercase;
  letter-spacing: 0.025em;
  flex-shrink: 0;
  cursor: help;

  &.gluten-free {
    &.high {
      background: #dcfce7;
      color: #166534;
      border: 1px solid #bbf7d0;
    }

    &.low {
      background: #fef3c7;
      color: #92400e;
      border: 1px solid #fde68a;
    }
  }
}

// DESKTOP: Image contextual, not primary CTA
.restaurant-photo {
  width: 140px;
  height: 140px;
  object-fit: cover;
  object-position: center;
  border-radius: 12px;
  flex-shrink: 0;

  // PERFORMANCE: Fixed height prevents CLS (Content Layout Shift)
  min-height: 140px;
}

.restaurant-photo-placeholder {
  width: 140px;
  height: 140px;
  min-height: 140px; // PERFORMANCE: Prevent layout jump
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg, #f0f9ff 0%, #dbeafe 100%); // Better blue gradient
  border-radius: 12px;
  font-size: 2.5rem; // Smaller icon
  color: #93c5fd; // Softer blue
  flex-shrink: 0;
  border: 1px dashed #bfdbfe; // Subtle dashed border
  transition: all 0.2s ease;

  // Parent hover effect
  .restaurant-card:hover & {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    color: #60a5fa;
  }
}

.restaurant-info {
  flex: 1;
  min-width: 0; // Allow text truncation
}

.restaurant-name-row {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem; // COMPACT: Reduced from 0.75rem
}

// VISUAL POLISH: Typography hierarchy (desktop)
.restaurant-name {
  margin: 0;
  font-size: 1.375rem;
  font-weight: 600; // VISUAL POLISH: Semibold (weight 1 of 2)
  color: #111827; // VISUAL POLISH: Dark text
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.3;
  position: relative;
  flex: 1;

  // NEW: Clickable name styling
  &.clickable {
    color: #2563eb; // Blue link color
    cursor: pointer;
    text-decoration: none;
    transition: color 0.15s ease;

    &:hover {
      color: #1d4ed8; // Darker blue on hover
      text-decoration: underline;
    }

    &:active {
      color: #1e40af; // Even darker on click
    }
  }
}

// NEW: Cuisine/category tag
.cuisine-tag {
  margin: 0 0 0.5rem 0;
  font-size: 0.875rem;
  font-weight: 500;
  color: #6b7280;
  line-height: 1.3;
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

.restaurant-meta {
  display: flex;
  gap: 0.75rem;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 0.5rem;
  font-size: 0.875rem;
  font-weight: 400; // VISUAL POLISH: Normal (weight 2 of 2)
  color: #6b7280; // VISUAL POLISH: Medium gray
}

// VISUAL POLISH: Clean rating format "⭐ 4.2 · 114 ביקורות"
.rating {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  color: #6b7280; // VISUAL POLISH: Medium gray (not dark)
  font-weight: 400; // VISUAL POLISH: Normal weight

  .rating-reviews {
    color: #9ca3af; // VISUAL POLISH: Light gray for review count
    font-weight: 400;
  }
}

.price-level {
  color: #6b7280; // VISUAL POLISH: Neutral gray (not green)
  font-weight: 400; // VISUAL POLISH: Normal weight
  font-size: 0.875rem;
}

// UX SIGNALS: Language-agnostic card signal display
.card-signal-text {
  margin: 0.25rem 0 0.375rem 0; // COMPACT: Reduced bottom margin
  font-size: 0.8125rem;
  font-weight: 400; // VISUAL POLISH: Normal weight (default)
  line-height: 1.4;

  // LANGUAGE-AGNOSTIC: Single-line with ellipsis truncation
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  max-width: 100%; // Ensure proper truncation

  // Color is set inline by getCardSignalColor()
  // Default color: #9ca3af (light gray)

  // VISUAL POLISH: Emphasized signals (OPEN_NOW only)
  &.emphasized {
    font-weight: 500; // VISUAL POLISH: Medium weight for emphasis
    // Color: #10b981 (green) set inline
  }
}

// DEPRECATED: Old open-status-text (kept for backward compat)
.open-status-text {
  margin: 0.25rem 0 0.5rem 0;
  font-size: 0.8125rem;
  color: #9ca3af;
  font-weight: 400;

  &.open {
    color: #10b981;
    font-weight: 500;
  }

  &.closed {
    color: #9ca3af;
  }

  &.unknown {
    color: #9ca3af;
    font-style: italic;
  }
}

// VISUAL POLISH: Single-line shortened address
.restaurant-address {
  margin: 0 0 0.375rem 0; // COMPACT: Reduced from 0.5rem
  color: #9ca3af; // VISUAL POLISH: Light gray (tertiary)
  font-size: 0.8125rem;
  font-weight: 400; // VISUAL POLISH: Normal weight
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.4;
}

// NEW: Compact city + distance line
.restaurant-address-compact {
  margin: 0 0 0.5rem 0;
  color: #9ca3af;
  font-size: 0.8125rem;
  font-weight: 400;
  line-height: 1.4;
  display: flex;
  align-items: center;
  gap: 0.25rem;
}

// VISUAL POLISH: Clean tags (max 2-3, no technical tags)
.restaurant-tags {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-top: 0.375rem; // COMPACT: Reduced from 0.5rem
}

.tag {
  padding: 0.25rem 0.625rem;
  background: transparent; // VISUAL POLISH: No background
  border: none; // VISUAL POLISH: No border (whitespace separation)
  border-radius: 12px;
  font-size: 0.75rem;
  color: #9ca3af; // VISUAL POLISH: Light gray (tertiary)
  white-space: nowrap;
  font-weight: 400; // VISUAL POLISH: Normal weight
}

// NEW: Horizontal action bar with labels
// DESKTOP (>= md): Side-aligned actions with border
// MOBILE (< md): Bottom bar inside card with top border
.action-bar {
  display: flex;
  gap: 0.75rem;
  align-items: center;
  flex-shrink: 0;
  
  // DESKTOP: Side-aligned (default) - RTL-safe
  align-self: flex-start;
  margin-inline-start: auto; // RTL-safe: use logical property
  padding-inline-start: 1rem; // RTL-safe: use logical property
  border-inline-start: 1px solid #e5e7eb; // RTL-safe: use logical property
}

.action-button {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 0.25rem;
  background: transparent;
  border: none;
  color: #6b7280;
  cursor: pointer;
  transition: all 0.15s ease;
  font-family: inherit;
  padding: 0.5rem 0.75rem;
  border-radius: 8px;
  min-width: 64px;

  &:hover:not(:disabled) {
    background: #f3f4f6;
    color: #111827;
  }

  &:active:not(:disabled) {
    background: #e5e7eb;
    transform: scale(0.97);
  }

  &:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }

  .action-icon {
    font-size: 1.25rem;
    line-height: 1;
  }

  .action-label {
    font-size: 0.75rem;
    font-weight: 500;
    line-height: 1;
    white-space: nowrap;
  }
}

// DEPRECATED: Old quick-actions (kept for backward compatibility)
.quick-actions {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  flex-shrink: 0;
  align-self: flex-start;

  .icon-only {
    width: 36px;
    height: 36px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    border: none;
    color: #9ca3af;
    cursor: pointer;
    transition: all 0.15s ease;
    font-family: inherit;
    border-radius: 50%;
    font-size: 1rem;

    &:hover:not(:disabled) {
      opacity: 0.6;
    }

    &:active:not(:disabled) {
      opacity: 0.4;
    }

    &:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }
  }
}

// MOBILE ONLY: AGGRESSIVE NOISE REDUCTION for fast scanning
@media (max-width: 768px) {
  .restaurant-card {
    // MOBILE: Vertical single-column layout with image at top
    flex-direction: column;
    padding: 0; // MOBILE IMAGE: Zero padding (image bleeds to edges)
    gap: 0; // MOBILE IMAGE: No gap (image flows into content)
    border-radius: 12px;
    overflow: hidden; // MOBILE IMAGE: Clip image to card border-radius

    // NOISE REDUCTION: Remove shadow entirely on mobile
    box-shadow: none;
    border: 1px solid #f3f4f6; // NOISE REDUCTION: Lighter border

    // MOBILE: Subtle tap feedback (no hover assumptions)
    &:active {
      opacity: 0.94; // NOISE REDUCTION: Less aggressive
      transform: none; // NOISE REDUCTION: No scale
      background: #fafafa; // NOISE REDUCTION: Subtle bg change
    }

    // MOBILE: Remove hover effects entirely
    &:hover {
      box-shadow: none;
      transform: none;
      border-color: #f3f4f6;
    }
  }

  // MOBILE: Image contextual (not primary CTA), optimized for scan speed
  // OPTIMIZED: Reduced height for lighter cards - target 2-3 cards per viewport
  .restaurant-photo,
  .restaurant-photo-placeholder {
    width: 100%;
    height: 100px; // OPTIMIZED: Reduced from 130px (20% lighter)
    min-height: 100px; // PERFORMANCE: Fixed height prevents CLS
    aspect-ratio: 16 / 9; // MOBILE: Standard video aspect ratio
    object-fit: cover;
    object-position: center;

    // MOBILE: Rounded corners ONLY on top (card flows from image)
    border-radius: 12px 12px 0 0;
  }

  .restaurant-photo-placeholder {
    font-size: 2rem; // MOBILE: Smaller placeholder icon
    color: #93c5fd; // Softer blue
    background: linear-gradient(135deg, #f0f9ff 0%, #dbeafe 100%);
    border: 1px dashed #bfdbfe;
  }

  // MOBILE IMAGE: Optional minimal overlay (if needed)
  // Usage: Add .restaurant-photo-overlay inside image container
  .restaurant-photo-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 0.5rem 0.75rem;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.3), transparent); // Max 30% opacity
    color: #fff;
    font-size: 0.75rem;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 0.375rem;

    // MOBILE: Only show critical info (e.g., "פתוח עכשיו" or ⭐ rating)
    // Max 2-3 words, no long text
  }

  .restaurant-info {
    // MOBILE IMAGE: Add padding to content area (image has none)
    // OPTIMIZED: Reduced padding for tighter cards
    padding: 0.5rem 0.625rem; // COMPACT: Further reduced

    // VISUAL POLISH: Consistent vertical rhythm
    display: flex;
    flex-direction: column;
    gap: 0.25rem; // OPTIMIZED: Tighter spacing (was 0.375rem)

    // VISUAL POLISH: Typography hierarchy (max 2 font weights)
    .restaurant-name {
      font-size: 1rem; // OPTIMIZED: Slightly smaller (was 1.0625rem)
      font-weight: 600; // PRIMARY: Semibold (weight 1 of 2)
      margin-bottom: 0; // VISUAL POLISH: Gap handles spacing
      line-height: 1.25; // OPTIMIZED: Tighter line height
      color: #111827; // PRIMARY: Dark text
    }

    .restaurant-meta {
      font-size: 0.75rem; // OPTIMIZED: Slightly smaller (was 0.8125rem)
      font-weight: 400; // SECONDARY: Normal (weight 2 of 2)
      gap: 0.25rem; // OPTIMIZED: Tighter gap
      margin-bottom: 0; // VISUAL POLISH: Gap handles spacing
      color: #6b7280; // SECONDARY: Medium gray

      // NOISE REDUCTION: Hide price level on mobile
      .price-level {
        display: none;
      }

      // VISUAL POLISH: De-emphasize low-review ratings (lighter color only)
      .rating {
        &[data-low-reviews="true"] {
          color: #9ca3af; // VISUAL POLISH: Light gray
          opacity: 1; // VISUAL POLISH: Use color, not opacity
        }
      }

      .rating-reviews {
        color: #9ca3af; // VISUAL POLISH: Lighter gray for review count
      }
    }

    .restaurant-address {
      font-size: 0.75rem; // TERTIARY: Small size
      font-weight: 400; // TERTIARY: Normal weight
      margin-bottom: 0; // VISUAL POLISH: Gap handles spacing
      color: #9ca3af; // TERTIARY: Light gray
      line-height: 1.4;
    }

    // UX SIGNALS: Mobile card signal display (language-agnostic)
    .card-signal-text,
    .open-status-text {
      font-size: 0.6875rem; // OPTIMIZED: Smaller (was 0.75rem)
      font-weight: 400; // TERTIARY: Normal weight (default)
      margin: 0; // VISUAL POLISH: Gap handles spacing
      line-height: 1.3; // OPTIMIZED: Tighter

      // LANGUAGE-AGNOSTIC: Single-line with ellipsis truncation
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      max-width: 100%; // Ensure proper truncation

      // VISUAL POLISH: Emphasized signals (OPEN_NOW only)
      &.emphasized {
        font-weight: 500; // VISUAL POLISH: Medium weight for emphasis
      }

      // NEW: Opening time display
      .opening-time {
        color: #6b7280;
        font-weight: 400;
      }

      // DEPRECATED: Old classes (backward compat)
      &.closed {
        color: #9ca3af; // VISUAL POLISH: Light gray
      }

      &.open {
        color: #10b981; // VISUAL POLISH: Green accent
        font-weight: 500;
      }
    }

    // NEW: Cuisine tag mobile
    .cuisine-tag {
      font-size: 0.6875rem; // OPTIMIZED: Smaller
      margin-bottom: 0;
    }

    // NEW: Compact address line
    .restaurant-address-compact {
      font-size: 0.6875rem; // OPTIMIZED: Smaller
      margin-bottom: 0;
    }

    // VISUAL POLISH: Max 1-2 tags, calm styling
    .restaurant-tags {
      gap: 0.25rem;
      margin-top: 0; // VISUAL POLISH: Gap handles spacing

      .tag {
        font-size: 0.6875rem; // TERTIARY: Tiny size
        font-weight: 400; // TERTIARY: Normal weight
        padding: 0.125rem 0.5rem;
        background: transparent; // VISUAL POLISH: No background
        border: none;
        color: #9ca3af; // VISUAL POLISH: Light gray (not accent)
      }

      // NOISE REDUCTION: Show max 2 tags on mobile
      .tag:nth-child(n+3) {
        display: none;
      }
    }
  }

  // MOBILE (< md): Action bar as bottom bar inside card
  // OPTIMIZED: Tighter action bar with primary action emphasis
  .action-bar {
    // Reset desktop side-alignment - RTL-safe
    align-self: stretch;
    margin-inline-start: 0; // RTL-safe
    padding-inline-start: 0; // RTL-safe
    border-inline-start: none; // RTL-safe
    
    // Bottom bar layout
    flex-direction: row;
    justify-content: space-between; // OPTIMIZED: Changed from space-evenly
    gap: 0.375rem; // OPTIMIZED: Tighter gap
    padding: 0.375rem 0.625rem; // COMPACT: Further reduced
    border-block-start: 1px solid #f3f4f6; // RTL-safe: use logical property

    .action-button {
      min-width: auto;
      padding: 0.5rem 0.5rem; // OPTIMIZED: Tighter padding
      
      // PRIMARY ACTION: Navigate button (first button)
      &:first-child {
        flex: 1.5; // EMPHASIS: Larger than other buttons
        background: #2563eb; // PRIMARY: Blue background
        color: white;
        border-radius: 8px;
        font-weight: 500;
        
        &:hover:not(:disabled) {
          background: #1d4ed8;
        }

        &:active:not(:disabled) {
          background: #1e40af;
          transform: scale(0.97);
        }
        
        .action-label {
          font-weight: 500;
        }
      }
      
      // SECONDARY ACTIONS: Call and Save
      &:not(:first-child) {
        flex: 1;
        
        &:hover:not(:disabled) {
          background: transparent;
        }

        &:active:not(:disabled) {
          background: #f3f4f6;
          transform: scale(0.95);
        }
      }

      .action-icon {
        font-size: 1rem; // OPTIMIZED: Slightly smaller
      }

      .action-label {
        font-size: 0.625rem; // OPTIMIZED: Smaller
      }
    }
  }

  // DEPRECATED: Old quick-actions for mobile
  .quick-actions {
    flex-direction: row;
    justify-content: flex-start;
    gap: 0.5rem;
    padding: 0 0.875rem 0.875rem;
    margin-top: 0;

    .icon-only {
      width: 44px;
      height: 44px;
      font-size: 1rem;
      border: none;
      background: transparent;
      color: #9ca3af;

      &:active:not(:disabled) {
        opacity: 0.5;
        transform: none;
      }
    }
  }
}