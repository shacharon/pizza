:host {
    // CRITICAL: display: block (NOT flex) for natural document scroll
    display: block;
    min-height: 100vh;
    // Mobile: Prevent any transform that breaks sticky
    transform: none;
    -webkit-transform: none;
}

.topbar {
    background: #111;
    color: #fff;
    /* FIX: Ensure topbar is always above sticky search header */
    position: relative;
    z-index: 200;
    /* Higher than search-header (z-index: 150) */

    // Mobile: Safe area support
    padding-top: env(safe-area-inset-top, 0);
}

.nav {
    max-width: 960px;
    margin: 0 auto;
    display: flex;
    gap: 16px;
    align-items: center;
    padding: 10px 16px;
    padding-left: max(16px, env(safe-area-inset-left, 16px));
    padding-right: max(16px, env(safe-area-inset-right, 16px));
}

.brand {
    font-weight: 600;
}

.nav a {
    color: #ddd;
    text-decoration: none;
}

.nav a.active {
    color: #fff;
    text-decoration: underline;
}

.container {
    // CRITICAL: display: block (NOT flex) for natural document scroll
    display: block;
    min-height: calc(100vh - 50px); // Account for topbar height
    
    // CRITICAL FIX: overflow: visible allows sticky positioning in children
    // overflow: hidden breaks position: sticky for descendants
    overflow: visible;

    // Mobile: Critical - no transform that breaks sticky
    transform: none;
    -webkit-transform: none;
    // Mobile: Create own stacking context
    position: relative;
    z-index: 1;
}